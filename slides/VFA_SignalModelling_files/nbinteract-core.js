!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=522)}([function(t,e,n){(function(t,n){var i;!function(){var r="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},o=r._,s=Array.prototype,a=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,u=s.push,c=s.slice,h=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,_=Object.create,g=function(){},m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};e.nodeType?r._=m:(!n.nodeType&&n.exports&&(e=n.exports=m),e._=m),m.VERSION="1.9.1";var v,y=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,n){return m.iteratee!==v?m.iteratee(t,e):null==t?m.identity:m.isFunction(t)?y(t,e,n):m.isObject(t)&&!m.isArray(t)?m.matcher(t):m.property(t)};m.iteratee=v=function(t,e){return b(t,e,1/0)};var w=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=i,t.apply(this,o)}},x=function(t){if(!m.isObject(t))return{};if(_)return _(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},M=function(t,e){return null!=t&&d.call(t,e)},E=function(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0},j=Math.pow(2,53)-1,S=k("length"),C=function(t){var e=S(t);return"number"==typeof e&&e>=0&&e<=j};m.each=m.forEach=function(t,e,n){var i,r;if(e=y(e,n),C(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=m.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},m.map=m.collect=function(t,e,n){e=b(e,n);for(var i=!C(t)&&m.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o};var A=function(t){return function(e,n,i,r){var o=arguments.length>=3;return function(e,n,i,r){var o=!C(e)&&m.keys(e),s=(o||e).length,a=t>0?0:s-1;for(r||(i=e[o?o[a]:a],a+=t);a>=0&&a<s;a+=t){var l=o?o[a]:a;i=n(i,e[l],l,e)}return i}(e,y(n,r,4),i,o)}};m.reduce=m.foldl=m.inject=A(1),m.reduceRight=m.foldr=A(-1),m.find=m.detect=function(t,e,n){var i=(C(t)?m.findIndex:m.findKey)(t,e,n);if(void 0!==i&&-1!==i)return t[i]},m.filter=m.select=function(t,e,n){var i=[];return e=b(e,n),m.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},m.reject=function(t,e,n){return m.filter(t,m.negate(b(e)),n)},m.every=m.all=function(t,e,n){e=b(e,n);for(var i=!C(t)&&m.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},m.some=m.any=function(t,e,n){e=b(e,n);for(var i=!C(t)&&m.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},m.contains=m.includes=m.include=function(t,e,n,i){return C(t)||(t=m.values(t)),("number"!=typeof n||i)&&(n=0),m.indexOf(t,e,n)>=0},m.invoke=w(function(t,e,n){var i,r;return m.isFunction(e)?r=e:m.isArray(e)&&(i=e.slice(0,-1),e=e[e.length-1]),m.map(t,function(t){var o=r;if(!o){if(i&&i.length&&(t=E(t,i)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})}),m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matcher(e))},m.findWhere=function(t,e){return m.find(t,m.matcher(e))},m.max=function(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=C(t)?t:m.values(t)).length;a<l;a++)null!=(i=t[a])&&i>o&&(o=i);else e=b(e,n),m.each(t,function(t,n,i){((r=e(t,n,i))>s||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},m.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=C(t)?t:m.values(t)).length;a<l;a++)null!=(i=t[a])&&i<o&&(o=i);else e=b(e,n),m.each(t,function(t,n,i){((r=e(t,n,i))<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},m.shuffle=function(t){return m.sample(t,1/0)},m.sample=function(t,e,n){if(null==e||n)return C(t)||(t=m.values(t)),t[m.random(t.length-1)];var i=C(t)?m.clone(t):m.values(t),r=S(i);e=Math.max(Math.min(e,r),0);for(var o=r-1,s=0;s<e;s++){var a=m.random(s,o),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,e)},m.sortBy=function(t,e,n){var i=0;return e=b(e,n),m.pluck(m.map(t,function(t,n,r){return{value:t,index:i++,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var O=function(t,e){return function(n,i,r){var o=e?[[],[]]:{};return i=b(i,r),m.each(n,function(e,r){var s=i(e,r,n);t(o,e,s)}),o}};m.groupBy=O(function(t,e,n){M(t,n)?t[n].push(e):t[n]=[e]}),m.indexBy=O(function(t,e,n){t[n]=e}),m.countBy=O(function(t,e,n){M(t,n)?t[n]++:t[n]=1});var T=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(t){return t?m.isArray(t)?c.call(t):m.isString(t)?t.match(T):C(t)?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:C(t)?t.length:m.keys(t).length},m.partition=O(function(t,e,n){t[n?0:1].push(e)},!0),m.first=m.head=m.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:m.initial(t,t.length-e)},m.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},m.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:m.rest(t,Math.max(0,t.length-e))},m.rest=m.tail=m.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},m.compact=function(t){return m.filter(t,Boolean)};var P=function(t,e,n,i){for(var r=(i=i||[]).length,o=0,s=S(t);o<s;o++){var a=t[o];if(C(a)&&(m.isArray(a)||m.isArguments(a)))if(e)for(var l=0,u=a.length;l<u;)i[r++]=a[l++];else P(a,e,n,i),r=i.length;else n||(i[r++]=a)}return i};m.flatten=function(t,e){return P(t,e,!1)},m.without=w(function(t,e){return m.difference(t,e)}),m.uniq=m.unique=function(t,e,n,i){m.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=b(n,i));for(var r=[],o=[],s=0,a=S(t);s<a;s++){var l=t[s],u=n?n(l,s,t):l;e&&!n?(s&&o===u||r.push(l),o=u):n?m.contains(o,u)||(o.push(u),r.push(l)):m.contains(r,l)||r.push(l)}return r},m.union=w(function(t){return m.uniq(P(t,!0,!0))}),m.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=S(t);i<r;i++){var o=t[i];if(!m.contains(e,o)){var s;for(s=1;s<n&&m.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},m.difference=w(function(t,e){return e=P(e,!0,!0),m.filter(t,function(t){return!m.contains(e,t)})}),m.unzip=function(t){for(var e=t&&m.max(t,S).length||0,n=Array(e),i=0;i<e;i++)n[i]=m.pluck(t,i);return n},m.zip=w(m.unzip),m.object=function(t,e){for(var n={},i=0,r=S(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n};var D=function(t){return function(e,n,i){n=b(n,i);for(var r=S(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}};m.findIndex=D(1),m.findLastIndex=D(-1),m.sortedIndex=function(t,e,n,i){for(var r=(n=b(n,i,1))(e),o=0,s=S(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o};var L=function(t,e,n){return function(i,r,o){var s=0,a=S(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=e(c.call(i,s,a),m.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(i[o]===r)return o;return-1}};m.indexOf=L(1,m.findIndex,m.sortedIndex),m.lastIndexOf=L(-1,m.findLastIndex),m.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r},m.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(c.call(t,i,i+=e));return n};var R=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=x(t.prototype),s=t.apply(o,r);return m.isObject(s)?s:o};m.bind=w(function(t,e,n){if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");var i=w(function(r){return R(t,i,e,this,n.concat(r))});return i}),m.partial=w(function(t,e){var n=m.partial.placeholder,i=function(){for(var r=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===n?arguments[r++]:e[a];for(;r<arguments.length;)s.push(arguments[r++]);return R(t,i,this,this,s)};return i}),m.partial.placeholder=m,m.bindAll=w(function(t,e){var n=(e=P(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=m.bind(t[i],t)}}),m.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return M(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},m.delay=w(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(t,e,n){var i,r,o,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:m.now(),i=null,s=t.apply(r,o),i||(r=o=null)},u=function(){var u=m.now();a||!1!==n.leading||(a=u);var c=e-(u-a);return r=this,o=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),a=u,s=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(i),a=0,i=r=o=null},u},m.debounce=function(t,e,n){var i,r,o=function(e,n){i=null,n&&(r=t.apply(e,n))},s=w(function(s){if(i&&clearTimeout(i),n){var a=!i;i=setTimeout(o,e),a&&(r=t.apply(this,s))}else i=m.delay(o,e,this,s);return r});return s.cancel=function(){clearTimeout(i),i=null},s},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},m.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},m.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},m.once=m.partial(m.before,2),m.restArguments=w;var I=!{toString:null}.propertyIsEnumerable("toString"),B=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],N=function(t,e){var n=B.length,i=t.constructor,r=m.isFunction(i)&&i.prototype||a,o="constructor";for(M(t,o)&&!m.contains(e,o)&&e.push(o);n--;)(o=B[n])in t&&t[o]!==r[o]&&!m.contains(e,o)&&e.push(o)};m.keys=function(t){if(!m.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)M(t,n)&&e.push(n);return I&&N(t,e),e},m.allKeys=function(t){if(!m.isObject(t))return[];var e=[];for(var n in t)e.push(n);return I&&N(t,e),e},m.values=function(t){for(var e=m.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},m.mapObject=function(t,e,n){e=b(e,n);for(var i=m.keys(t),r=i.length,o={},s=0;s<r;s++){var a=i[s];o[a]=e(t[a],a,t)}return o},m.pairs=function(t){for(var e=m.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},m.invert=function(t){for(var e={},n=m.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},m.functions=m.methods=function(t){var e=[];for(var n in t)m.isFunction(t[n])&&e.push(n);return e.sort()};var z=function(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;l<a;l++){var u=s[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}};m.extend=z(m.allKeys),m.extendOwn=m.assign=z(m.keys),m.findKey=function(t,e,n){e=b(e,n);for(var i,r=m.keys(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i};var F,q,U=function(t,e,n){return e in n};m.pick=w(function(t,e){var n={},i=e[0];if(null==t)return n;m.isFunction(i)?(e.length>1&&(i=y(i,e[1])),e=m.allKeys(t)):(i=U,e=P(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var s=e[r],a=t[s];i(a,s,t)&&(n[s]=a)}return n}),m.omit=w(function(t,e){var n,i=e[0];return m.isFunction(i)?(i=m.negate(i),e.length>1&&(n=e[1])):(e=m.map(P(e,!1,!1),String),i=function(t,n){return!m.contains(e,n)}),m.pick(t,i,n)}),m.defaults=z(m.allKeys,!0),m.create=function(t,e){var n=x(t);return e&&m.extendOwn(n,e),n},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t},m.isMatch=function(t,e){var n=m.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0},F=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;return("function"===r||"object"===r||"object"==typeof e)&&q(t,e,n,i)},q=function(t,e,n,i){t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return l.valueOf.call(t)===l.valueOf.call(e)}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(m.isFunction(s)&&s instanceof s&&m.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!F(t[u],e[u],n,i))return!1}else{var c,d=m.keys(t);if(u=d.length,m.keys(e).length!==u)return!1;for(;u--;)if(c=d[u],!M(e,c)||!F(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0},m.isEqual=function(t,e){return F(t,e)},m.isEmpty=function(t){return null==t||(C(t)&&(m.isArray(t)||m.isString(t)||m.isArguments(t))?0===t.length:0===m.keys(t).length)},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=f||function(t){return"[object Array]"===h.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){m["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),m.isArguments(arguments)||(m.isArguments=function(t){return M(t,"callee")});var H=r.document&&r.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof H&&(m.isFunction=function(t){return"function"==typeof t||!1}),m.isFinite=function(t){return!m.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&isNaN(t)},m.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){if(!m.isArray(e))return M(t,e);for(var n=e.length,i=0;i<n;i++){var r=e[i];if(null==t||!d.call(t,r))return!1;t=t[r]}return!!n},m.noConflict=function(){return r._=o,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=function(t){return m.isArray(t)?function(e){return E(e,t)}:k(t)},m.propertyOf=function(t){return null==t?function(){}:function(e){return m.isArray(e)?E(t,e):t[e]}},m.matcher=m.matches=function(t){return t=m.extendOwn({},t),function(e){return m.isMatch(e,t)}},m.times=function(t,e,n){var i=Array(Math.max(0,t));e=y(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},V=m.invert(W),K=function(t){var e=function(e){return t[e]},n="(?:"+m.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};m.escape=K(W),m.unescape=K(V),m.result=function(t,e,n){m.isArray(e)||(e=[e]);var i=e.length;if(!i)return m.isFunction(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=m.isFunction(o)?o.call(t):o}return t};var $=0;m.uniqueId=function(t){var e=++$+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,Y={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,X=function(t){return"\\"+Y[t]};m.template=function(t,e,n){!e&&n&&(e=n),e=m.defaults({},e,m.templateSettings);var i,r=RegExp([(e.escape||G).source,(e.interpolate||G).source,(e.evaluate||G).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(r,function(e,n,i,r,a){return s+=t.slice(o,a).replace(J,X),o=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(s+="';\n"+r+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(e.variable||"obj","_",s)}catch(t){throw t.source=s,t}var a=function(t){return i.call(this,t,m)},l=e.variable||"obj";return a.source="function("+l+"){\n"+s+"}",a},m.chain=function(t){var e=m(t);return e._chain=!0,e};var Z=function(t,e){return t._chain?m(e).chain():e};m.mixin=function(t){return m.each(m.functions(t),function(e){var n=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),Z(this,n.apply(m,t))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];m.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],Z(this,n)}}),m.each(["concat","join","slice"],function(t){var e=s[t];m.prototype[t]=function(){return Z(this,e.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},void 0===(i=function(){return m}.apply(e,[]))||(n.exports=i)}()}).call(this,n(10),n(91)(t))},function(t,e,n){var i,r;!function(){var o={version:"3.5.17"},s=[].slice,a=function(t){return s.call(t)},l=this.document;function u(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(l)try{a(l.documentElement.childNodes)[0].nodeType}catch(t){a=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var h=this.Element.prototype,d=h.setAttribute,f=h.setAttributeNS,p=this.CSSStyleDeclaration.prototype,_=p.setProperty;h.setAttribute=function(t,e){d.call(this,t,e+"")},h.setAttributeNS=function(t,e,n){f.call(this,t,e,n+"")},p.setProperty=function(t,e,n){_.call(this,t,e+"",n)}}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function m(t){return null===t?NaN:+t}function v(t){return!isNaN(t)}function y(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}o.ascending=g,o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},o.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},o.extent=function(t,e){var n,i,r,o=-1,s=t.length;if(1===arguments.length){for(;++o<s;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=t[o])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++o<s;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},o.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)v(n=+t[o])&&(i+=n);else for(;++o<r;)v(n=+e.call(t,t[o],o))&&(i+=n);return i},o.mean=function(t,e){var n,i=0,r=t.length,o=-1,s=r;if(1===arguments.length)for(;++o<r;)v(n=m(t[o]))?i+=n:--s;else for(;++o<r;)v(n=m(e.call(t,t[o],o)))?i+=n:--s;if(s)return i/s},o.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},o.median=function(t,e){var n,i=[],r=t.length,s=-1;if(1===arguments.length)for(;++s<r;)v(n=m(t[s]))&&i.push(n);else for(;++s<r;)v(n=m(e.call(t,t[s],s)))&&i.push(n);if(i.length)return o.quantile(i.sort(g),.5)},o.variance=function(t,e){var n,i,r=t.length,o=0,s=0,a=-1,l=0;if(1===arguments.length)for(;++a<r;)v(n=m(t[a]))&&(s+=(i=n-o)*(n-(o+=i/++l)));else for(;++a<r;)v(n=m(e.call(t,t[a],a)))&&(s+=(i=n-o)*(n-(o+=i/++l)));if(l>1)return s/(l-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t?Math.sqrt(t):t};var b=y(g);function w(t){return t.length}o.bisectLeft=b.left,o.bisect=o.bisectRight=b.right,o.bisector=function(t){return y(1===t.length?function(e,n){return g(t(e),n)}:t)},o.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},o.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},o.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},o.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=o.min(t,w),i=new Array(n);++e<n;)for(var r,s=-1,a=i[e]=new Array(r);++s<r;)a[s]=t[s][e];return i},o.zip=function(){return o.transpose(arguments)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--s]=i[e];return n};var x=Math.abs;function k(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function M(){this._=Object.create(null)}o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],o=function(t){var e=1;for(;t*e%1;)e*=10;return e}(x(n)),s=-1;if(t*=o,e*=o,(n*=o)<0)for(;(i=t+n*++s)>e;)r.push(i/o);else for(;(i=t+n*++s)<e;)r.push(i/o);return r},o.map=function(t,e){var n=new M;if(t instanceof M)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var s in t)n.set(s,t[s]);return n};var E="__proto__",j="\0";function S(t){return(t+="")===E||t[0]===j?j+t:t}function C(t){return(t+="")[0]===j?t.slice(1):t}function A(t){return S(t)in this._}function O(t){return(t=S(t))in this._&&delete this._[t]}function T(){var t=[];for(var e in this._)t.push(C(e));return t}function P(){var t=0;for(var e in this._)++t;return t}function D(){for(var t in this._)return!1;return!0}function L(){this._=Object.create(null)}function R(t){return t}function I(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function B(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=N.length;n<i;++n){var r=N[n]+e;if(r in t)return r}}k(M,{has:A,get:function(t){return this._[S(t)]},set:function(t,e){return this._[S(t)]=e},remove:O,keys:T,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:C(e),value:this._[e]});return t},size:P,empty:D,forEach:function(t){for(var e in this._)t.call(this,C(e),this._[e])}}),o.nest=function(){var t,e,n={},i=[],r=[];function s(r,o,a){if(a>=i.length)return e?e.call(n,o):t?o.sort(t):o;for(var l,u,c,h,d=-1,f=o.length,p=i[a++],_=new M;++d<f;)(h=_.get(l=p(u=o[d])))?h.push(u):_.set(l,[u]);return r?(u=r(),c=function(t,e){u.set(t,s(r,e,a))}):(u={},c=function(t,e){u[t]=s(r,e,a)}),_.forEach(c),u}return n.map=function(t,e){return s(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=i.length)return e;var o=[],s=r[n++];return e.forEach(function(e,i){o.push({key:e,values:t(i,n)})}),s?o.sort(function(t,e){return s(t.key,e.key)}):o}(s(o.map,t,0),0)},n.key=function(t){return i.push(t),n},n.sortKeys=function(t){return r[i.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},o.set=function(t){var e=new L;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},k(L,{has:A,add:function(t){return this._[S(t+="")]=!0,t},remove:O,values:T,size:P,empty:D,forEach:function(t){for(var e in this._)t.call(this,C(e))}}),o.behavior={},o.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=I(t,e,e[n]);return t};var N=["webkit","ms","moz","Moz","o","O"];function z(){}function F(){}function q(t){var e=[],n=new M;function i(){for(var n,i=e,r=-1,o=i.length;++r<o;)(n=i[r].on)&&n.apply(this,arguments);return t}return i.on=function(i,r){var o,s=n.get(i);return arguments.length<2?s&&s.on:(s&&(s.on=null,e=e.slice(0,o=e.indexOf(s)).concat(e.slice(o+1)),n.remove(i)),r&&e.push(n.set(i,{on:r})),t)},i}function U(){o.event.preventDefault()}function H(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function W(t){for(var e=new F,n=0,i=arguments.length;++n<i;)e[arguments[n]]=q(e);return e.of=function(n,i){return function(r){try{var s=r.sourceEvent=o.event;r.target=t,o.event=r,e[r.type].apply(n,i)}finally{o.event=s}}},e}o.dispatch=function(){for(var t=new F,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=q(t);return t},F.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},o.event=null,o.requote=function(t){return t.replace(V,"\\$&")};var V=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,K={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function $(t){return K(t,X),t}var G=function(t,e){return e.querySelector(t)},Y=function(t,e){return e.querySelectorAll(t)},J=function(t,e){var n=t.matches||t[B(t,"matchesSelector")];return(J=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(G=function(t,e){return Sizzle(t,e)[0]||null},Y=Sizzle,J=Sizzle.matchesSelector),o.selection=function(){return o.select(l.documentElement)};var X=o.selection.prototype=[];function Z(t){return"function"==typeof t?t:function(){return G(t,this)}}function Q(t){return"function"==typeof t?t:function(){return Y(t,this)}}X.select=function(t){var e,n,i,r,o=[];t=Z(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(i=this[s]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,s)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return $(o)},X.selectAll=function(t){var e,n,i=[];t=Q(t);for(var r=-1,o=this.length;++r<o;)for(var s=this[r],l=-1,u=s.length;++l<u;)(n=s[l])&&(i.push(e=a(t.call(n,n.__data__,l,r))),e.parentNode=n);return $(i)};var tt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nt(t,e){return t=o.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function it(t){return t.trim().replace(/\s+/g," ")}function rt(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function ot(t){return(t+"").trim().split(/^|\s+/)}function st(t,e){var n=(t=ot(t).map(at)).length;return"function"==typeof e?function(){for(var i=-1,r=e.apply(this,arguments);++i<n;)t[i](this,r)}:function(){for(var i=-1;++i<n;)t[i](this,e)}}function at(t){var e=rt(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",it(r+" "+t))):n.setAttribute("class",it(r.replace(e," ")))}}function lt(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}:function(){this.style.setProperty(t,e,n)}}function ut(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function ct(t){return"function"==typeof t?t:(t=o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tt&&e.documentElement.namespaceURI===tt?e.createElement(t):e.createElementNS(n,t)}}function ht(){var t=this.parentNode;t&&t.removeChild(this)}function dt(t){return{__data__:t}}function ft(t){return function(){return J(this,t)}}function pt(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,o=t[n],s=0,a=o.length;s<a;s++)(r=o[s])&&e(r,s,n);return t}function _t(t){return K(t,gt),t}o.ns={prefix:et,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),et.hasOwnProperty(n)?{space:et[n],local:t}:t}},X.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=o.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(nt(e,t[e]));return this}return this.each(nt(t,e))},X.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=ot(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!rt(t[r]).test(e))return!1;return!0}for(e in t)this.each(st(e,t[e]));return this}return this.each(st(t,e))},X.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(lt(n,t[n],e));return this}if(i<2){var r=this.node();return c(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(lt(t,e,n))},X.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(ut(e,t[e]));return this}return this.each(ut(t,e))},X.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},X.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},X.append=function(t){return t=ct(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},X.insert=function(t,e){return t=ct(t),e=Z(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},X.remove=function(){return this.each(ht)},X.data=function(t,e){var n,i,r=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++r<o;)(i=n[r])&&(t[r]=i.__data__);return t}function s(t,n){var i,r,o,s=t.length,c=n.length,h=Math.min(s,c),d=new Array(c),f=new Array(c),p=new Array(s);if(e){var _,g=new M,m=new Array(s);for(i=-1;++i<s;)(r=t[i])&&(g.has(_=e.call(r,r.__data__,i))?p[i]=r:g.set(_,r),m[i]=_);for(i=-1;++i<c;)(r=g.get(_=e.call(n,o=n[i],i)))?!0!==r&&(d[i]=r,r.__data__=o):f[i]=dt(o),g.set(_,!0);for(i=-1;++i<s;)i in m&&!0!==g.get(m[i])&&(p[i]=t[i])}else{for(i=-1;++i<h;)r=t[i],o=n[i],r?(r.__data__=o,d[i]=r):f[i]=dt(o);for(;i<c;++i)f[i]=dt(n[i]);for(;i<s;++i)p[i]=t[i]}f.update=d,f.parentNode=d.parentNode=p.parentNode=t.parentNode,a.push(f),l.push(d),u.push(p)}var a=_t([]),l=$([]),u=$([]);if("function"==typeof t)for(;++r<o;)s(n=this[r],t.call(n,n.parentNode.__data__,r));else for(;++r<o;)s(n=this[r],t);return l.enter=function(){return a},l.exit=function(){return u},l},X.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},X.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=ft(t));for(var o=0,s=this.length;o<s;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var a=0,l=n.length;a<l;a++)(i=n[a])&&t.call(i,i.__data__,a,o)&&e.push(i)}return $(r)},X.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},X.sort=function(t){t=function(t){arguments.length||(t=g);return function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},X.each=function(t){return pt(this,function(e,n,i){t.call(e,e.__data__,n,i)})},X.call=function(t){var e=a(arguments);return t.apply(e[0]=this,e),this},X.empty=function(){return!this.node()},X.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},X.size=function(){var t=0;return pt(this,function(){++t}),t};var gt=[];function mt(t,e,n){var i="__on"+t,r=t.indexOf("."),s=yt;r>0&&(t=t.slice(0,r));var l=vt.get(t);function u(){var e=this[i];e&&(this.removeEventListener(t,e,e.$),delete this[i])}return l&&(t=l,s=bt),r?e?function(){var r=s(e,a(arguments));u.call(this),this.addEventListener(t,this[i]=r,r.$=n),r._=e}:u:e?z:function(){var e,n=new RegExp("^__on([^.]+)"+o.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}}o.selection.enter=_t,o.selection.enter.prototype=gt,gt.append=X.append,gt.empty=X.empty,gt.node=X.node,gt.call=X.call,gt.size=X.size,gt.select=function(t){for(var e,n,i,r,o,s=[],a=-1,l=this.length;++a<l;){i=(r=this[a]).update,s.push(e=[]),e.parentNode=r.parentNode;for(var u=-1,c=r.length;++u<c;)(o=r[u])?(e.push(i[u]=n=t.call(r.parentNode,o.__data__,u,a)),n.__data__=o.__data__):e.push(null)}return $(s)},gt.insert=function(t,e){var n,i,r;return arguments.length<2&&(n=this,e=function(t,e,o){var s,a=n[o].update,l=a.length;for(o!=r&&(r=o,i=0),e>=i&&(i=e+1);!(s=a[i])&&++i<l;);return s}),X.insert.call(this,t,e)},o.select=function(t){var e;return"string"==typeof t?(e=[G(t,l)]).parentNode=l.documentElement:(e=[t]).parentNode=u(t),$([e])},o.selectAll=function(t){var e;return"string"==typeof t?(e=a(Y(t,l))).parentNode=l.documentElement:(e=a(t)).parentNode=null,$([e])},X.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(mt(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(mt(t,e,n))};var vt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function yt(t,e){return function(n){var i=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=i}}}function bt(t,e){var n=yt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}l&&vt.forEach(function(t){"on"+t in l&&vt.remove(t)});var wt,xt=0;function kt(t){var e=".dragsuppress-"+ ++xt,n="click"+e,i=o.select(c(t)).on("touchmove"+e,U).on("dragstart"+e,U).on("selectstart"+e,U);if(null==wt&&(wt=!("onselectstart"in t)&&B(t.style,"userSelect")),wt){var r=u(t).style,s=r[wt];r[wt]="none"}return function(t){if(i.on(e,null),wt&&(r[wt]=s),t){var o=function(){i.on(n,null)};i.on(n,function(){U(),o()},!0),setTimeout(o,0)}}}o.mouse=function(t){return Et(t,H())};var Mt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Et(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(Mt<0){var r=c(t);if(r.scrollX||r.scrollY){var s=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Mt=!(s.f||s.e),n.remove()}}return Mt?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function jt(){return o.event.changedTouches[0].identifier}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=H().changedTouches),e)for(var i,r=0,o=e.length;r<o;++r)if((i=e[r]).identifier===n)return Et(t,i)},o.behavior.drag=function(){var t=W(r,"drag","dragstart","dragend"),e=null,n=s(z,o.mouse,c,"mousemove","mouseup"),i=s(jt,o.touch,R,"touchmove","touchend");function r(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function s(n,i,r,s,a){return function(){var l,u=o.event.target.correspondingElement||o.event.target,c=this.parentNode,h=t.of(this,arguments),d=0,f=n(),p=".drag"+(null==f?"":"-"+f),_=o.select(r(u)).on(s+p,function(){var t,e,n=i(c,f);if(!n)return;t=n[0]-m[0],e=n[1]-m[1],d|=t|e,m=n,h({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:t,dy:e})}).on(a+p,function(){if(!i(c,f))return;_.on(s+p,null).on(a+p,null),g(d),h({type:"dragend"})}),g=kt(u),m=i(c,f);l=e?[(l=e.apply(this,arguments)).x-m[0],l.y-m[1]]:[0,0],h({type:"dragstart"})}}return r.origin=function(t){return arguments.length?(e=t,r):e},o.rebind(r,t,"on")},o.touches=function(t,e){return arguments.length<2&&(e=H().touches),e?a(e).map(function(e){var n=Et(t,e);return n.identifier=e.identifier,n}):[]};var St=1e-6,Ct=St*St,At=Math.PI,Ot=2*At,Tt=Ot-St,Pt=At/2,Dt=At/180,Lt=180/At;function Rt(t){return t>0?1:t<0?-1:0}function It(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Bt(t){return t>1?0:t<-1?At:Math.acos(t)}function Nt(t){return t>1?Pt:t<-1?-Pt:Math.asin(t)}function zt(t){return((t=Math.exp(t))+1/t)/2}function Ft(t){return(t=Math.sin(t/2))*t}var qt=Math.SQRT2;o.interpolateZoom=function(t,e){var n,i,r=t[0],o=t[1],s=t[2],a=e[0],l=e[1],u=e[2],c=a-r,h=l-o,d=c*c+h*h;if(d<Ct)i=Math.log(u/s)/qt,n=function(t){return[r+t*c,o+t*h,s*Math.exp(qt*t*i)]};else{var f=Math.sqrt(d),p=(u*u-s*s+4*d)/(2*s*2*f),_=(u*u-s*s-4*d)/(2*u*2*f),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(_*_+1)-_);i=(m-g)/qt,n=function(t){var e,n=t*i,a=zt(g),l=s/(2*f)*(a*(e=qt*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[r+l*c,o+l*h,s*a/zt(qt*n+g)]}}return n.duration=1e3*i,n},o.behavior.zoom=function(){var t,e,n,i,r,s,a,u,h,d={x:0,y:0,k:1},f=[960,500],p=Wt,_=250,g=0,m="mousedown.zoom",v="mousemove.zoom",y="mouseup.zoom",b="touchstart.zoom",w=W(x,"zoomstart","zoom","zoomend");function x(t){t.on(m,T).on(Ht+".zoom",D).on("dblclick.zoom",L).on(b,P)}function k(t){return[(t[0]-d.x)/d.k,(t[1]-d.y)/d.k]}function M(t){d.k=Math.max(p[0],Math.min(p[1],t))}function E(t,e){e=function(t){return[t[0]*d.k+d.x,t[1]*d.k+d.y]}(e),d.x+=t[0]-e[0],d.y+=t[1]-e[1]}function j(t,n,i,r){t.__chart__={x:d.x,y:d.y,k:d.k},M(Math.pow(2,r)),E(e=n,i),t=o.select(t),_>0&&(t=t.transition().duration(_)),t.call(x.event)}function S(){a&&a.domain(s.range().map(function(t){return(t-d.x)/d.k}).map(s.invert)),h&&h.domain(u.range().map(function(t){return(t-d.y)/d.k}).map(u.invert))}function C(t){g++||t({type:"zoomstart"})}function A(t){S(),t({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function O(t){--g||(t({type:"zoomend"}),e=null)}function T(){var t=this,e=w.of(t,arguments),n=0,i=o.select(c(t)).on(v,function(){n=1,E(o.mouse(t),r),A(e)}).on(y,function(){i.on(v,null).on(y,null),s(n),O(e)}),r=k(o.mouse(t)),s=kt(t);ma.call(t),C(e)}function P(){var t,e=this,n=w.of(e,arguments),i={},s=0,a=".zoom-"+o.event.changedTouches[0].identifier,l="touchmove"+a,u="touchend"+a,c=[],h=o.select(e),f=kt(e);function p(){var n=o.touches(e);return t=d.k,n.forEach(function(t){t.identifier in i&&(i[t.identifier]=k(t))}),n}function _(){var t=o.event.target;o.select(t).on(l,g).on(u,v),c.push(t);for(var n=o.event.changedTouches,a=0,h=n.length;a<h;++a)i[n[a].identifier]=null;var f=p(),_=Date.now();if(1===f.length){if(_-r<500){var m=f[0];j(e,m,i[m.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),U()}r=_}else if(f.length>1){m=f[0];var y=f[1],b=m[0]-y[0],w=m[1]-y[1];s=b*b+w*w}}function g(){var a,l,u,c,h=o.touches(e);ma.call(e);for(var d=0,f=h.length;d<f;++d,c=null)if(u=h[d],c=i[u.identifier]){if(l)break;a=u,l=c}if(c){var p=(p=u[0]-a[0])*p+(p=u[1]-a[1])*p,_=s&&Math.sqrt(p/s);a=[(a[0]+u[0])/2,(a[1]+u[1])/2],l=[(l[0]+c[0])/2,(l[1]+c[1])/2],M(_*t)}r=null,E(a,l),A(n)}function v(){if(o.event.touches.length){for(var t=o.event.changedTouches,e=0,r=t.length;e<r;++e)delete i[t[e].identifier];for(var s in i)return void p()}o.selectAll(c).on(a,null),h.on(m,T).on(b,P),f(),O(n)}_(),C(n),h.on(m,null).on(b,_)}function D(){var r=w.of(this,arguments);i?clearTimeout(i):(ma.call(this),t=k(e=n||o.mouse(this)),C(r)),i=setTimeout(function(){i=null,O(r)},50),U(),M(Math.pow(2,.002*Ut())*d.k),E(e,t),A(r)}function L(){var t=o.mouse(this),e=Math.log(d.k)/Math.LN2;j(this,t,k(t),o.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Ht||(Ht="onwheel"in l?(Ut=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(Ut=function(){return o.event.wheelDelta},"mousewheel"):(Ut=function(){return-o.event.detail},"MozMousePixelScroll")),x.event=function(t){t.each(function(){var t=w.of(this,arguments),n=d;ba?o.select(this).transition().each("start.zoom",function(){d=this.__chart__||{x:0,y:0,k:1},C(t)}).tween("zoom:zoom",function(){var i=f[0],r=f[1],s=e?e[0]:i/2,a=e?e[1]:r/2,l=o.interpolateZoom([(s-d.x)/d.k,(a-d.y)/d.k,i/d.k],[(s-n.x)/n.k,(a-n.y)/n.k,i/n.k]);return function(e){var n=l(e),r=i/n[2];this.__chart__=d={x:s-n[0]*r,y:a-n[1]*r,k:r},A(t)}}).each("interrupt.zoom",function(){O(t)}).each("end.zoom",function(){O(t)}):(this.__chart__=d,C(t),A(t),O(t))})},x.translate=function(t){return arguments.length?(d={x:+t[0],y:+t[1],k:d.k},S(),x):[d.x,d.y]},x.scale=function(t){return arguments.length?(d={x:d.x,y:d.y,k:null},M(+t),S(),x):d.k},x.scaleExtent=function(t){return arguments.length?(p=null==t?Wt:[+t[0],+t[1]],x):p},x.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],x):n},x.size=function(t){return arguments.length?(f=t&&[+t[0],+t[1]],x):f},x.duration=function(t){return arguments.length?(_=+t,x):_},x.x=function(t){return arguments.length?(a=t,s=t.copy(),d={x:0,y:0,k:1},x):a},x.y=function(t){return arguments.length?(h=t,u=t.copy(),d={x:0,y:0,k:1},x):h},o.rebind(x,w,"on")};var Ut,Ht,Wt=[0,1/0];function Vt(){}function Kt(t,e,n){return this instanceof Kt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Kt?new Kt(t.h,t.s,t.l):pe(""+t,_e,Kt):new Kt(t,e,n)}o.color=Vt,Vt.prototype.toString=function(){return this.rgb()+""},o.hsl=Kt;var $t=Kt.prototype=new Vt;function Gt(t,e,n){var i,r;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?i+(r-i)*t/60:t<180?r:t<240?i+(r-i)*(240-t)/60:i}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,i=2*(n=n<0?0:n>1?1:n)-(r=n<=.5?n*(1+e):n+e-n*e),new ue(o(t+120),o(t),o(t-120))}function Yt(t,e,n){return this instanceof Yt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Yt?new Yt(t.h,t.c,t.l):oe(t instanceof Zt?t.l:(t=ge((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Yt(t,e,n)}$t.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Kt(this.h,this.s,this.l/t)},$t.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Kt(this.h,this.s,t*this.l)},$t.rgb=function(){return Gt(this.h,this.s,this.l)},o.hcl=Yt;var Jt=Yt.prototype=new Vt;function Xt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Zt(n,Math.cos(t*=Dt)*e,Math.sin(t)*e)}function Zt(t,e,n){return this instanceof Zt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Zt?new Zt(t.l,t.a,t.b):t instanceof Yt?Xt(t.h,t.c,t.l):ge((t=ue(t)).r,t.g,t.b):new Zt(t,e,n)}Jt.brighter=function(t){return new Yt(this.h,this.c,Math.min(100,this.l+Qt*(arguments.length?t:1)))},Jt.darker=function(t){return new Yt(this.h,this.c,Math.max(0,this.l-Qt*(arguments.length?t:1)))},Jt.rgb=function(){return Xt(this.h,this.c,this.l).rgb()},o.lab=Zt;var Qt=18,te=.95047,ee=1,ne=1.08883,ie=Zt.prototype=new Vt;function re(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return new ue(le(3.2404542*(r=se(r)*te)-1.5371385*(i=se(i)*ee)-.4985314*(o=se(o)*ne)),le(-.969266*r+1.8760108*i+.041556*o),le(.0556434*r-.2040259*i+1.0572252*o))}function oe(t,e,n){return t>0?new Yt(Math.atan2(n,e)*Lt,Math.sqrt(e*e+n*n),t):new Yt(NaN,NaN,t)}function se(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ae(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function le(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ue(t,e,n){return this instanceof ue?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ue?new ue(t.r,t.g,t.b):pe(""+t,ue,Gt):new ue(t,e,n)}function ce(t){return new ue(t>>16,t>>8&255,255&t)}function he(t){return ce(t)+""}ie.brighter=function(t){return new Zt(Math.min(100,this.l+Qt*(arguments.length?t:1)),this.a,this.b)},ie.darker=function(t){return new Zt(Math.max(0,this.l-Qt*(arguments.length?t:1)),this.a,this.b)},ie.rgb=function(){return re(this.l,this.a,this.b)},o.rgb=ue;var de=ue.prototype=new Vt;function fe(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function pe(t,e,n){var i,r,o,s=0,a=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(ve(r[0]),ve(r[1]),ve(r[2]))}return(o=ye.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&o)>>4,s|=s>>4,a=240&o,a|=a>>4,l=15&o,l|=l<<4):7===t.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,l=255&o)),e(s,a,l))}function _e(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-o,l=(s+o)/2;return a?(r=l<.5?a/(s+o):a/(2-s-o),i=t==s?(e-n)/a+(e<n?6:0):e==s?(n-t)/a+2:(t-e)/a+4,i*=60):(i=NaN,r=l>0&&l<1?0:i),new Kt(i,r,l)}function ge(t,e,n){var i=ae((.4124564*(t=me(t))+.3575761*(e=me(e))+.1804375*(n=me(n)))/te),r=ae((.2126729*t+.7151522*e+.072175*n)/ee);return Zt(116*r-16,500*(i-r),200*(r-ae((.0193339*t+.119192*e+.9503041*n)/ne)))}function me(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ve(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}de.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new ue(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new ue(r,r,r)},de.darker=function(t){return new ue((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},de.hsl=function(){return _e(this.r,this.g,this.b)},de.toString=function(){return"#"+fe(this.r)+fe(this.g)+fe(this.b)};var ye=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function be(t){return"function"==typeof t?t:function(){return t}}function we(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),xe(e,n,t,i)}}function xe(t,e,n,i){var r={},s=o.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;function h(){var t,e=u.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(u)||e>=200&&e<300||304===e){try{t=n.call(r,u)}catch(t){return void s.error.call(r,t)}s.load.call(r,t)}else s.error.call(r,u)}return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=h:u.onreadystatechange=function(){u.readyState>3&&h()},u.onprogress=function(t){var e=o.event;o.event=t;try{s.progress.call(r,u)}finally{o.event=e}},r.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",r)},r.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",r):e},r.responseType=function(t){return arguments.length?(c=t,r):c},r.response=function(t){return n=t,r},["get","post"].forEach(function(t){r[t]=function(){return r.send.apply(r,[t].concat(a(arguments)))}}),r.send=function(n,i,o){if(2===arguments.length&&"function"==typeof i&&(o=i,i=null),u.open(n,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),u.setRequestHeader)for(var a in l)u.setRequestHeader(a,l[a]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),s.beforesend.call(r,u),u.send(null==i?null:i),r},r.abort=function(){return u.abort(),r},o.rebind(r,s,"on"),null==i?r:r.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(i))}ye.forEach(function(t,e){ye.set(t,ce(e))}),o.functor=be,o.xhr=we(R),o.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),i=t.charCodeAt(0);function r(t,n,i){arguments.length<3&&(i=n,n=null);var r=xe(t,e,null==n?o:s(n),i);return r.row=function(t){return arguments.length?r.response(null==(n=t)?o:s(t)):n},r}function o(t){return r.parse(t.responseText)}function s(t){return function(e){return r.parse(e.responseText,t)}}function a(e){return e.map(l).join(t)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return r.parse=function(t,e){var n;return r.parseRows(t,function(t,i){if(n)return n(t,i-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(r(t),n)}:r})},r.parseRows=function(t,e){var n,r,o={},s={},a=[],l=t.length,u=0,c=0;function h(){if(u>=l)return s;if(r)return r=!1,o;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return u=n+2,13===(a=t.charCodeAt(n+1))?(r=!0,10===t.charCodeAt(n+2)&&++u):10===a&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u<l;){var a,c=1;if(10===(a=t.charCodeAt(u++)))r=!0;else if(13===a)r=!0,10===t.charCodeAt(u)&&(++u,++c);else if(a!==i)continue;return t.slice(e,u-c)}return t.slice(e)}for(;(n=h())!==s;){for(var d=[];n!==o&&n!==s;)d.push(n),n=h();e&&null==(d=e(d,c++))||a.push(d)}return a},r.format=function(e){if(Array.isArray(e[0]))return r.formatRows(e);var n=new L,i=[];return e.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(l).join(t)].concat(e.map(function(e){return i.map(function(t){return l(e[t])}).join(t)})).join("\n")},r.formatRows=function(t){return t.map(a).join("\n")},r},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var ke,Me,Ee,je,Se=this[B(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Ce(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,n:null};return Me?Me.n=r:ke=r,Me=r,Ee||(je=clearTimeout(je),Ee=1,Se(Ae)),r}function Ae(){var t=Oe(),e=Te()-t;e>24?(isFinite(e)&&(clearTimeout(je),je=setTimeout(Ae,e)),Ee=0):(Ee=1,Se(Ae))}function Oe(){for(var t=Date.now(),e=ke;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Te(){for(var t,e=ke,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:ke=e.n;return Me=t,n}function Pe(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.timer=function(){Ce.apply(this,arguments)},o.timer.flush=function(){Oe(),Te()},o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var De=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*x(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});function Le(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,s=i&&n?function(t,e){for(var r=t.length,o=[],s=0,a=i[0],l=0;r>0&&a>0&&(l+a+1>e&&(a=Math.max(1,e-l)),o.push(t.substring(r-=a,r+a)),!((l+=a+1)>e));)a=i[s=(s+1)%i.length];return o.reverse().join(n)}:R;return function(t){var n=Re.exec(t),i=n[1]||" ",a=n[2]||">",l=n[3]||"-",u=n[4]||"",c=n[5],h=+n[6],d=n[7],f=n[8],p=n[9],_=1,g="",m="",v=!1,y=!0;switch(f&&(f=+f.substring(1)),(c||"0"===i&&"="===a)&&(c=i="0",a="="),p){case"n":d=!0,p="g";break;case"%":_=100,m="%",p="f";break;case"p":_=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+p.toLowerCase());case"c":y=!1;case"d":v=!0,f=0;break;case"s":_=-1,p="r"}"$"===u&&(g=r[0],m=r[1]),"r"!=p||f||(p="g"),null!=f&&("g"==p?f=Math.max(1,Math.min(21,f)):"e"!=p&&"f"!=p||(f=Math.max(0,Math.min(20,f)))),p=Ie.get(p)||Be;var b=c&&d;return function(t){var n=m;if(v&&t%1)return"";var r=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(_<0){var u=o.formatPrefix(t,f);t=u.scale(t),n=u.symbol+m}else t*=_;var w,x,k=(t=p(t,f)).lastIndexOf(".");if(k<0){var M=y?t.lastIndexOf("e"):-1;M<0?(w=t,x=""):(w=t.substring(0,M),x=t.substring(M))}else w=t.substring(0,k),x=e+t.substring(k+1);!c&&d&&(w=s(w,1/0));var E=g.length+w.length+x.length+(b?0:r.length),j=E<h?new Array(E=h-E+1).join(i):"";return b&&(w=s(j+w,j.length?h-x.length:1/0)),r+=g,t=w+x,("<"===a?r+t+j:">"===a?j+r+t:"^"===a?j.substring(0,E>>=1)+r+t+j.substring(E):r+(b?t:j+t))+n}}}o.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=o.round(t,Pe(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),De[8+n/3]};var Re=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ie=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,Pe(t,e))).toFixed(Math.max(0,Math.min(20,Pe(t*(1+1e-15),e))))}});function Be(t){return t+""}var Ne=o.time={},ze=Date;function Fe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Fe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){qe.setUTCDate.apply(this._,arguments)},setDay:function(){qe.setUTCDay.apply(this._,arguments)},setFullYear:function(){qe.setUTCFullYear.apply(this._,arguments)},setHours:function(){qe.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){qe.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){qe.setUTCMinutes.apply(this._,arguments)},setMonth:function(){qe.setUTCMonth.apply(this._,arguments)},setSeconds:function(){qe.setUTCSeconds.apply(this._,arguments)},setTime:function(){qe.setTime.apply(this._,arguments)}};var qe=Date.prototype;function Ue(t,e,n){function i(e){var n=t(e),i=o(n,1);return e-n<i-e?n:i}function r(n){return e(n=t(new ze(n-1)),1),n}function o(t,n){return e(t=new ze(+t),n),t}function s(t,i,o){var s=r(t),a=[];if(o>1)for(;s<i;)n(s)%o||a.push(new Date(+s)),e(s,1);else for(;s<i;)a.push(new Date(+s)),e(s,1);return a}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=s;var a=t.utc=He(t);return a.floor=a,a.round=He(i),a.ceil=He(r),a.offset=He(o),a.range=function(t,e,n){try{ze=Fe;var i=new Fe;return i._=t,s(i,e,n)}finally{ze=Date}},t}function He(t){return function(e,n){try{ze=Fe;var i=new Fe;return i._=e,t(i,n)._}finally{ze=Date}}}function We(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,s=t.days,a=t.shortDays,l=t.months,u=t.shortMonths;function c(t){var e=t.length;function n(n){for(var i,r,o,s=[],a=-1,l=0;++a<e;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(r=Ve[i=t.charAt(++a)])&&(i=t.charAt(++a)),(o=w[i])&&(i=o(n,null==r?"e"===i?" ":"0":r)),s.push(i),l=a+1);return s.push(t.slice(l,a)),s.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&ze!==Fe,r=new(i?Fe:ze);return"j"in n?r.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),r.setFullYear(n.y,0,1),r.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(r.getDay()+5)%7:n.w+7*n.U-(r.getDay()+6)%7)):r.setFullYear(n.y,n.m,n.d),r.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?r._:r},n.toString=function(){return t},n}function h(t,e,n,i){for(var r,o,s,a=0,l=e.length,u=n.length;a<l;){if(i>=u)return-1;if(37===(r=e.charCodeAt(a++))){if(s=e.charAt(a++),!(o=x[s in Ve?e.charAt(a++):s])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}c.utc=function(t){var e=c(t);function n(t){try{var n=new(ze=Fe);return n._=t,e(n)}finally{ze=Date}}return n.parse=function(t){try{ze=Fe;var n=e.parse(t);return n&&n._}finally{ze=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=fn;var d=o.map(),f=Ye(s),p=Je(s),_=Ye(a),g=Je(a),m=Ye(l),v=Je(l),y=Ye(u),b=Je(u);r.forEach(function(t,e){d.set(t.toLowerCase(),e)});var w={a:function(t){return a[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:c(e),d:function(t,e){return Ge(t.getDate(),e,2)},e:function(t,e){return Ge(t.getDate(),e,2)},H:function(t,e){return Ge(t.getHours(),e,2)},I:function(t,e){return Ge(t.getHours()%12||12,e,2)},j:function(t,e){return Ge(1+Ne.dayOfYear(t),e,3)},L:function(t,e){return Ge(t.getMilliseconds(),e,3)},m:function(t,e){return Ge(t.getMonth()+1,e,2)},M:function(t,e){return Ge(t.getMinutes(),e,2)},p:function(t){return r[+(t.getHours()>=12)]},S:function(t,e){return Ge(t.getSeconds(),e,2)},U:function(t,e){return Ge(Ne.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ge(Ne.mondayOfYear(t),e,2)},x:c(n),X:c(i),y:function(t,e){return Ge(t.getFullYear()%100,e,2)},Y:function(t,e){return Ge(t.getFullYear()%1e4,e,4)},Z:hn,"%":function(){return"%"}},x={a:function(t,e,n){_.lastIndex=0;var i=_.exec(e.slice(n));return i?(t.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){f.lastIndex=0;var i=f.exec(e.slice(n));return i?(t.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){y.lastIndex=0;var i=y.exec(e.slice(n));return i?(t.m=b.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){m.lastIndex=0;var i=m.exec(e.slice(n));return i?(t.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,e,n){return h(t,w.c.toString(),e,n)},d:on,e:on,H:an,I:an,j:sn,L:cn,m:rn,M:ln,p:function(t,e,n){var i=d.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:un,U:Ze,w:Xe,W:Qe,x:function(t,e,n){return h(t,w.x.toString(),e,n)},X:function(t,e,n){return h(t,w.X.toString(),e,n)},y:en,Y:tn,Z:nn,"%":dn};return c}Ne.year=Ue(function(t){return(t=Ne.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Ne.years=Ne.year.range,Ne.years.utc=Ne.year.utc.range,Ne.day=Ue(function(t){var e=new ze(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Ne.days=Ne.day.range,Ne.days.utc=Ne.day.utc.range,Ne.dayOfYear=function(t){var e=Ne.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=Ne[t]=Ue(function(t){return(t=Ne.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Ne.year(t).getDay();return Math.floor((Ne.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Ne[t+"s"]=n.range,Ne[t+"s"].utc=n.utc.range,Ne[t+"OfYear"]=function(t){var n=Ne.year(t).getDay();return Math.floor((Ne.dayOfYear(t)+(n+e)%7)/7)}}),Ne.week=Ne.sunday,Ne.weeks=Ne.sunday.range,Ne.weeks.utc=Ne.sunday.utc.range,Ne.weekOfYear=Ne.sundayOfYear;var Ve={"-":"",_:" ",0:"0"},Ke=/^\s*\d+/,$e=/^%/;function Ge(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Ye(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Je(t){for(var e=new M,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Xe(t,e,n){Ke.lastIndex=0;var i=Ke.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Ze(t,e,n){Ke.lastIndex=0;var i=Ke.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Qe(t,e,n){Ke.lastIndex=0;var i=Ke.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function tn(t,e,n){Ke.lastIndex=0;var i=Ke.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function en(t,e,n){Ke.lastIndex=0;var i,r=Ke.exec(e.slice(n,n+2));return r?(t.y=(i=+r[0])+(i>68?1900:2e3),n+r[0].length):-1}function nn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function rn(t,e,n){Ke.lastIndex=0;var i=Ke.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function on(t,e,n){Ke.lastIndex=0;var i=Ke.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function sn(t,e,n){Ke.lastIndex=0;var i=Ke.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function an(t,e,n){Ke.lastIndex=0;var i=Ke.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ln(t,e,n){Ke.lastIndex=0;var i=Ke.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function un(t,e,n){Ke.lastIndex=0;var i=Ke.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function cn(t,e,n){Ke.lastIndex=0;var i=Ke.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function hn(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=x(e)/60|0,r=x(e)%60;return n+Ge(i,"0",2)+Ge(r,"0",2)}function dn(t,e,n){$e.lastIndex=0;var i=$e.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function fn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}o.locale=function(t){return{numberFormat:Le(t),timeFormat:We(t)}};var pn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _n(){}o.format=pn.numberFormat,o.geo={},_n.prototype={s:0,t:0,add:function(t){mn(t,this.t,gn),mn(gn.s,this.s,this),this.s?this.t+=gn.t:this.s=gn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gn=new _n;function mn(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function vn(t,e){t&&bn.hasOwnProperty(t.type)&&bn[t.type](t,e)}o.geo.stream=function(t,e){t&&yn.hasOwnProperty(t.type)?yn[t.type](t,e):vn(t,e)};var yn={Feature:function(t,e){vn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)vn(n[i].geometry,e)}},bn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){wn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)wn(n[i],e,0)},Polygon:function(t,e){xn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)xn(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)vn(n[i],e)}};function wn(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function xn(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)wn(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return kn=0,o.geo.stream(t,In),kn};var kn,Mn,En,jn,Sn,Cn,An,On,Tn,Pn,Dn,Ln,Rn=new _n,In={sphere:function(){kn+=4*At},point:z,lineStart:z,lineEnd:z,polygonStart:function(){Rn.reset(),In.lineStart=Bn},polygonEnd:function(){var t=2*Rn;kn+=t<0?4*At+t:t,In.lineStart=In.lineEnd=In.point=z}};function Bn(){var t,e,n,i,r;function o(t,e){e=e*Dt/2+At/4;var o=(t*=Dt)-n,s=o>=0?1:-1,a=s*o,l=Math.cos(e),u=Math.sin(e),c=r*u,h=i*l+c*Math.cos(a),d=c*s*Math.sin(a);Rn.add(Math.atan2(d,h)),n=t,i=l,r=u}In.point=function(s,a){In.point=o,n=(t=s)*Dt,i=Math.cos(a=(e=a)*Dt/2+At/4),r=Math.sin(a)},In.lineEnd=function(){o(t,e)}}function Nn(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function zn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Fn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function qn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Un(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Hn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Wn(t){return[Math.atan2(t[1],t[0]),Nt(t[2])]}function Vn(t,e){return x(t[0]-e[0])<St&&x(t[1]-e[1])<St}o.geo.bounds=function(){var t,e,n,i,r,s,a,l,u,c,h,d={point:f,lineStart:_,lineEnd:g,polygonStart:function(){d.point=m,d.lineStart=v,d.lineEnd=y,u=0,In.polygonStart()},polygonEnd:function(){In.polygonEnd(),d.point=f,d.lineStart=_,d.lineEnd=g,Rn<0?(t=-(n=180),e=-(i=90)):u>St?i=90:u<-St&&(e=-90),h[0]=t,h[1]=n}};function f(r,o){c.push(h=[t=r,n=r]),o<e&&(e=o),o>i&&(i=o)}function p(o,s){var a=Nn([o*Dt,s*Dt]);if(l){var u=Fn(l,a),c=Fn([u[1],-u[0],0],u);Hn(c),c=Wn(c);var h=o-r,d=h>0?1:-1,p=c[0]*Lt*d,_=x(h)>180;if(_^(d*r<p&&p<d*o))(g=c[1]*Lt)>i&&(i=g);else if(_^(d*r<(p=(p+360)%360-180)&&p<d*o)){var g;(g=-c[1]*Lt)<e&&(e=g)}else s<e&&(e=s),s>i&&(i=s);_?o<r?b(t,o)>b(t,n)&&(n=o):b(o,n)>b(t,n)&&(t=o):n>=t?(o<t&&(t=o),o>n&&(n=o)):o>r?b(t,o)>b(t,n)&&(n=o):b(o,n)>b(t,n)&&(t=o)}else f(o,s);l=a,r=o}function _(){d.point=p}function g(){h[0]=t,h[1]=n,d.point=f,l=null}function m(t,e){if(l){var n=t-r;u+=x(n)>180?n+(n>0?360:-360):n}else s=t,a=e;In.point(t,e),p(t,e)}function v(){In.lineStart()}function y(){m(s,a),In.lineEnd(),x(u)>St&&(t=-(n=180)),h[0]=t,h[1]=n,l=null}function b(t,e){return(e-=t)<0?e+360:e}function w(t,e){return t[0]-e[0]}function k(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(r){if(i=n=-(t=e=1/0),c=[],o.geo.stream(r,d),u=c.length){c.sort(w);for(var s=1,a=[_=c[0]];s<u;++s)k((f=c[s])[0],_)||k(f[1],_)?(b(_[0],f[1])>b(_[0],_[1])&&(_[1]=f[1]),b(f[0],_[1])>b(_[0],_[1])&&(_[0]=f[0])):a.push(_=f);for(var l,u,f,p=-1/0,_=(s=0,a[u=a.length-1]);s<=u;_=f,++s)f=a[s],(l=b(_[1],f[0]))>p&&(p=l,t=f[0],n=_[1])}return c=h=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,i]]}}(),o.geo.centroid=function(t){Mn=En=jn=Sn=Cn=An=On=Tn=Pn=Dn=Ln=0,o.geo.stream(t,Kn);var e=Pn,n=Dn,i=Ln,r=e*e+n*n+i*i;return r<Ct&&(e=An,n=On,i=Tn,En<St&&(e=jn,n=Sn,i=Cn),(r=e*e+n*n+i*i)<Ct)?[NaN,NaN]:[Math.atan2(n,e)*Lt,Nt(i/Math.sqrt(r))*Lt]};var Kn={sphere:z,point:$n,lineStart:Yn,lineEnd:Jn,polygonStart:function(){Kn.lineStart=Xn},polygonEnd:function(){Kn.lineStart=Yn}};function $n(t,e){t*=Dt;var n=Math.cos(e*=Dt);Gn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Gn(t,e,n){jn+=(t-jn)/++Mn,Sn+=(e-Sn)/Mn,Cn+=(n-Cn)/Mn}function Yn(){var t,e,n;function i(i,r){i*=Dt;var o=Math.cos(r*=Dt),s=o*Math.cos(i),a=o*Math.sin(i),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=e*l-n*a)*u+(u=n*s-t*l)*u+(u=t*a-e*s)*u),t*s+e*a+n*l);En+=u,An+=u*(t+(t=s)),On+=u*(e+(e=a)),Tn+=u*(n+(n=l)),Gn(t,e,n)}Kn.point=function(r,o){r*=Dt;var s=Math.cos(o*=Dt);t=s*Math.cos(r),e=s*Math.sin(r),n=Math.sin(o),Kn.point=i,Gn(t,e,n)}}function Jn(){Kn.point=$n}function Xn(){var t,e,n,i,r;function o(t,e){t*=Dt;var o=Math.cos(e*=Dt),s=o*Math.cos(t),a=o*Math.sin(t),l=Math.sin(e),u=i*l-r*a,c=r*s-n*l,h=n*a-i*s,d=Math.sqrt(u*u+c*c+h*h),f=n*s+i*a+r*l,p=d&&-Bt(f)/d,_=Math.atan2(d,f);Pn+=p*u,Dn+=p*c,Ln+=p*h,En+=_,An+=_*(n+(n=s)),On+=_*(i+(i=a)),Tn+=_*(r+(r=l)),Gn(n,i,r)}Kn.point=function(s,a){t=s,e=a,Kn.point=o,s*=Dt;var l=Math.cos(a*=Dt);n=l*Math.cos(s),i=l*Math.sin(s),r=Math.sin(a),Gn(n,i,r)},Kn.lineEnd=function(){o(t,e),Kn.lineEnd=Jn,Kn.point=$n}}function Zn(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Qn(){return!0}function ti(t,e,n,i,r){var o=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Vn(n,i)){r.lineStart();for(var a=0;a<e;++a)r.point((n=t[a])[0],n[1]);r.lineEnd()}else{var l=new ni(n,t,null,!0),u=new ni(n,null,l,!1);l.o=u,o.push(l),s.push(u),l=new ni(i,t,null,!1),u=new ni(i,null,l,!0),l.o=u,o.push(l),s.push(u)}}}),s.sort(e),ei(o),ei(s),o.length){for(var a=0,l=n,u=s.length;a<u;++a)s[a].e=l=!l;for(var c,h,d=o[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;c=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(a=0,u=c.length;a<u;++a)r.point((h=c[a])[0],h[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(a=(c=f.p.z).length-1;a>=0;--a)r.point((h=c[a])[0],h[1]);else i(f.x,f.p.x,-1,r);f=f.p}c=(f=f.o).z,p=!p}while(!f.v);r.lineEnd()}}}function ei(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function ni(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ii(t,e,n,i){return function(r,s){var a,l=e(s),u=r.invert(i[0],i[1]),c={point:h,lineStart:f,lineEnd:p,polygonStart:function(){c.point=b,c.lineStart=w,c.lineEnd=x,a=[],_=[]},polygonEnd:function(){c.point=h,c.lineStart=f,c.lineEnd=p,a=o.merge(a);var t=function(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,s=0;Rn.reset();for(var a=0,l=e.length;a<l;++a){var u=e[a],c=u.length;if(c)for(var h=u[0],d=h[0],f=h[1]/2+At/4,p=Math.sin(f),_=Math.cos(f),g=1;;){g===c&&(g=0);var m=(t=u[g])[0],v=t[1]/2+At/4,y=Math.sin(v),b=Math.cos(v),w=m-d,x=w>=0?1:-1,k=x*w,M=k>At,E=p*y;if(Rn.add(Math.atan2(E*x*Math.sin(k),_*b+E*Math.cos(k))),o+=M?w+x*Ot:w,M^d>=n^m>=n){var j=Fn(Nn(h),Nn(t));Hn(j);var S=Fn(r,j);Hn(S);var C=(M^w>=0?-1:1)*Nt(S[2]);(i>C||i===C&&(j[0]||j[1]))&&(s+=M^w>=0?1:-1)}if(!g++)break;d=m,p=y,_=b,h=t}}return(o<-St||o<St&&Rn<-St)^1&s}(u,_);a.length?(y||(s.polygonStart(),y=!0),ti(a,si,t,n,s)):t&&(y||(s.polygonStart(),y=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),y&&(s.polygonEnd(),y=!1),a=_=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function h(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&s.point(e,n)}function d(t,e){var n=r(t,e);l.point(n[0],n[1])}function f(){c.point=d,l.lineStart()}function p(){c.point=h,l.lineEnd()}var _,g,m=oi(),v=e(m),y=!1;function b(t,e){g.push([t,e]);var n=r(t,e);v.point(n[0],n[1])}function w(){v.lineStart(),g=[]}function x(){b(g[0][0],g[0][1]),v.lineEnd();var t,e=v.clean(),n=m.buffer(),i=n.length;if(g.pop(),_.push(g),g=null,i)if(1&e){var r,o=-1;if((i=(t=n[0]).length-1)>0){for(y||(s.polygonStart(),y=!0),s.lineStart();++o<i;)s.point((r=t[o])[0],r[1]);s.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),a.push(n.filter(ri))}return c}}function ri(t){return t.length>1}function oi(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:z,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function si(t,e){return((t=t.x)[0]<0?t[1]-Pt-St:Pt-t[1])-((e=e.x)[0]<0?e[1]-Pt-St:Pt-e[1])}var ai=ii(Qn,function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?At:-At,l=x(o-n);x(l-At)<St?(t.point(n,i=(i+s)/2>0?Pt:-Pt),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=At&&(x(n-r)<St&&(n-=r*St),x(o-a)<St&&(o-=a*St),i=function(t,e,n,i){var r,o,s=Math.sin(t-n);return x(s)>St?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*s)):(e+i)/2}(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)r=n*Pt,i.point(-At,r),i.point(0,r),i.point(At,r),i.point(At,0),i.point(At,-r),i.point(0,-r),i.point(-At,-r),i.point(-At,0),i.point(-At,r);else if(x(t[0]-e[0])>St){var o=t[0]<e[0]?At:-At;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-At,-At/2]);function li(t,e,n,i){return function(r){var o,s=r.a,a=r.b,l=s.x,u=s.y,c=0,h=1,d=a.x-l,f=a.y-u;if(o=t-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=n-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=i-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}return c>0&&(r.a={x:l+c*d,y:u+c*f}),h<1&&(r.b={x:l+h*d,y:u+h*f}),r}}}}}}var ui=1e9;function ci(t,e,n,i){return function(l){var u,c,h,d,f,p,_,g,m,v,y,b=l,w=oi(),x=li(t,e,n,i),k={point:j,lineStart:function(){k.point=S,c&&c.push(h=[]);v=!0,m=!1,_=g=NaN},lineEnd:function(){u&&(S(d,f),p&&m&&w.rejoin(),u.push(w.buffer()));k.point=j,m&&l.lineEnd()},polygonStart:function(){l=w,u=[],c=[],y=!0},polygonEnd:function(){l=b,u=o.merge(u);var e=function(t){for(var e=0,n=c.length,i=t[1],r=0;r<n;++r)for(var o,s=1,a=c[r],l=a.length,u=a[0];s<l;++s)o=a[s],u[1]<=i?o[1]>i&&It(u,o,t)>0&&++e:o[1]<=i&&It(u,o,t)<0&&--e,u=o;return 0!==e}([t,i]),n=y&&e,r=u.length;(n||r)&&(l.polygonStart(),n&&(l.lineStart(),M(null,null,1,l),l.lineEnd()),r&&ti(u,s,e,M,l),l.polygonEnd()),u=c=h=null}};function M(o,s,l,u){var c=0,h=0;if(null==o||(c=r(o,l))!==(h=r(s,l))||a(o,s)<0^l>0)do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+l+4)%4)!==h);else u.point(s[0],s[1])}function E(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function j(t,e){E(t,e)&&l.point(t,e)}function S(t,e){var n=E(t=Math.max(-ui,Math.min(ui,t)),e=Math.max(-ui,Math.min(ui,e)));if(c&&h.push([t,e]),v)d=t,f=e,p=n,v=!1,n&&(l.lineStart(),l.point(t,e));else if(n&&m)l.point(t,e);else{var i={a:{x:_,y:g},b:{x:t,y:e}};x(i)?(m||(l.lineStart(),l.point(i.a.x,i.a.y)),l.point(i.b.x,i.b.y),n||l.lineEnd(),y=!1):n&&(l.lineStart(),l.point(t,e),y=!1)}_=t,g=e,m=n}return k};function r(i,r){return x(i[0]-t)<St?r>0?0:3:x(i[0]-n)<St?r>0?2:1:x(i[1]-e)<St?r>0?1:0:r>0?3:2}function s(t,e){return a(t.x,e.x)}function a(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function hi(t){var e=0,n=At/3,i=Ri(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*At/180,n=t[1]*At/180):[e/At*180,n/At*180]},r}function di(t,e){var n=Math.sin(t),i=(n+Math.sin(e))/2,r=1+n*(2*i-n),o=Math.sqrt(r)/i;function s(t,e){var n=Math.sqrt(r-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),o-n*Math.cos(t)]}return s.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,Nt((r-(t*t+n*n)*i*i)/(2*i))]},s}o.geo.clipExtent=function(){var t,e,n,i,r,o,s={stream:function(t){return r&&(r.valid=!1),(r=o(t)).valid=!0,r},extent:function(a){return arguments.length?(o=ci(t=+a[0][0],e=+a[0][1],n=+a[1][0],i=+a[1][1]),r&&(r.valid=!1,r=null),s):[[t,e],[n,i]]}};return s.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return hi(di)}).raw=di,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t,e,n,i,r=o.geo.albers(),s=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};function u(r){var o=r[0],s=r[1];return t=null,e(o,s),t||(n(o,s),t)||i(o,s),t}return u.invert=function(t){var e=r.scale(),n=r.translate(),i=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&i>=-.425&&i<-.214?s:o>=.166&&o<.234&&i>=-.214&&i<-.115?a:r).invert(t)},u.stream=function(t){var e=r.stream(t),n=s.stream(t),i=a.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},u.precision=function(t){return arguments.length?(r.precision(t),s.precision(t),a.precision(t),u):r.precision()},u.scale=function(t){return arguments.length?(r.scale(t),s.scale(.35*t),a.scale(t),u.translate(r.translate())):r.scale()},u.translate=function(t){if(!arguments.length)return r.translate();var o=r.scale(),c=+t[0],h=+t[1];return e=r.translate(t).clipExtent([[c-.455*o,h-.238*o],[c+.455*o,h+.238*o]]).stream(l).point,n=s.translate([c-.307*o,h+.201*o]).clipExtent([[c-.425*o+St,h+.12*o+St],[c-.214*o-St,h+.234*o-St]]).stream(l).point,i=a.translate([c-.205*o,h+.212*o]).clipExtent([[c-.214*o+St,h+.166*o+St],[c-.115*o-St,h+.234*o-St]]).stream(l).point,u},u.scale(1070)};var fi,pi,_i,gi,mi,vi,yi={point:z,lineStart:z,lineEnd:z,polygonStart:function(){pi=0,yi.lineStart=bi},polygonEnd:function(){yi.lineStart=yi.lineEnd=yi.point=z,fi+=x(pi/2)}};function bi(){var t,e,n,i;function r(t,e){pi+=i*t-n*e,n=t,i=e}yi.point=function(o,s){yi.point=r,t=n=o,e=i=s},yi.lineEnd=function(){r(t,e)}}var wi={point:function(t,e){t<_i&&(_i=t);t>mi&&(mi=t);e<gi&&(gi=e);e>vi&&(vi=e)},lineStart:z,lineEnd:z,polygonStart:z,polygonEnd:z};function xi(){var t=ki(4.5),e=[],n={point:i,lineStart:function(){n.point=r},lineEnd:s,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=s,n.point=i},pointRadius:function(e){return t=ki(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function i(n,i){e.push("M",n,",",i,t)}function r(t,i){e.push("M",t,",",i),n.point=o}function o(t,n){e.push("L",t,",",n)}function s(){n.point=i}function a(){e.push("Z")}return n}function ki(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Mi,Ei={point:ji,lineStart:Si,lineEnd:Ci,polygonStart:function(){Ei.lineStart=Ai},polygonEnd:function(){Ei.point=ji,Ei.lineStart=Si,Ei.lineEnd=Ci}};function ji(t,e){jn+=t,Sn+=e,++Cn}function Si(){var t,e;function n(n,i){var r=n-t,o=i-e,s=Math.sqrt(r*r+o*o);An+=s*(t+n)/2,On+=s*(e+i)/2,Tn+=s,ji(t=n,e=i)}Ei.point=function(i,r){Ei.point=n,ji(t=i,e=r)}}function Ci(){Ei.point=ji}function Ai(){var t,e,n,i;function r(t,e){var r=t-n,o=e-i,s=Math.sqrt(r*r+o*o);An+=s*(n+t)/2,On+=s*(i+e)/2,Tn+=s,Pn+=(s=i*t-n*e)*(n+t),Dn+=s*(i+e),Ln+=3*s,ji(n=t,i=e)}Ei.point=function(o,s){Ei.point=r,ji(t=n=o,e=i=s)},Ei.lineEnd=function(){r(t,e)}}function Oi(t){var e=4.5,n={point:i,lineStart:function(){n.point=r},lineEnd:s,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=s,n.point=i},pointRadius:function(t){return e=t,n},result:z};function i(n,i){t.moveTo(n+e,i),t.arc(n,i,e,0,Ot)}function r(e,i){t.moveTo(e,i),n.point=o}function o(e,n){t.lineTo(e,n)}function s(){n.point=i}function a(){t.closePath()}return n}function Ti(t){var e=.5,n=Math.cos(30*Dt),i=16;function r(e){return(i?function(e){var n,r,s,a,l,u,c,h,d,f,p,_,g={point:m,lineStart:v,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=w},polygonEnd:function(){e.polygonEnd(),g.lineStart=v}};function m(n,i){n=t(n,i),e.point(n[0],n[1])}function v(){h=NaN,g.point=y,e.lineStart()}function y(n,r){var s=Nn([n,r]),a=t(n,r);o(h,d,c,f,p,_,h=a[0],d=a[1],c=n,f=s[0],p=s[1],_=s[2],i,e),e.point(h,d)}function b(){g.point=m,e.lineEnd()}function w(){v(),g.point=x,g.lineEnd=k}function x(t,e){y(n=t,e),r=h,s=d,a=f,l=p,u=_,g.point=y}function k(){o(h,d,c,f,p,_,r,s,n,a,l,u,i,e),g.lineEnd=b,b()}return g}:function(e){return Di(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})})(e)}function o(i,r,s,a,l,u,c,h,d,f,p,_,g,m){var v=c-i,y=h-r,b=v*v+y*y;if(b>4*e&&g--){var w=a+f,k=l+p,M=u+_,E=Math.sqrt(w*w+k*k+M*M),j=Math.asin(M/=E),S=x(x(M)-1)<St||x(s-d)<St?(s+d)/2:Math.atan2(k,w),C=t(S,j),A=C[0],O=C[1],T=A-i,P=O-r,D=y*T-v*P;(D*D/b>e||x((v*T+y*P)/b-.5)>.3||a*f+l*p+u*_<n)&&(o(i,r,s,a,l,u,A,O,S,w/=E,k/=E,M,g,m),m.point(A,O),o(A,O,S,w,k,M,c,h,d,f,p,_,g,m))}}return r.precision=function(t){return arguments.length?(i=(e=t*t)>0&&16,r):Math.sqrt(e)},r}function Pi(t){this.stream=t}function Di(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Li(t){return Ri(function(){return t})()}function Ri(t){var e,n,i,r,s,a,l=Ti(function(t,n){return[(t=e(t,n))[0]*u+r,s-t[1]*u]}),u=150,c=480,h=250,d=0,f=0,p=0,_=0,g=0,m=ai,v=R,y=null,b=null;function w(t){return[(t=i(t[0]*Dt,t[1]*Dt))[0]*u+r,s-t[1]*u]}function k(t){return(t=i.invert((t[0]-r)/u,(s-t[1])/u))&&[t[0]*Lt,t[1]*Lt]}function M(){i=Zn(n=zi(p,_,g),e);var t=e(d,f);return r=c-t[0]*u,s=h+t[1]*u,E()}function E(){return a&&(a.valid=!1,a=null),w}return w.stream=function(t){return a&&(a.valid=!1),(a=Ii(m(n,l(v(t))))).valid=!0,a},w.clipAngle=function(t){return arguments.length?(m=null==t?(y=t,ai):function(t){var e=Math.cos(t),n=e>0,i=x(e)>St;return ii(r,function(t){var e,a,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,d){var f,p=[h,d],_=r(h,d),g=n?_?0:s(h,d):_?s(h+(h<0?At:-At),d):0;if(!e&&(u=l=_)&&t.lineStart(),_!==l&&(f=o(e,p),(Vn(e,f)||Vn(p,f))&&(p[0]+=St,p[1]+=St,_=r(p[0],p[1]))),_!==l)c=0,_?(t.lineStart(),f=o(p,e),t.point(f[0],f[1])):(f=o(e,p),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(i&&e&&n^_){var m;g&a||!(m=o(p,e,!0))||(c=0,n?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!_||e&&Vn(e,p)||t.point(p[0],p[1]),e=p,l=_,a=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}},Hi(t,6*Dt),n?[0,-t]:[-At,t-At]);function r(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,i){var r=[1,0,0],o=Fn(Nn(t),Nn(n)),s=zn(o,o),a=o[0],l=s-a*a;if(!l)return!i&&t;var u=e*s/l,c=-e*a/l,h=Fn(r,o),d=Un(r,u);qn(d,Un(o,c));var f=h,p=zn(d,f),_=zn(f,f),g=p*p-_*(zn(d,d)-1);if(!(g<0)){var m=Math.sqrt(g),v=Un(f,(-p-m)/_);if(qn(v,d),v=Wn(v),!i)return v;var y,b=t[0],w=n[0],k=t[1],M=n[1];w<b&&(y=b,b=w,w=y);var E=w-b,j=x(E-At)<St;if(!j&&M<k&&(y=k,k=M,M=y),j||E<St?j?k+M>0^v[1]<(x(v[0]-b)<St?k:M):k<=v[1]&&v[1]<=M:E>At^(b<=v[0]&&v[0]<=w)){var S=Un(f,(-p+m)/_);return qn(S,d),[v,Wn(S)]}}}function s(e,i){var r=n?t:At-t,o=0;return e<-r?o|=1:e>r&&(o|=2),i<-r?o|=4:i>r&&(o|=8),o}}((y=+t)*Dt),E()):y},w.clipExtent=function(t){return arguments.length?(b=t,v=t?ci(t[0][0],t[0][1],t[1][0],t[1][1]):R,E()):b},w.scale=function(t){return arguments.length?(u=+t,M()):u},w.translate=function(t){return arguments.length?(c=+t[0],h=+t[1],M()):[c,h]},w.center=function(t){return arguments.length?(d=t[0]%360*Dt,f=t[1]%360*Dt,M()):[d*Lt,f*Lt]},w.rotate=function(t){return arguments.length?(p=t[0]%360*Dt,_=t[1]%360*Dt,g=t.length>2?t[2]%360*Dt:0,M()):[p*Lt,_*Lt,g*Lt]},o.rebind(w,l,"precision"),function(){return e=t.apply(this,arguments),w.invert=e.invert&&k,M()}}function Ii(t){return Di(t,function(e,n){t.point(e*Dt,n*Dt)})}function Bi(t,e){return[t,e]}function Ni(t,e){return[t>At?t-Ot:t<-At?t+Ot:t,e]}function zi(t,e,n){return t?e||n?Zn(qi(t),Ui(e,n)):qi(t):e||n?Ui(e,n):Ni}function Fi(t){return function(e,n){return[(e+=t)>At?e-Ot:e<-At?e+Ot:e,n]}}function qi(t){var e=Fi(t);return e.invert=Fi(-t),e}function Ui(t,e){var n=Math.cos(t),i=Math.sin(t),r=Math.cos(e),o=Math.sin(e);function s(t,e){var s=Math.cos(e),a=Math.cos(t)*s,l=Math.sin(t)*s,u=Math.sin(e),c=u*n+a*i;return[Math.atan2(l*r-c*o,a*n-u*i),Nt(c*r+l*o)]}return s.invert=function(t,e){var s=Math.cos(e),a=Math.cos(t)*s,l=Math.sin(t)*s,u=Math.sin(e),c=u*r-l*o;return[Math.atan2(l*r+u*o,a*n+c*i),Nt(c*n-a*i)]},s}function Hi(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,s,a){var l=s*e;null!=r?(r=Wi(n,r),o=Wi(n,o),(s>0?r<o:r>o)&&(r+=s*Ot)):(r=t+s*Ot,o=t-.5*l);for(var u,c=r;s>0?c>o:c<o;c-=l)a.point((u=Wn([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function Wi(t,e){var n=Nn(e);n[0]-=t,Hn(n);var i=Bt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-St)%(2*Math.PI)}function Vi(t,e,n){var i=o.range(t,e-St,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function Ki(t,e,n){var i=o.range(t,e-St,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function $i(t){return t.source}function Gi(t){return t.target}o.geo.path=function(){var t,e,n,i,r,s=4.5;function a(t){return t&&("function"==typeof s&&i.pointRadius(+s.apply(this,arguments)),r&&r.valid||(r=n(i)),o.geo.stream(t,r)),i.result()}function l(){return r=null,a}return a.area=function(t){return fi=0,o.geo.stream(t,n(yi)),fi},a.centroid=function(t){return jn=Sn=Cn=An=On=Tn=Pn=Dn=Ln=0,o.geo.stream(t,n(Ei)),Ln?[Pn/Ln,Dn/Ln]:Tn?[An/Tn,On/Tn]:Cn?[jn/Cn,Sn/Cn]:[NaN,NaN]},a.bounds=function(t){return mi=vi=-(_i=gi=1/0),o.geo.stream(t,n(wi)),[[_i,gi],[mi,vi]]},a.projection=function(e){return arguments.length?(n=(t=e)?e.stream||(i=e,r=Ti(function(t,e){return i([t*Lt,e*Lt])}),function(t){return Ii(r(t))}):R,l()):t;var i,r},a.context=function(t){return arguments.length?(i=null==(e=t)?new xi:new Oi(t),"function"!=typeof s&&i.pointRadius(s),l()):e},a.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(i.pointRadius(+t),+t),a):s},a.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(t){return{stream:function(e){var n=new Pi(e);for(var i in t)n[i]=t[i];return n}}},Pi.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Li,o.geo.projectionMutator=Ri,(o.geo.equirectangular=function(){return Li(Bi)}).raw=Bi.invert=Bi,o.geo.rotation=function(t){function e(e){return(e=t(e[0]*Dt,e[1]*Dt))[0]*=Lt,e[1]*=Lt,e}return t=zi(t[0]%360*Dt,t[1]*Dt,t.length>2?t[2]*Dt:0),e.invert=function(e){return(e=t.invert(e[0]*Dt,e[1]*Dt))[0]*=Lt,e[1]*=Lt,e},e},Ni.invert=Bi,o.geo.circle=function(){var t,e,n=[0,0],i=6;function r(){var t="function"==typeof n?n.apply(this,arguments):n,i=zi(-t[0]*Dt,-t[1]*Dt,0).invert,r=[];return e(null,null,1,{point:function(t,e){r.push(t=i(t,e)),t[0]*=Lt,t[1]*=Lt}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(t){return arguments.length?(n=t,r):n},r.angle=function(n){return arguments.length?(e=Hi((t=+n)*Dt,i*Dt),r):t},r.precision=function(n){return arguments.length?(e=Hi(t*Dt,(i=+n)*Dt),r):i},r.angle(90)},o.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Dt,r=t[1]*Dt,o=e[1]*Dt,s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*s)*n+(n=u*c-l*h*a)*n),l*c+u*h*a)},o.geo.graticule=function(){var t,e,n,i,r,s,a,l,u,c,h,d,f=10,p=f,_=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return o.range(Math.ceil(i/_)*_,n,_).map(h).concat(o.range(Math.ceil(l/g)*g,a,g).map(d)).concat(o.range(Math.ceil(e/f)*f,t,f).filter(function(t){return x(t%_)>St}).map(u)).concat(o.range(Math.ceil(s/p)*p,r,p).filter(function(t){return x(t%g)>St}).map(c))}return v.lines=function(){return y().map(function(t){return{type:"LineString",coordinates:t}})},v.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(d(a).slice(1),h(n).reverse().slice(1),d(l).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.majorExtent(t).minorExtent(t):v.minorExtent()},v.majorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],l=+t[0][1],a=+t[1][1],i>n&&(t=i,i=n,n=t),l>a&&(t=l,l=a,a=t),v.precision(m)):[[i,l],[n,a]]},v.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],s=+n[0][1],r=+n[1][1],e>t&&(n=e,e=t,t=n),s>r&&(n=s,s=r,r=n),v.precision(m)):[[e,s],[t,r]]},v.step=function(t){return arguments.length?v.majorStep(t).minorStep(t):v.minorStep()},v.majorStep=function(t){return arguments.length?(_=+t[0],g=+t[1],v):[_,g]},v.minorStep=function(t){return arguments.length?(f=+t[0],p=+t[1],v):[f,p]},v.precision=function(o){return arguments.length?(m=+o,u=Vi(s,r,90),c=Ki(e,t,m),h=Vi(l,a,90),d=Ki(i,n,m),v):m},v.majorExtent([[-180,-90+St],[180,90-St]]).minorExtent([[-180,-80-St],[180,80+St]])},o.geo.greatArc=function(){var t,e,n=$i,i=Gi;function r(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||i.apply(this,arguments)]}}return r.distance=function(){return o.geo.distance(t||n.apply(this,arguments),e||i.apply(this,arguments))},r.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,r):n},r.target=function(t){return arguments.length?(i=t,e="function"==typeof t?null:t,r):i},r.precision=function(){return arguments.length?r:0},r},o.geo.interpolate=function(t,e){return n=t[0]*Dt,i=t[1]*Dt,r=e[0]*Dt,o=e[1]*Dt,s=Math.cos(i),a=Math.sin(i),l=Math.cos(o),u=Math.sin(o),c=s*Math.cos(n),h=s*Math.sin(n),d=l*Math.cos(r),f=l*Math.sin(r),p=2*Math.asin(Math.sqrt(Ft(o-i)+s*l*Ft(r-n))),_=1/Math.sin(p),(g=p?function(t){var e=Math.sin(t*=p)*_,n=Math.sin(p-t)*_,i=n*c+e*d,r=n*h+e*f,o=n*a+e*u;return[Math.atan2(r,i)*Lt,Math.atan2(o,Math.sqrt(i*i+r*r))*Lt]}:function(){return[n*Lt,i*Lt]}).distance=p,g;var n,i,r,o,s,a,l,u,c,h,d,f,p,_,g},o.geo.length=function(t){return Mi=0,o.geo.stream(t,Yi),Mi};var Yi={sphere:z,point:z,lineStart:function(){var t,e,n;function i(i,r){var o=Math.sin(r*=Dt),s=Math.cos(r),a=x((i*=Dt)-t),l=Math.cos(a);Mi+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=n*o-e*s*l)*a),e*o+n*s*l),t=i,e=o,n=s}Yi.point=function(r,o){t=r*Dt,e=Math.sin(o*=Dt),n=Math.cos(o),Yi.point=i},Yi.lineEnd=function(){Yi.point=Yi.lineEnd=z}},lineEnd:z,polygonStart:z,polygonEnd:z};function Ji(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),s=Math.cos(r);return[Math.atan2(t*o,i*s),Math.asin(i&&n*o/i)]},n}var Xi=Ji(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(o.geo.azimuthalEqualArea=function(){return Li(Xi)}).raw=Xi;var Zi=Ji(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},R);function Qi(t,e){var n=Math.cos(t),i=function(t){return Math.tan(At/4+t/2)},r=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(i(e)/i(t)),o=n*Math.pow(i(t),r)/r;if(!r)return nr;function s(t,e){o>0?e<-Pt+St&&(e=-Pt+St):e>Pt-St&&(e=Pt-St);var n=o/Math.pow(i(e),r);return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}return s.invert=function(t,e){var n=o-e,i=Rt(r)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/r,2*Math.atan(Math.pow(o/i,1/r))-Pt]},s}function tr(t,e){var n=Math.cos(t),i=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),r=n/i+t;if(x(i)<St)return Bi;function o(t,e){var n=r-e;return[n*Math.sin(i*t),r-n*Math.cos(i*t)]}return o.invert=function(t,e){var n=r-e;return[Math.atan2(t,n)/i,r-Rt(i)*Math.sqrt(t*t+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return Li(Zi)}).raw=Zi,(o.geo.conicConformal=function(){return hi(Qi)}).raw=Qi,(o.geo.conicEquidistant=function(){return hi(tr)}).raw=tr;var er=Ji(function(t){return 1/t},Math.atan);function nr(t,e){return[t,Math.log(Math.tan(At/4+e/2))]}function ir(t){var e,n=Li(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=o.apply(n,arguments);if(s===n){if(e=null==t){var a=At*i(),l=r();o([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else e&&(s=null);return s},n.clipExtent(null)}(o.geo.gnomonic=function(){return Li(er)}).raw=er,nr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Pt]},(o.geo.mercator=function(){return ir(nr)}).raw=nr;var rr=Ji(function(){return 1},Math.asin);(o.geo.orthographic=function(){return Li(rr)}).raw=rr;var or=Ji(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function sr(t,e){return[Math.log(Math.tan(At/4+e/2)),-t]}function ar(t){return t[0]}function lr(t){return t[1]}function ur(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;i>1&&It(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function cr(t,e){return t[0]-e[0]||t[1]-e[1]}(o.geo.stereographic=function(){return Li(or)}).raw=or,sr.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Pt]},(o.geo.transverseMercator=function(){var t=ir(sr),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=sr,o.geom={},o.geom.hull=function(t){var e=ar,n=lr;if(arguments.length)return i(t);function i(t){if(t.length<3)return[];var i,r=be(e),o=be(n),s=t.length,a=[],l=[];for(i=0;i<s;i++)a.push([+r.call(this,t[i],i),+o.call(this,t[i],i),i]);for(a.sort(cr),i=0;i<s;i++)l.push([a[i][0],-a[i][1]]);var u=ur(a),c=ur(l),h=c[0]===u[0],d=c[c.length-1]===u[u.length-1],f=[];for(i=u.length-1;i>=0;--i)f.push(t[a[u[i]][2]]);for(i=+h;i<c.length-d;++i)f.push(t[a[c[i]][2]]);return f}return i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i},o.geom.polygon=function(t){return K(t,hr),t};var hr=o.geom.polygon.prototype=[];function dr(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function fr(t,e,n,i){var r=t[0],o=n[0],s=e[0]-r,a=i[0]-o,l=t[1],u=n[1],c=e[1]-l,h=i[1]-u,d=(a*(l-u)-h*(r-o))/(h*s-a*c);return[r+d*s,l+d*c]}function pr(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}hr.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},hr.centroid=function(t){var e,n,i=-1,r=this.length,o=0,s=0,a=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=a,a=this[i],n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o*t,s*t]},hr.clip=function(t){for(var e,n,i,r,o,s,a=pr(t),l=-1,u=this.length-pr(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],o=e[(i=e.length-a)-1],n=-1;++n<i;)dr(s=e[n],c,r)?(dr(o,c,r)||t.push(fr(o,s,c,r)),t.push(s)):dr(o,c,r)&&t.push(fr(o,s,c,r)),o=s;a&&t.push(t[0]),c=r}return t};var _r,gr,mr,vr,yr,br=[],wr=[];function xr(){Fr(this),this.edge=this.site=this.circle=null}function kr(t){var e=br.pop()||new xr;return e.site=t,e}function Mr(t){Dr(t),mr.remove(t),br.push(t),Fr(t)}function Er(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,s=t.N,a=[t];Mr(t);for(var l=o;l.circle&&x(n-l.circle.x)<St&&x(i-l.circle.cy)<St;)o=l.P,a.unshift(l),Mr(l),l=o;a.unshift(l),Dr(l);for(var u=s;u.circle&&x(n-u.circle.x)<St&&x(i-u.circle.cy)<St;)s=u.N,a.push(u),Mr(u),u=s;a.push(u),Dr(u);var c,h=a.length;for(c=1;c<h;++c)u=a[c],l=a[c-1],Br(u.edge,l.site,u.site,r);l=a[0],(u=a[h-1]).edge=Ir(l.site,u.site,null,r),Pr(l),Pr(u)}function jr(t){for(var e,n,i,r,o=t.x,s=t.y,a=mr._;a;)if((i=Sr(a,s)-o)>St)a=a.L;else{if(!((r=o-Cr(a,s))>St)){i>-St?(e=a.P,n=a):r>-St?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}var l=kr(t);if(mr.insert(e,l),e||n){if(e===n)return Dr(e),n=kr(e.site),mr.insert(l,n),l.edge=n.edge=Ir(e.site,l.site),Pr(e),void Pr(n);if(n){Dr(e),Dr(n);var u=e.site,c=u.x,h=u.y,d=t.x-c,f=t.y-h,p=n.site,_=p.x-c,g=p.y-h,m=2*(d*g-f*_),v=d*d+f*f,y=_*_+g*g,b={x:(g*v-f*y)/m+c,y:(d*y-_*v)/m+h};Br(n.edge,u,p,b),l.edge=Ir(u,t,null,b),n.edge=Ir(t,p,null,b),Pr(e),Pr(n)}else l.edge=Ir(e.site,l.site)}}function Sr(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site).x,l=n.y,u=l-e;if(!u)return a;var c=a-i,h=1/o-1/u,d=c/u;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+i:(i+a)/2}function Cr(t,e){var n=t.N;if(n)return Sr(n,e);var i=t.site;return i.y===e?i.x:1/0}function Ar(t){this.site=t,this.edges=[]}function Or(t,e){return e.angle-t.angle}function Tr(){Fr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Pr(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r.x,a=r.y,l=i.x-s,u=i.y-a,c=o.x-s,h=2*(l*(g=o.y-a)-u*c);if(!(h>=-Ct)){var d=l*l+u*u,f=c*c+g*g,p=(g*d-u*f)/h,_=(l*f-c*d)/h,g=_+a,m=wr.pop()||new Tr;m.arc=t,m.site=r,m.x=p+s,m.y=g+Math.sqrt(p*p+_*_),m.cy=g,t.circle=m;for(var v=null,y=yr._;y;)if(m.y<y.y||m.y===y.y&&m.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}yr.insert(v,m),v||(vr=m)}}}}function Dr(t){var e=t.circle;e&&(e.P||(vr=e.N),yr.remove(e),wr.push(e),Fr(e),t.circle=null)}function Lr(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,s=e[0][0],a=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,d=c.x,f=c.y,p=h.x,_=h.y,g=(d+p)/2,m=(f+_)/2;if(_===f){if(g<s||g>=a)return;if(d>p){if(o){if(o.y>=u)return}else o={x:g,y:l};n={x:g,y:u}}else{if(o){if(o.y<l)return}else o={x:g,y:u};n={x:g,y:l}}}else if(r=m-(i=(d-p)/(_-f))*g,i<-1||i>1)if(d>p){if(o){if(o.y>=u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(f<_){if(o){if(o.x>=a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}else{if(o){if(o.x<s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}return t.a=o,t.b=n,!0}function Rr(t,e){this.l=t,this.r=e,this.a=this.b=null}function Ir(t,e,n,i){var r=new Rr(t,e);return _r.push(r),n&&Br(r,t,e,n),i&&Br(r,e,t,i),gr[t.i].edges.push(new Nr(r,t,e)),gr[e.i].edges.push(new Nr(r,e,t)),r}function Br(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function Nr(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function zr(){this._=null}function Fr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function qr(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Ur(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Hr(t){for(;t.L;)t=t.L;return t}function Wr(t,e){var n,i,r,o=t.sort(Vr).pop();for(_r=[],gr=new Array(t.length),mr=new zr,yr=new zr;;)if(r=vr,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(gr[o.i]=new Ar(o),jr(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;Er(r.arc)}e&&(function(t){for(var e,n=_r,i=li(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Lr(e=n[r],t)||!i(e)||x(e.a.x-e.b.x)<St&&x(e.a.y-e.b.y)<St)&&(e.a=e.b=null,n.splice(r,1))}(e),function(t){for(var e,n,i,r,o,s,a,l,u,c,h=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],_=gr,g=_.length;g--;)if((o=_[g])&&o.prepare())for(l=(a=o.edges).length,s=0;s<l;)i=(c=a[s].end()).x,r=c.y,e=(u=a[++s%l].start()).x,n=u.y,(x(i-e)>St||x(r-n)>St)&&(a.splice(s,0,new Nr((m=o.site,v=c,y=x(i-h)<St&&p-r>St?{x:h,y:x(e-h)<St?n:p}:x(r-p)<St&&d-i>St?{x:x(n-p)<St?e:d,y:p}:x(i-d)<St&&r-f>St?{x:d,y:x(e-d)<St?n:f}:x(r-f)<St&&i-h>St?{x:x(n-f)<St?e:h,y:f}:null,b=void 0,b=new Rr(m,null),b.a=v,b.b=y,_r.push(b),b),o.site,null)),++l);var m,v,y,b}(e));var s={cells:gr,edges:_r};return mr=yr=_r=gr=null,s}function Vr(t,e){return e.y-t.y||e.x-t.x}Ar.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Or),e.length},Nr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},zr.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Hr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(qr(this,n),n=(t=n).U),n.C=!1,i.C=!0,Ur(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Ur(this,n),n=(t=n).U),n.C=!1,i.C=!0,qr(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?Hr(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,qr(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ur(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,qr(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,Ur(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,qr(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Ur(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},o.geom.voronoi=function(t){var e=ar,n=lr,i=e,r=n,o=Kr;if(t)return s(t);function s(t){var e=new Array(t.length),n=o[0][0],i=o[0][1],r=o[1][0],s=o[1][1];return Wr(a(t),o).cells.forEach(function(o,a){var l=o.edges,u=o.site;(e[a]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=n&&u.x<=r&&u.y>=i&&u.y<=s?[[n,s],[r,s],[r,i],[n,i]]:[]).point=t[a]}),e}function a(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/St)*St,y:Math.round(r(t,e)/St)*St,i:e}})}return s.links=function(t){return Wr(a(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},s.triangles=function(t){var e=[];return Wr(a(t)).cells.forEach(function(n,i){for(var r,o,s,a,l=n.site,u=n.edges.sort(Or),c=-1,h=u.length,d=u[h-1].edge,f=d.l===l?d.r:d.l;++c<h;)d,r=f,f=(d=u[c].edge).l===l?d.r:d.l,i<r.i&&i<f.i&&(s=r,a=f,((o=l).x-a.x)*(s.y-o.y)-(o.x-s.x)*(a.y-o.y)<0)&&e.push([t[i],t[r.i],t[f.i]])}),e},s.x=function(t){return arguments.length?(i=be(e=t),s):e},s.y=function(t){return arguments.length?(r=be(n=t),s):n},s.clipExtent=function(t){return arguments.length?(o=null==t?Kr:t,s):o===Kr?null:o},s.size=function(t){return arguments.length?s.clipExtent(t&&[[0,0],t]):o===Kr?null:o&&o[1]},s};var Kr=[[-1e6,-1e6],[1e6,1e6]];function $r(t){return t.x}function Gr(t){return t.y}function Yr(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,i=t.g,r=t.b,s=e.r-n,a=e.g-i,l=e.b-r;return function(t){return"#"+fe(Math.round(n+s*t))+fe(Math.round(i+a*t))+fe(Math.round(r+l*t))}}function Jr(t,e){var n,i={},r={};for(n in t)n in e?i[n]=eo(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function Xr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Zr(t,e){var n,i,r,o=Qr.lastIndex=to.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=Qr.exec(t))&&(i=to.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Xr(n,i)})),o=to.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;i<e;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,i,r){var o,s=ar,a=lr;if(o=arguments.length)return s=$r,a=Gr,3===o&&(r=n,i=e,n=e=0),l(t);function l(t){var l,u,c,h,d,f,p,_,g,m=be(s),v=be(a);if(null!=e)f=e,p=n,_=i,g=r;else if(_=g=-(f=p=1/0),u=[],c=[],d=t.length,o)for(h=0;h<d;++h)(l=t[h]).x<f&&(f=l.x),l.y<p&&(p=l.y),l.x>_&&(_=l.x),l.y>g&&(g=l.y),u.push(l.x),c.push(l.y);else for(h=0;h<d;++h){var y=+m(l=t[h],h),b=+v(l,h);y<f&&(f=y),b<p&&(p=b),y>_&&(_=y),b>g&&(g=b),u.push(y),c.push(b)}var w=_-f,k=g-p;function M(t,e,n,i,r,o,s,a){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(x(l-n)+x(u-i)<.01)E(t,e,n,i,r,o,s,a);else{var c=t.point;t.x=t.y=t.point=null,E(t,c,l,u,r,o,s,a),E(t,e,n,i,r,o,s,a)}else t.x=n,t.y=i,t.point=e}else E(t,e,n,i,r,o,s,a)}function E(t,e,n,i,r,o,s,a){var l=.5*(r+s),u=.5*(o+a),c=n>=l,h=i>=u,d=h<<1|c;t.leaf=!1,c?r=l:s=l,h?o=u:a=u,M(t=t.nodes[d]||(t.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,i,r,o,s,a)}w>k?g=p+w:_=f+k;var j={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){M(j,t,+m(t,++h),+v(t,h),f,p,_,g)}};if(j.visit=function(t){!function t(e,n,i,r,o,s){if(!e(n,i,r,o,s)){var a=.5*(i+o),l=.5*(r+s),u=n.nodes;u[0]&&t(e,u[0],i,r,a,l),u[1]&&t(e,u[1],a,r,o,l),u[2]&&t(e,u[2],i,l,a,s),u[3]&&t(e,u[3],a,l,o,s)}}(t,j,f,p,_,g)},j.find=function(t){return function(t,e,n,i,r,o,s){var a,l=1/0;return function t(u,c,h,d,f){if(!(c>o||h>s||d<i||f<r)){if(p=u.point){var p,_=e-u.x,g=n-u.y,m=_*_+g*g;if(m<l){var v=Math.sqrt(l=m);i=e-v,r=n-v,o=e+v,s=n+v,a=p}}for(var y=u.nodes,b=.5*(c+d),w=.5*(h+f),x=(n>=w)<<1|e>=b,k=x+4;x<k;++x)if(u=y[3&x])switch(3&x){case 0:t(u,c,h,b,w);break;case 1:t(u,b,h,d,w);break;case 2:t(u,c,w,b,f);break;case 3:t(u,b,w,d,f)}}}(t,i,r,o,s),a}(j,t[0],t[1],f,p,_,g)},h=-1,null==e){for(;++h<d;)M(j,t[h],u[h],c[h],f,p,_,g);--h}else t.forEach(j.add);return u=c=t=l=null,j}return l.x=function(t){return arguments.length?(s=t,l):s},l.y=function(t){return arguments.length?(a=t,l):a},l.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),l):null==e?null:[[e,n],[i,r]]},l.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),l):null==e?null:[i-e,r-n]},l},o.interpolateRgb=Yr,o.interpolateObject=Jr,o.interpolateNumber=Xr,o.interpolateString=Zr;var Qr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,to=new RegExp(Qr.source,"g");function eo(t,e){for(var n,i=o.interpolators.length;--i>=0&&!(n=o.interpolators[i](t,e)););return n}function no(t,e){var n,i=[],r=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;n<a;++n)i.push(eo(t[n],e[n]));for(;n<o;++n)r[n]=t[n];for(;n<s;++n)r[n]=e[n];return function(t){for(n=0;n<a;++n)r[n]=i[n](t);return r}}o.interpolate=eo,o.interpolators=[function(t,e){var n=typeof e;return("string"===n?ye.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Yr:Zr:e instanceof Vt?Yr:Array.isArray(e)?no:"object"===n&&isNaN(e)?Jr:Xr)(t,e)}],o.interpolateArray=no;var io=function(){return R},ro=o.map({linear:io,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return lo},cubic:function(){return uo},sin:function(){return ho},exp:function(){return fo},circle:function(){return po},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/Ot*Math.asin(1/t):(t=1,n=e/4);return function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Ot/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return _o}}),oo=o.map({in:R,out:so,"in-out":ao,"out-in":function(t){return ao(so(t))}});function so(t){return function(e){return 1-t(1-e)}}function ao(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function lo(t){return t*t}function uo(t){return t*t*t}function co(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function ho(t){return 1-Math.cos(t*Pt)}function fo(t){return Math.pow(2,10*(t-1))}function po(t){return 1-Math.sqrt(1-t*t)}function _o(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function go(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function mo(t){var e,n,i,r=[t.a,t.b],o=[t.c,t.d],s=yo(r),a=vo(r,o),l=yo(((e=o)[0]+=(i=-a)*(n=r)[0],e[1]+=i*n[1],e))||0;r[0]*o[1]<o[0]*r[1]&&(r[0]*=-1,r[1]*=-1,s*=-1,a*=-1),this.rotate=(s?Math.atan2(r[1],r[0]):Math.atan2(-o[0],o[1]))*Lt,this.translate=[t.e,t.f],this.scale=[s,l],this.skew=l?Math.atan2(a,l)*Lt:0}function vo(t,e){return t[0]*e[0]+t[1]*e[1]}function yo(t){var e=Math.sqrt(vo(t,t));return e&&(t[0]/=e,t[1]/=e),e}o.ease=function(t){var e,n=t.indexOf("-"),i=n>=0?t.slice(0,n):t,r=n>=0?t.slice(n+1):"in";return i=ro.get(i)||io,r=oo.get(r)||R,e=r(i.apply(null,s.call(arguments,1))),function(t){return t<=0?0:t>=1?1:e(t)}},o.interpolateHcl=function(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,i=t.c,r=t.l,s=e.h-n,a=e.c-i,l=e.l-r;isNaN(a)&&(a=0,i=isNaN(i)?e.c:i);isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:s<-180&&(s+=360);return function(t){return Xt(n+s*t,i+a*t,r+l*t)+""}},o.interpolateHsl=function(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,i=t.s,r=t.l,s=e.h-n,a=e.s-i,l=e.l-r;isNaN(a)&&(a=0,i=isNaN(i)?e.s:i);isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:s<-180&&(s+=360);return function(t){return Gt(n+s*t,i+a*t,r+l*t)+""}},o.interpolateLab=function(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,i=t.a,r=t.b,s=e.l-n,a=e.a-i,l=e.b-r;return function(t){return re(n+s*t,i+a*t,r+l*t)+""}},o.interpolateRound=go,o.transform=function(t){var e=l.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new mo(n?n.matrix:bo)})(t)},mo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var bo={a:1,b:0,c:0,d:1,e:0,f:0};function wo(t){return t.length?t.pop()+",":""}function xo(t,e){var n=[],i=[];return t=o.transform(t),e=o.transform(e),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:Xr(t[0],e[0])},{i:r-2,x:Xr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,i),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(wo(n)+"rotate(",null,")")-2,x:Xr(t,e)})):e&&n.push(wo(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,i),function(t,e,n,i){t!==e?i.push({i:n.push(wo(n)+"skewX(",null,")")-2,x:Xr(t,e)}):e&&n.push(wo(n)+"skewX("+e+")")}(t.skew,e.skew,n,i),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(wo(n)+"scale(",null,",",null,")");i.push({i:r-4,x:Xr(t[0],e[0])},{i:r-2,x:Xr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(wo(n)+"scale("+e+")")}(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,r=-1,o=i.length;++r<o;)n[(e=i[r]).i]=e.x(t);return n.join("")}}function ko(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Mo(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Eo(t){for(var e=t.source,n=t.target,i=function(t,e){if(t===e)return t;var n=jo(t),i=jo(e),r=n.pop(),o=i.pop(),s=null;for(;r===o;)s=r,r=n.pop(),o=i.pop();return s}(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function jo(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function So(t){t.fixed|=2}function Co(t){t.fixed&=-7}function Ao(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Oo(t){t.fixed&=-5}o.interpolateTransform=xo,o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Eo(t[n]));return e}},o.layout.chord=function(){var t,e,n,i,r,s,a,l={},u=0;function c(){var l,c,d,f,p,_={},g=[],m=o.range(i),v=[];for(t=[],e=[],l=0,f=-1;++f<i;){for(c=0,p=-1;++p<i;)c+=n[f][p];g.push(c),v.push(o.range(i)),l+=c}for(r&&m.sort(function(t,e){return r(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,i){return s(n[e][t],n[e][i])})}),l=(Ot-u*i)/l,c=0,f=-1;++f<i;){for(d=c,p=-1;++p<i;){var y=m[f],b=v[y][p],w=n[y][b],x=c,k=c+=w*l;_[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:k,value:w}}e[y]={index:y,startAngle:d,endAngle:c,value:g[y]},c+=u}for(f=-1;++f<i;)for(p=f-1;++p<i;){var M=_[f+"-"+p],E=_[p+"-"+f];(M.value||E.value)&&t.push(M.value<E.value?{source:E,target:M}:{source:M,target:E})}a&&h()}function h(){t.sort(function(t,e){return a((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return l.matrix=function(r){return arguments.length?(i=(n=r)&&n.length,t=e=null,l):n},l.padding=function(n){return arguments.length?(u=n,t=e=null,l):u},l.sortGroups=function(n){return arguments.length?(r=n,t=e=null,l):r},l.sortSubgroups=function(e){return arguments.length?(s=e,t=null,l):s},l.sortChords=function(e){return arguments.length?(a=e,t&&h(),l):a},l.chords=function(){return t||c(),t},l.groups=function(){return e||c(),e},l},o.layout.force=function(){var t,e,n,i,r,s,a={},l=o.dispatch("start","tick","end"),u=[1,1],c=.9,h=To,d=Po,f=-30,p=Do,_=.1,g=.64,m=[],v=[];function y(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,s=e.cy-t.y,a=r-n,l=o*o+s*s;if(a*a/g<l){if(l<p){var u=e.charge/l;t.px-=o*u,t.py-=s*u}return!0}if(e.point&&l&&l<p){u=e.pointCharge/l;t.px-=o*u,t.py-=s*u}}return!e.charge}}function b(t){t.px=o.event.x,t.py=o.event.y,a.resume()}return a.tick=function(){if((n*=.99)<.005)return t=null,l.end({type:"end",alpha:n=0}),!0;var e,a,h,d,p,g,b,w,x,k=m.length,M=v.length;for(a=0;a<M;++a)d=(h=v[a]).source,(g=(w=(p=h.target).x-d.x)*w+(x=p.y-d.y)*x)&&(w*=g=n*r[a]*((g=Math.sqrt(g))-i[a])/g,x*=g,p.x-=w*(b=d.weight+p.weight?d.weight/(d.weight+p.weight):.5),p.y-=x*b,d.x+=w*(b=1-b),d.y+=x*b);if((b=n*_)&&(w=u[0]/2,x=u[1]/2,a=-1,b))for(;++a<k;)(h=m[a]).x+=(w-h.x)*b,h.y+=(x-h.y)*b;if(f)for(!function t(e,n,i){var r=0,o=0;e.charge=0;if(!e.leaf)for(var s,a=e.nodes,l=a.length,u=-1;++u<l;)null!=(s=a[u])&&(t(s,n,i),e.charge+=s.charge,r+=s.charge*s.cx,o+=s.charge*s.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*i[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,o+=c*e.point.y}e.cx=r/e.charge;e.cy=o/e.charge}(e=o.geom.quadtree(m),n,s),a=-1;++a<k;)(h=m[a]).fixed||e.visit(y(h));for(a=-1;++a<k;)(h=m[a]).fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*c,h.y-=(h.py-(h.py=h.y))*c);l.tick({type:"tick",alpha:n})},a.nodes=function(t){return arguments.length?(m=t,a):m},a.links=function(t){return arguments.length?(v=t,a):v},a.size=function(t){return arguments.length?(u=t,a):u},a.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,a):d},a.friction=function(t){return arguments.length?(c=+t,a):c},a.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,a):f},a.chargeDistance=function(t){return arguments.length?(p=t*t,a):Math.sqrt(p)},a.gravity=function(t){return arguments.length?(_=+t,a):_},a.theta=function(t){return arguments.length?(g=t*t,a):Math.sqrt(g)},a.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:n=0})):e>0&&(l.start({type:"start",alpha:n=e}),t=Ce(a.tick)),a):n},a.start=function(){var t,e,n,o=m.length,l=v.length,c=u[0],p=u[1];for(t=0;t<o;++t)(n=m[t]).index=t,n.weight=0;for(t=0;t<l;++t)"number"==typeof(n=v[t]).source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<o;++t)n=m[t],isNaN(n.x)&&(n.x=_("x",c)),isNaN(n.y)&&(n.y=_("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof h)for(t=0;t<l;++t)i[t]=+h.call(this,v[t],t);else for(t=0;t<l;++t)i[t]=h;if(r=[],"function"==typeof d)for(t=0;t<l;++t)r[t]=+d.call(this,v[t],t);else for(t=0;t<l;++t)r[t]=d;if(s=[],"function"==typeof f)for(t=0;t<o;++t)s[t]=+f.call(this,m[t],t);else for(t=0;t<o;++t)s[t]=f;function _(n,i){if(!e){for(e=new Array(o),u=0;u<o;++u)e[u]=[];for(u=0;u<l;++u){var r=v[u];e[r.source.index].push(r.target),e[r.target.index].push(r.source)}}for(var s,a=e[t],u=-1,c=a.length;++u<c;)if(!isNaN(s=a[u][n]))return s;return Math.random()*i}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(e||(e=o.behavior.drag().origin(R).on("dragstart.force",So).on("drag.force",b).on("dragend.force",Co)),!arguments.length)return e;this.on("mouseover.force",Ao).on("mouseout.force",Oo).call(e)},o.rebind(a,l,"on")};var To=20,Po=1,Do=1/0;function Lo(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Fo,t}function Ro(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function Io(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,s=-1;++s<r;)n.push(o[s]);for(;null!=(t=i.pop());)e(t)}function Bo(t){return t.children}function No(t){return t.value}function zo(t,e){return e.value-t.value}function Fo(t){return o.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}o.layout.hierarchy=function(){var t=zo,e=Bo,n=No;function i(r){var o,s=[r],a=[];for(r.depth=0;null!=(o=s.pop());)if(a.push(o),(u=e.call(i,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)s.push(c=u[l]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=u}else n&&(o.value=+n.call(i,o,o.depth)||0),delete o.children;return Io(r,function(e){var i,r;t&&(i=e.children)&&i.sort(t),n&&(r=e.parent)&&(r.value+=e.value)}),a}return i.sort=function(e){return arguments.length?(t=e,i):t},i.children=function(t){return arguments.length?(e=t,i):e},i.value=function(t){return arguments.length?(n=t,i):n},i.revalue=function(t){return n&&(Ro(t,function(t){t.children&&(t.value=0)}),Io(t,function(t){var e;t.children||(t.value=+n.call(i,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},i},o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(n,i){var r=t.call(this,n,i);return function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(s=o.length)){var s,a,l,u=-1;for(i=e.value?i/e.value:0;++u<s;)t(a=o[u],n,l=a.value*i,r),n+=l}}(r[0],0,e[0],e[1]/function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,t(n[o]));return 1+i}(r[0])),r}return n.size=function(t){return arguments.length?(e=t,n):e},Lo(n,t)},o.layout.pie=function(){var t=Number,e=qo,n=0,i=Ot,r=0;function s(a){var l,u=a.length,c=a.map(function(e,n){return+t.call(s,e,n)}),h=+("function"==typeof n?n.apply(this,arguments):n),d=("function"==typeof i?i.apply(this,arguments):i)-h,f=Math.min(Math.abs(d)/u,+("function"==typeof r?r.apply(this,arguments):r)),p=f*(d<0?-1:1),_=o.sum(c),g=_?(d-u*p)/_:0,m=o.range(u),v=[];return null!=e&&m.sort(e===qo?function(t,e){return c[e]-c[t]}:function(t,n){return e(a[t],a[n])}),m.forEach(function(t){v[t]={data:a[t],value:l=c[t],startAngle:h,endAngle:h+=l*g+p,padAngle:f}}),v}return s.value=function(e){return arguments.length?(t=e,s):t},s.sort=function(t){return arguments.length?(e=t,s):e},s.startAngle=function(t){return arguments.length?(n=t,s):n},s.endAngle=function(t){return arguments.length?(i=t,s):i},s.padAngle=function(t){return arguments.length?(r=t,s):r},s};var qo={};function Uo(t){return t.x}function Ho(t){return t.y}function Wo(t,e,n){t.y0=e,t.y=n}o.layout.stack=function(){var t=R,e=$o,n=Go,i=Wo,r=Uo,s=Ho;function a(l,u){if(!(f=l.length))return l;var c=l.map(function(e,n){return t.call(a,e,n)}),h=c.map(function(t){return t.map(function(t,e){return[r.call(a,t,e),s.call(a,t,e)]})}),d=e.call(a,h,u);c=o.permute(c,d),h=o.permute(h,d);var f,p,_,g,m=n.call(a,h,u),v=c[0].length;for(_=0;_<v;++_)for(i.call(a,c[0][_],g=m[_],h[0][_][1]),p=1;p<f;++p)i.call(a,c[p][_],g+=h[p-1][_][1],h[p][_][1]);return l}return a.values=function(e){return arguments.length?(t=e,a):t},a.order=function(t){return arguments.length?(e="function"==typeof t?t:Vo.get(t)||$o,a):e},a.offset=function(t){return arguments.length?(n="function"==typeof t?t:Ko.get(t)||Go,a):n},a.x=function(t){return arguments.length?(r=t,a):r},a.y=function(t){return arguments.length?(s=t,a):s},a.out=function(t){return arguments.length?(i=t,a):i},a};var Vo=o.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(Yo),s=t.map(Jo),a=o.range(i).sort(function(t,e){return r[t]-r[e]}),l=0,u=0,c=[],h=[];for(e=0;e<i;++e)n=a[e],l<u?(l+=s[n],c.push(n)):(u+=s[n],h.push(n));return h.reverse().concat(c)},reverse:function(t){return o.range(t.length).reverse()},default:$o}),Ko=o.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,s=[],a=0,l=[];for(n=0;n<o;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];i>a&&(a=i),s.push(i)}for(n=0;n<o;++n)l[n]=(a-s[n])/2;return l},wiggle:function(t){var e,n,i,r,o,s,a,l,u,c=t.length,h=t[0],d=h.length,f=[];for(f[0]=l=u=0,n=1;n<d;++n){for(e=0,r=0;e<c;++e)r+=t[e][n][1];for(e=0,o=0,a=h[n][0]-h[n-1][0];e<c;++e){for(i=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);i<e;++i)s+=(t[i][n][1]-t[i][n-1][1])/a;o+=s*t[e][n][1]}f[n]=l-=r?o/r*a:0,l<u&&(u=l)}for(n=0;n<d;++n)f[n]-=u;return f},expand:function(t){var e,n,i,r=t.length,o=t[0].length,s=1/r,a=[];for(n=0;n<o;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=s}for(n=0;n<o;++n)a[n]=0;return a},zero:Go});function $o(t){return o.range(t.length)}function Go(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function Yo(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function Jo(t){return t.reduce(Xo,0)}function Xo(t,e){return t+e[1]}function Zo(t,e){return Qo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Qo(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function ts(t){return[o.min(t),o.max(t)]}function es(t,e){return t.value-e.value}function ns(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function is(t,e){t._pack_next=e,e._pack_prev=t}function rs(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function os(t){if((e=t.children)&&(l=e.length)){var e,n,i,r,o,s,a,l,u=1/0,c=-1/0,h=1/0,d=-1/0;if(e.forEach(ss),(n=e[0]).x=-n.r,n.y=0,y(n),l>1&&((i=e[1]).x=i.r,i.y=0,y(i),l>2))for(ls(n,i,r=e[2]),y(r),ns(n,r),n._pack_prev=r,ns(r,i),i=n._pack_next,o=3;o<l;o++){ls(n,i,r=e[o]);var f=0,p=1,_=1;for(s=i._pack_next;s!==i;s=s._pack_next,p++)if(rs(s,r)){f=1;break}if(1==f)for(a=n._pack_prev;a!==s._pack_prev&&!rs(a,r);a=a._pack_prev,_++);f?(p<_||p==_&&i.r<n.r?is(n,i=s):is(n=a,i),o--):(ns(n,r),i=r,y(r))}var g=(u+c)/2,m=(h+d)/2,v=0;for(o=0;o<l;o++)(r=e[o]).x-=g,r.y-=m,v=Math.max(v,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=v,e.forEach(as)}function y(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}}function ss(t){t._pack_next=t._pack_prev=t}function as(t){delete t._pack_next,delete t._pack_prev}function ls(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var s=e.r+n.r,a=r*r+o*o,l=.5+((i*=i)-(s*=s))/(2*a),u=Math.sqrt(Math.max(0,2*s*(i+a)-(i-=a)*i-s*s))/(2*a);n.x=t.x+l*r+u*o,n.y=t.y+l*o-u*r}else n.x=t.x+i,n.y=t.y}function us(t,e){return t.parent==e.parent?1:2}function cs(t){var e=t.children;return e.length?e[0]:t.t}function hs(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ds(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function fs(t,e,n){return t.a.parent===e.parent?t.a:n}function ps(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function _s(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function gs(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function ms(t){return t.rangeExtent?t.rangeExtent():gs(t.range())}function vs(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function ys(t,e){var n,i=0,r=t.length-1,o=t[i],s=t[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t}function bs(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ws}o.layout.histogram=function(){var t=!0,e=Number,n=ts,i=Zo;function r(r,s){for(var a,l,u=[],c=r.map(e,this),h=n.call(this,c,s),d=i.call(this,h,c,s),f=(s=-1,c.length),p=d.length-1,_=t?1:1/f;++s<p;)(a=u[s]=[]).dx=d[s+1]-(a.x=d[s]),a.y=0;if(p>0)for(s=-1;++s<f;)(l=c[s])>=h[0]&&l<=h[1]&&((a=u[o.bisect(d,l,1,p)-1]).y+=_,a.push(r[s]));return u}return r.value=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=be(t),r):n},r.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return Qo(e,t)}:be(t),r):i},r.frequency=function(e){return arguments.length?(t=!!e,r):t},r},o.layout.pack=function(){var t,e=o.layout.hierarchy().sort(es),n=0,i=[1,1];function r(r,o){var s=e.call(this,r,o),a=s[0],l=i[0],u=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Io(a,function(t){t.r=+c(t.value)}),Io(a,os),n){var h=n*(t?1:Math.max(2*a.r/l,2*a.r/u))/2;Io(a,function(t){t.r+=h}),Io(a,os),Io(a,function(t){t.r-=h})}return function t(e,n,i,r){var o=e.children;e.x=n+=r*e.x;e.y=i+=r*e.y;e.r*=r;if(o)for(var s=-1,a=o.length;++s<a;)t(o[s],n,i,r)}(a,l/2,u/2,t?1:1/Math.max(2*a.r/l,2*a.r/u)),s}return r.size=function(t){return arguments.length?(i=t,r):i},r.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,r):t},r.padding=function(t){return arguments.length?(n=+t,r):n},Lo(r,e)},o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=us,n=[1,1],i=null;function r(r,o){var u=t.call(this,r,o),c=u[0],h=function(t){var e,n={A:null,children:[t]},i=[n];for(;null!=(e=i.pop());)for(var r,o=e.children,s=0,a=o.length;s<a;++s)i.push((o[s]=r={_:o[s],parent:e,children:(r=o[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return n.children[0]}(c);if(Io(h,s),h.parent.m=-h.z,Ro(h,a),i)Ro(c,l);else{var d=c,f=c,p=c;Ro(c,function(t){t.x<d.x&&(d=t),t.x>f.x&&(f=t),t.depth>p.depth&&(p=t)});var _=e(d,f)/2-d.x,g=n[0]/(f.x+e(f,d)/2+_),m=n[1]/(p.depth||1);Ro(c,function(t){t.x=(t.x+_)*g,t.y=t.depth*m})}return u}function s(t){var n=t.children,i=t.parent.children,r=t.i?i[t.i-1]:null;if(n.length){!function(t){var e,n=0,i=0,r=t.children,o=r.length;for(;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+e(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+e(t._,r._));t.parent.A=function(t,n,i){if(n){for(var r,o=t,s=t,a=n,l=o.parent.children[0],u=o.m,c=s.m,h=a.m,d=l.m;a=hs(a),o=cs(o),a&&o;)l=cs(l),(s=hs(s)).a=t,(r=a.z+h-o.z-u+e(a._,o._))>0&&(ds(fs(a,t,i),t,r),u+=r,c+=r),h+=a.m,u+=o.m,d+=l.m,c+=s.m;a&&!hs(s)&&(s.t=a,s.m+=h-c),o&&!cs(l)&&(l.t=o,l.m+=u-d,i=t)}return i}(t,r,t.parent.A||i[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=n[0],t.y=t.depth*n[1]}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(t){return arguments.length?(i=null==(n=t)?l:null,r):i?null:n},r.nodeSize=function(t){return arguments.length?(i=null==(n=t)?null:l,r):i?n:null},Lo(r,t)},o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=us,n=[1,1],i=!1;function r(r,s){var a,l=t.call(this,r,s),u=l[0],c=0;Io(u,function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(n),t.y=function(t){return 1+o.max(t,function(t){return t.y})}(n)):(t.x=a?c+=e(t,a):0,t.y=0,a=t)});var h=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(u),d=function t(e){var n,i=e.children;return i&&(n=i.length)?t(i[n-1]):e}(u),f=h.x-e(h,d)/2,p=d.x+e(d,h)/2;return Io(u,i?function(t){t.x=(t.x-u.x)*n[0],t.y=(u.y-t.y)*n[1]}:function(t){t.x=(t.x-f)/(p-f)*n[0],t.y=(1-(u.y?t.y/u.y:1))*n[1]}),l}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(t){return arguments.length?(i=null==(n=t),r):i?null:n},r.nodeSize=function(t){return arguments.length?(i=null!=(n=t),r):i?n:null},Lo(r,t)},o.layout.treemap=function(){var t,e=o.layout.hierarchy(),n=Math.round,i=[1,1],r=null,s=ps,a=!1,l="squarify",u=.5*(1+Math.sqrt(5));function c(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function h(t){var e=t.children;if(e&&e.length){var n,i,r,o=s(t),a=[],u=e.slice(),d=1/0,_="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(u,o.dx*o.dy/t.value),a.area=0;(r=u.length)>0;)a.push(n=u[r-1]),a.area+=n.area,"squarify"!==l||(i=f(a,_))<=d?(u.pop(),d=i):(a.area-=a.pop().area,p(a,_,o,!1),_=Math.min(o.dx,o.dy),a.length=a.area=0,d=1/0);a.length&&(p(a,_,o,!0),a.length=a.area=0),e.forEach(h)}}function d(t){var e=t.children;if(e&&e.length){var n,i=s(t),r=e.slice(),o=[];for(c(r,i.dx*i.dy/t.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);e.forEach(d)}}function f(t,e){for(var n,i=t.area,r=0,o=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(n<o&&(o=n),n>r&&(r=n));return e*=e,(i*=i)?Math.max(e*r*u/i,i/(e*o*u)):1/0}function p(t,e,i,r){var o,s=-1,a=t.length,l=i.x,u=i.y,c=e?n(t.area/e):0;if(e==i.dx){for((r||c>i.dy)&&(c=i.dy);++s<a;)(o=t[s]).x=l,o.y=u,o.dy=c,l+=o.dx=Math.min(i.x+i.dx-l,c?n(o.area/c):0);o.z=!0,o.dx+=i.x+i.dx-l,i.y+=c,i.dy-=c}else{for((r||c>i.dx)&&(c=i.dx);++s<a;)(o=t[s]).x=l,o.y=u,o.dx=c,u+=o.dy=Math.min(i.y+i.dy-u,c?n(o.area/c):0);o.z=!1,o.dy+=i.y+i.dy-u,i.x+=c,i.dx-=c}}function _(n){var r=t||e(n),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,t&&e.revalue(o),c([o],o.dx*o.dy/o.value),(t?d:h)(o),a&&(t=r),r}return _.size=function(t){return arguments.length?(i=t,_):i},_.padding=function(t){if(!arguments.length)return r;function e(e){return _s(e,t)}var n;return s=null==(r=t)?ps:"function"==(n=typeof t)?function(e){var n=t.call(_,e,e.depth);return null==n?ps(e):_s(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,_},_.round=function(t){return arguments.length?(n=t?Math.round:Number,_):n!=Number},_.sticky=function(e){return arguments.length?(a=e,t=null,_):a},_.ratio=function(t){return arguments.length?(u=t,_):u},_.mode=function(t){return arguments.length?(l=t+"",_):l},Lo(_,e)},o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,i,r;do{r=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};var ws={floor:R,ceil:R};function xs(t,e,n,i){var r=[],s=[],a=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=l;)r.push(n(t[a-1],t[a])),s.push(i(e[a-1],e[a]));return function(e){var n=o.bisect(t,e,1,l)-1;return s[n](r[n](e))}}function ks(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ms(t,e){return ys(t,bs(Es(t,e)[2])),ys(t,bs(Es(t,e)[2])),t}function Es(t,e){null==e&&(e=10);var n=gs(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function js(t,e){return o.range.apply(o,Es(t,e))}function Ss(t,e,n){var i=Es(t,e);if(n){var r=Re.exec(n);if(r.shift(),"s"===r[8]){var s=o.formatPrefix(Math.max(x(i[0]),x(i[1])));return r[7]||(r[7]="."+As(s.scale(i[2]))),r[8]="f",n=o.format(r.join("")),function(t){return n(s.scale(t))+s.symbol}}r[7]||(r[7]="."+function(t,e){var n=As(e[2]);return t in Cs?Math.abs(n-As(Math.max(x(e[0]),x(e[1]))))+ +("e"!==t):n-2*("%"===t)}(r[8],i)),n=r.join("")}else n=",."+As(i[2])+"f";return o.format(n)}o.scale.linear=function(){return function t(e,n,i,r){var o,s;function a(){var t=Math.min(e.length,n.length)>2?xs:vs,a=r?Mo:ko;return o=t(e,n,a,i),s=t(n,e,a,eo),l}function l(t){return o(t)}l.invert=function(t){return s(t)};l.domain=function(t){return arguments.length?(e=t.map(Number),a()):e};l.range=function(t){return arguments.length?(n=t,a()):n};l.rangeRound=function(t){return l.range(t).interpolate(go)};l.clamp=function(t){return arguments.length?(r=t,a()):r};l.interpolate=function(t){return arguments.length?(i=t,a()):i};l.ticks=function(t){return js(e,t)};l.tickFormat=function(t,n){return Ss(e,t,n)};l.nice=function(t){return Ms(e,t),a()};l.copy=function(){return t(e,n,i,r)};return a()}([0,1],[0,1],eo,!1)};var Cs={s:1,g:1,p:1,r:1,e:1};function As(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}o.scale.log=function(){return function t(e,n,i,r){function s(t){return(i?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function a(t){return i?Math.pow(n,t):-Math.pow(n,-t)}function l(t){return e(s(t))}l.invert=function(t){return a(e.invert(t))};l.domain=function(t){return arguments.length?(i=t[0]>=0,e.domain((r=t.map(Number)).map(s)),l):r};l.base=function(t){return arguments.length?(n=+t,e.domain(r.map(s)),l):n};l.nice=function(){var t=ys(r.map(s),i?Math:Ts);return e.domain(t),r=t.map(a),l};l.ticks=function(){var t=gs(r),e=[],o=t[0],l=t[1],u=Math.floor(s(o)),c=Math.ceil(s(l)),h=n%1?2:n;if(isFinite(c-u)){if(i){for(;u<c;u++)for(var d=1;d<h;d++)e.push(a(u)*d);e.push(a(u))}else for(e.push(a(u));u++<c;)for(var d=h-1;d>0;d--)e.push(a(u)*d);for(u=0;e[u]<o;u++);for(c=e.length;e[c-1]>l;c--);e=e.slice(u,c)}return e};l.tickFormat=function(t,e){if(!arguments.length)return Os;arguments.length<2?e=Os:"function"!=typeof e&&(e=o.format(e));var i=Math.max(1,n*t/l.ticks().length);return function(t){var r=t/a(Math.round(s(t)));return r*n<n-.5&&(r*=n),r<=i?e(t):""}};l.copy=function(){return t(e.copy(),n,i,r)};return ks(l,e)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Os=o.format(".0e"),Ts={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Ps(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.pow=function(){return function t(e,n,i){var r=Ps(n),o=Ps(1/n);function s(t){return e(r(t))}s.invert=function(t){return o(e.invert(t))};s.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(r)),s):i};s.ticks=function(t){return js(i,t)};s.tickFormat=function(t,e){return Ss(i,t,e)};s.nice=function(t){return s.domain(Ms(i,t))};s.exponent=function(t){return arguments.length?(r=Ps(n=t),o=Ps(1/n),e.domain(i.map(r)),s):n};s.copy=function(){return t(e.copy(),n,i)};return ks(s,e)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function t(e,n){var i,r,s;function a(t){return r[((i.get(t)||("range"===n.t?i.set(t,e.push(t)):NaN))-1)%r.length]}function l(t,n){return o.range(e.length).map(function(e){return t+n*e})}a.domain=function(t){if(!arguments.length)return e;e=[],i=new M;for(var r,o=-1,s=t.length;++o<s;)i.has(r=t[o])||i.set(r,e.push(r));return a[n.t].apply(a,n.a)};a.range=function(t){return arguments.length?(r=t,s=0,n={t:"range",a:arguments},a):r};a.rangePoints=function(t,i){arguments.length<2&&(i=0);var o=t[0],u=t[1],c=e.length<2?(o=(o+u)/2,0):(u-o)/(e.length-1+i);return r=l(o+c*i/2,c),s=0,n={t:"rangePoints",a:arguments},a};a.rangeRoundPoints=function(t,i){arguments.length<2&&(i=0);var o=t[0],u=t[1],c=e.length<2?(o=u=Math.round((o+u)/2),0):(u-o)/(e.length-1+i)|0;return r=l(o+Math.round(c*i/2+(u-o-(e.length-1+i)*c)/2),c),s=0,n={t:"rangeRoundPoints",a:arguments},a};a.rangeBands=function(t,i,o){arguments.length<2&&(i=0),arguments.length<3&&(o=i);var u=t[1]<t[0],c=t[u-0],h=t[1-u],d=(h-c)/(e.length-i+2*o);return r=l(c+d*o,d),u&&r.reverse(),s=d*(1-i),n={t:"rangeBands",a:arguments},a};a.rangeRoundBands=function(t,i,o){arguments.length<2&&(i=0),arguments.length<3&&(o=i);var u=t[1]<t[0],c=t[u-0],h=t[1-u],d=Math.floor((h-c)/(e.length-i+2*o));return r=l(c+Math.round((h-c-(e.length-i)*d)/2),d),u&&r.reverse(),s=Math.round(d*(1-i)),n={t:"rangeRoundBands",a:arguments},a};a.rangeBand=function(){return s};a.rangeExtent=function(){return gs(n.a[0])};a.copy=function(){return t(e,n)};return a.domain(e)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Ds)},o.scale.category20=function(){return o.scale.ordinal().range(Ls)},o.scale.category20b=function(){return o.scale.ordinal().range(Rs)},o.scale.category20c=function(){return o.scale.ordinal().range(Is)};var Ds=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(he),Ls=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(he),Rs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(he),Is=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(he);function Bs(){return 0}o.scale.quantile=function(){return function t(e,n){var i;function r(){var t=0,r=n.length;for(i=[];++t<r;)i[t-1]=o.quantile(e,t/r);return s}function s(t){if(!isNaN(t=+t))return n[o.bisect(i,t)]}s.domain=function(t){return arguments.length?(e=t.map(m).filter(v).sort(g),r()):e};s.range=function(t){return arguments.length?(n=t,r()):n};s.quantiles=function(){return i};s.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?i[t-1]:e[0],t<i.length?i[t]:e[e.length-1]]};s.copy=function(){return t(e,n)};return r()}([],[])},o.scale.quantize=function(){return function t(e,n,i){var r,o;function s(t){return i[Math.max(0,Math.min(o,Math.floor(r*(t-e))))]}function a(){return r=i.length/(n-e),o=i.length-1,s}s.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],a()):[e,n]};s.range=function(t){return arguments.length?(i=t,a()):i};s.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/r+e,t+1/r]};s.copy=function(){return t(e,n,i)};return a()}(0,1,[0,1])},o.scale.threshold=function(){return function t(e,n){function i(t){if(t<=t)return n[o.bisect(e,t)]}i.domain=function(t){return arguments.length?(e=t,i):e};i.range=function(t){return arguments.length?(n=t,i):n};i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]};i.copy=function(){return t(e,n)};return i}([.5],[0,1])},o.scale.identity=function(){return function t(e){function n(t){return+t}n.invert=n;n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e};n.ticks=function(t){return js(e,t)};n.tickFormat=function(t,n){return Ss(e,t,n)};n.copy=function(){return t(e)};return n}([0,1])},o.svg={},o.svg.arc=function(){var t=zs,e=Fs,n=Bs,i=Ns,r=qs,o=Us,s=Hs;function a(){var a=Math.max(0,+t.apply(this,arguments)),u=Math.max(0,+e.apply(this,arguments)),c=r.apply(this,arguments)-Pt,h=o.apply(this,arguments)-Pt,d=Math.abs(h-c),f=c>h?0:1;if(u<a&&(p=u,u=a,a=p),d>=Tt)return l(u,f)+(a?l(a,1-f):"")+"Z";var p,_,g,m,v,y,b,w,x,k,M,E,j=0,S=0,C=[];if((m=(+s.apply(this,arguments)||0)/2)&&(g=i===Ns?Math.sqrt(a*a+u*u):+i.apply(this,arguments),f||(S*=-1),u&&(S=Nt(g/u*Math.sin(m))),a&&(j=Nt(g/a*Math.sin(m)))),u){v=u*Math.cos(c+S),y=u*Math.sin(c+S),b=u*Math.cos(h-S),w=u*Math.sin(h-S);var A=Math.abs(h-c-2*S)<=At?0:1;if(S&&Ws(v,y,b,w)===f^A){var O=(c+h)/2;v=u*Math.cos(O),y=u*Math.sin(O),b=w=null}}else v=y=0;if(a){x=a*Math.cos(h-j),k=a*Math.sin(h-j),M=a*Math.cos(c+j),E=a*Math.sin(c+j);var T=Math.abs(c-h+2*j)<=At?0:1;if(j&&Ws(x,k,M,E)===1-f^T){var P=(c+h)/2;x=a*Math.cos(P),k=a*Math.sin(P),M=E=null}}else x=k=0;if(d>St&&(p=Math.min(Math.abs(u-a)/2,+n.apply(this,arguments)))>.001){_=a<u^f?0:1;var D=p,L=p;if(d<At){var R=null==M?[x,k]:null==b?[v,y]:fr([v,y],[M,E],[b,w],[x,k]),I=v-R[0],B=y-R[1],N=b-R[0],z=w-R[1],F=1/Math.sin(Math.acos((I*N+B*z)/(Math.sqrt(I*I+B*B)*Math.sqrt(N*N+z*z)))/2),q=Math.sqrt(R[0]*R[0]+R[1]*R[1]);L=Math.min(p,(a-q)/(F-1)),D=Math.min(p,(u-q)/(F+1))}if(null!=b){var U=Vs(null==M?[x,k]:[M,E],[v,y],u,D,f),H=Vs([b,w],[x,k],u,D,f);p===D?C.push("M",U[0],"A",D,",",D," 0 0,",_," ",U[1],"A",u,",",u," 0 ",1-f^Ws(U[1][0],U[1][1],H[1][0],H[1][1]),",",f," ",H[1],"A",D,",",D," 0 0,",_," ",H[0]):C.push("M",U[0],"A",D,",",D," 0 1,",_," ",H[0])}else C.push("M",v,",",y);if(null!=M){var W=Vs([v,y],[M,E],a,-L,f),V=Vs([x,k],null==b?[v,y]:[b,w],a,-L,f);p===L?C.push("L",V[0],"A",L,",",L," 0 0,",_," ",V[1],"A",a,",",a," 0 ",f^Ws(V[1][0],V[1][1],W[1][0],W[1][1]),",",1-f," ",W[1],"A",L,",",L," 0 0,",_," ",W[0]):C.push("L",V[0],"A",L,",",L," 0 0,",_," ",W[0])}else C.push("L",x,",",k)}else C.push("M",v,",",y),null!=b&&C.push("A",u,",",u," 0 ",A,",",f," ",b,",",w),C.push("L",x,",",k),null!=M&&C.push("A",a,",",a," 0 ",T,",",1-f," ",M,",",E);return C.push("Z"),C.join("")}function l(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return a.innerRadius=function(e){return arguments.length?(t=be(e),a):t},a.outerRadius=function(t){return arguments.length?(e=be(t),a):e},a.cornerRadius=function(t){return arguments.length?(n=be(t),a):n},a.padRadius=function(t){return arguments.length?(i=t==Ns?Ns:be(t),a):i},a.startAngle=function(t){return arguments.length?(r=be(t),a):r},a.endAngle=function(t){return arguments.length?(o=be(t),a):o},a.padAngle=function(t){return arguments.length?(s=be(t),a):s},a.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-Pt;return[Math.cos(i)*n,Math.sin(i)*n]},a};var Ns="auto";function zs(t){return t.innerRadius}function Fs(t){return t.outerRadius}function qs(t){return t.startAngle}function Us(t){return t.endAngle}function Hs(t){return t&&t.padAngle}function Ws(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function Vs(t,e,n,i,r){var o=t[0]-e[0],s=t[1]-e[1],a=(r?i:-i)/Math.sqrt(o*o+s*s),l=a*s,u=-a*o,c=t[0]+l,h=t[1]+u,d=e[0]+l,f=e[1]+u,p=(c+d)/2,_=(h+f)/2,g=d-c,m=f-h,v=g*g+m*m,y=n-i,b=c*f-d*h,w=(m<0?-1:1)*Math.sqrt(Math.max(0,y*y*v-b*b)),x=(b*m-g*w)/v,k=(-b*g-m*w)/v,M=(b*m+g*w)/v,E=(-b*g+m*w)/v,j=x-p,S=k-_,C=M-p,A=E-_;return j*j+S*S>C*C+A*A&&(x=M,k=E),[[x-l,k-u],[x*n/y,k*n/y]]}function Ks(t){var e=ar,n=lr,i=Qn,r=Gs,o=r.key,s=.7;function a(o){var a,l=[],u=[],c=-1,h=o.length,d=be(e),f=be(n);function p(){l.push("M",r(t(u),s))}for(;++c<h;)i.call(this,a=o[c],c)?u.push([+d.call(this,a,c),+f.call(this,a,c)]):u.length&&(p(),u=[]);return u.length&&p(),l.length?l.join(""):null}return a.x=function(t){return arguments.length?(e=t,a):e},a.y=function(t){return arguments.length?(n=t,a):n},a.defined=function(t){return arguments.length?(i=t,a):i},a.interpolate=function(t){return arguments.length?(o="function"==typeof t?r=t:(r=$s.get(t)||Gs).key,a):o},a.tension=function(t){return arguments.length?(s=t,a):s},a}o.svg.line=function(){return Ks(R)};var $s=o.map({linear:Gs,"linear-closed":Ys,step:function(t){var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];for(;++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);n>1&&r.push("H",i[0]);return r.join("")},"step-before":Js,"step-after":Xs,basis:ta,"basis-open":function(t){if(t.length<4)return Gs(t);var e,n=[],i=-1,r=t.length,o=[0],s=[0];for(;++i<3;)e=t[i],o.push(e[0]),s.push(e[1]);n.push(ea(ra,o)+","+ea(ra,s)),--i;for(;++i<r;)e=t[i],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),oa(n,o,s);return n.join("")},"basis-closed":function(t){var e,n,i=-1,r=t.length,o=r+4,s=[],a=[];for(;++i<4;)n=t[i%r],s.push(n[0]),a.push(n[1]);e=[ea(ra,s),",",ea(ra,a)],--i;for(;++i<o;)n=t[i%r],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),oa(e,s,a);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],s=t[0][1],a=t[n][0]-o,l=t[n][1]-s,u=-1;++u<=n;)i=t[u],r=u/n,i[0]=e*i[0]+(1-e)*(o+r*a),i[1]=e*i[1]+(1-e)*(s+r*l);return ta(t)},cardinal:function(t,e){return t.length<3?Gs(t):t[0]+Zs(t,Qs(t,e))},"cardinal-open":function(t,e){return t.length<4?Gs(t):t[1]+Zs(t.slice(1,-1),Qs(t,e))},"cardinal-closed":function(t,e){return t.length<3?Ys(t):t[0]+Zs((t.push(t[0]),t),Qs([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Gs(t):t[0]+Zs(t,function(t){var e,n,i,r,o=[],s=function(t){var e=0,n=t.length-1,i=[],r=t[0],o=t[1],s=i[0]=sa(r,o);for(;++e<n;)i[e]=(s+(s=sa(r=o,o=t[e+1])))/2;return i[e]=s,i}(t),a=-1,l=t.length-1;for(;++a<l;)e=sa(t[a],t[a+1]),x(e)<St?s[a]=s[a+1]=0:(n=s[a]/e,i=s[a+1]/e,(r=n*n+i*i)>9&&(r=3*e/Math.sqrt(r),s[a]=r*n,s[a+1]=r*i));a=-1;for(;++a<=l;)r=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([r||0,s[a]*r||0]);return o}(t))}});function Gs(t){return t.length>1?t.join("L"):t+"Z"}function Ys(t){return t.join("L")+"Z"}function Js(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function Xs(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Zs(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Gs(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],s=e[0],a=s,l=1;if(n&&(i+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),e.length>1){a=e[1],o=t[l],l++,i+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],a=e[u],i+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var c=t[l];i+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+c[0]+","+c[1]}return i}function Qs(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],s=t[1],a=1,l=t.length;++a<l;)n=o,o=s,s=t[a],i.push([r*(s[0]-n[0]),r*(s[1]-n[1])]);return i}function ta(t){if(t.length<3)return Gs(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],s=[r,r,r,(i=t[1])[0]],a=[o,o,o,i[1]],l=[r,",",o,"L",ea(ra,s),",",ea(ra,a)];for(t.push(t[n-1]);++e<=n;)i=t[e],s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),oa(l,s,a);return t.pop(),l.push("L",i),l.join("")}function ea(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}$s.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var na=[0,2/3,1/3,0],ia=[0,1/3,2/3,0],ra=[0,1/6,2/3,1/6];function oa(t,e,n){t.push("C",ea(na,e),",",ea(na,n),",",ea(ia,e),",",ea(ia,n),",",ea(ra,e),",",ea(ra,n))}function sa(t,e){return(e[1]-t[1])/(e[0]-t[0])}function aa(t){for(var e,n,i,r=-1,o=t.length;++r<o;)n=(e=t[r])[0],i=e[1]-Pt,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function la(t){var e=ar,n=ar,i=0,r=lr,o=Qn,s=Gs,a=s.key,l=s,u="L",c=.7;function h(a){var h,d,f,p=[],_=[],g=[],m=-1,v=a.length,y=be(e),b=be(i),w=e===n?function(){return d}:be(n),x=i===r?function(){return f}:be(r);function k(){p.push("M",s(t(g),c),u,l(t(_.reverse()),c),"Z")}for(;++m<v;)o.call(this,h=a[m],m)?(_.push([d=+y.call(this,h,m),f=+b.call(this,h,m)]),g.push([+w.call(this,h,m),+x.call(this,h,m)])):_.length&&(k(),_=[],g=[]);return _.length&&k(),p.length?p.join(""):null}return h.x=function(t){return arguments.length?(e=n=t,h):n},h.x0=function(t){return arguments.length?(e=t,h):e},h.x1=function(t){return arguments.length?(n=t,h):n},h.y=function(t){return arguments.length?(i=r=t,h):r},h.y0=function(t){return arguments.length?(i=t,h):i},h.y1=function(t){return arguments.length?(r=t,h):r},h.defined=function(t){return arguments.length?(o=t,h):o},h.interpolate=function(t){return arguments.length?(a="function"==typeof t?s=t:(s=$s.get(t)||Gs).key,l=s.reverse||s,u=s.closed?"M":"L",h):a},h.tension=function(t){return arguments.length?(c=t,h):c},h}function ua(t){return t.radius}function ca(t){return[t.x,t.y]}function ha(){return 64}function da(){return"circle"}function fa(t){var e=Math.sqrt(t/At);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}o.svg.line.radial=function(){var t=Ks(aa);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Js.reverse=Xs,Xs.reverse=Js,o.svg.area=function(){return la(R)},o.svg.area.radial=function(){var t=la(aa);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=$i,e=Gi,n=ua,i=qs,r=Us;function o(n,i){var r,o,u=s(this,t,n,i),c=s(this,e,n,i);return"M"+u.p0+a(u.r,u.p1,u.a1-u.a0)+(o=c,(r=u).a0==o.a0&&r.a1==o.a1?l(u.r,u.p1,u.r,u.p0):l(u.r,u.p1,c.r,c.p0)+a(c.r,c.p1,c.a1-c.a0)+l(c.r,c.p1,u.r,u.p0))+"Z"}function s(t,e,o,s){var a=e.call(t,o,s),l=n.call(t,a,s),u=i.call(t,a,s)-Pt,c=r.call(t,a,s)-Pt;return{r:l,a0:u,a1:c,p0:[l*Math.cos(u),l*Math.sin(u)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(n>At)+",1 "+e}function l(t,e,n,i){return"Q 0,0 "+i}return o.radius=function(t){return arguments.length?(n=be(t),o):n},o.source=function(e){return arguments.length?(t=be(e),o):t},o.target=function(t){return arguments.length?(e=be(t),o):e},o.startAngle=function(t){return arguments.length?(i=be(t),o):i},o.endAngle=function(t){return arguments.length?(r=be(t),o):r},o},o.svg.diagonal=function(){var t=$i,e=Gi,n=ca;function i(i,r){var o=t.call(this,i,r),s=e.call(this,i,r),a=(o.y+s.y)/2,l=[o,{x:o.x,y:a},{x:s.x,y:a},s];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return i.source=function(e){return arguments.length?(t=be(e),i):t},i.target=function(t){return arguments.length?(e=be(t),i):e},i.projection=function(t){return arguments.length?(n=t,i):n},i},o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=ca,n=t.projection;return t.projection=function(t){return arguments.length?n(function(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Pt;return[n*Math.cos(i),n*Math.sin(i)]}}(e=t)):e},t},o.svg.symbol=function(){var t=da,e=ha;function n(n,i){return(pa.get(t.call(this,n,i))||fa)(e.call(this,n,i))}return n.type=function(e){return arguments.length?(t=be(e),n):t},n.size=function(t){return arguments.length?(e=be(t),n):e},n};var pa=o.map({circle:fa,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ga)),n=e*ga;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/_a),n=e*_a/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/_a),n=e*_a/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=pa.keys();var _a=Math.sqrt(3),ga=Math.tan(30*Dt);X.transition=function(t){for(var e,n,i=ba||++ka,r=ja(t),o=[],s=wa||{time:Date.now(),ease:co,delay:0,duration:250},a=-1,l=this.length;++a<l;){o.push(e=[]);for(var u=this[a],c=-1,h=u.length;++c<h;)(n=u[c])&&Sa(n,c,r,i,s),e.push(n)}return ya(o,r,i)},X.interrupt=function(t){return this.each(null==t?ma:va(ja(t)))};var ma=va(ja());function va(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function ya(t,e,n){return K(t,xa),t.namespace=e,t.id=n,t}var ba,wa,xa=[],ka=0;function Ma(t,e,n,i){var r=t.id,o=t.namespace;return pt(t,"function"==typeof n?function(t,s,a){t[o][r].tween.set(e,i(n.call(t,t.__data__,s,a)))}:(n=i(n),function(t){t[o][r].tween.set(e,n)}))}function Ea(t){return null==t&&(t=""),function(){this.textContent=t}}function ja(t){return null==t?"__transition__":"__transition_"+t+"__"}function Sa(t,e,n,i,r){var o,s,a,l,u,c=t[n]||(t[n]={active:0,count:0}),h=c[i];function d(n){var r=c.active,d=c[r];for(var p in d&&(d.timer.c=null,d.timer.t=NaN,--c.count,delete c[r],d.event&&d.event.interrupt.call(t,t.__data__,d.index)),c)if(+p<i){var _=c[p];_.timer.c=null,_.timer.t=NaN,--c.count,delete c[p]}s.c=f,Ce(function(){return s.c&&f(n||1)&&(s.c=null,s.t=NaN),1},0,o),c.active=i,h.event&&h.event.start.call(t,t.__data__,e),u=[],h.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&u.push(i)}),l=h.ease,a=h.duration}function f(r){for(var o=r/a,s=l(o),d=u.length;d>0;)u[--d].call(t,s);if(o>=1)return h.event&&h.event.end.call(t,t.__data__,e),--c.count?delete c[i]:delete t[n],1}h||(o=r.time,s=Ce(function(t){var e=h.delay;if(s.t=e+o,e<=t)return d(t-e);s.c=d},0,o),h=c[i]={tween:new M,time:o,timer:s,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++c.count)}xa.call=X.call,xa.empty=X.empty,xa.node=X.node,xa.size=X.size,o.transition=function(t,e){return t&&t.transition?ba?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=xa,xa.select=function(t){var e,n,i,r=this.id,o=this.namespace,s=[];t=Z(t);for(var a=-1,l=this.length;++a<l;){s.push(e=[]);for(var u=this[a],c=-1,h=u.length;++c<h;)(i=u[c])&&(n=t.call(i,i.__data__,c,a))?("__data__"in i&&(n.__data__=i.__data__),Sa(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return ya(s,o,r)},xa.selectAll=function(t){var e,n,i,r,o,s=this.id,a=this.namespace,l=[];t=Q(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],d=-1,f=h.length;++d<f;)if(i=h[d]){o=i[a][s],n=t.call(i,i.__data__,d,u),l.push(e=[]);for(var p=-1,_=n.length;++p<_;)(r=n[p])&&Sa(r,p,a,s,o),e.push(r)}return ya(l,a,s)},xa.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=ft(t));for(var r=0,o=this.length;r<o;r++){i.push(e=[]);for(var s,a=0,l=(s=this[r]).length;a<l;a++)(n=s[a])&&t.call(n,n.__data__,a,r)&&e.push(n)}return ya(i,this.namespace,this.id)},xa.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):pt(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},xa.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?xo:eo,i=o.ns.qualify(t);function r(){this.removeAttribute(i)}function s(){this.removeAttributeNS(i.space,i.local)}return Ma(this,"attr."+t,e,i.local?function(t){return null==t?s:(t+="",function(){var e,r=this.getAttributeNS(i.space,i.local);return r!==t&&(e=n(r,t),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}:function(t){return null==t?r:(t+="",function(){var e,r=this.getAttribute(i);return r!==t&&(e=n(r,t),function(t){this.setAttribute(i,e(t))})})})},xa.attrTween=function(t,e){var n=o.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,i){var r=e.call(this,t,i,this.getAttributeNS(n.space,n.local));return r&&function(t){this.setAttributeNS(n.space,n.local,r(t))}}:function(t,i){var r=e.call(this,t,i,this.getAttribute(n));return r&&function(t){this.setAttribute(n,r(t))}})},xa.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function r(){this.style.removeProperty(t)}return Ma(this,"style."+t,e,function(e){return null==e?r:(e+="",function(){var i,r=c(this).getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=eo(r,e),function(e){this.style.setProperty(t,i(e),n)})})})},xa.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(i,r){var o=e.call(this,i,r,c(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}})},xa.text=function(t){return Ma(this,"text",t,Ea)},xa.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},xa.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=o.ease.apply(o,arguments)),pt(this,function(i){i[n][e].ease=t}))},xa.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:pt(this,"function"==typeof t?function(i,r,o){i[n][e].delay=+t.call(i,i.__data__,r,o)}:(t=+t,function(i){i[n][e].delay=t}))},xa.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:pt(this,"function"==typeof t?function(i,r,o){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,o))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},xa.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=wa,s=ba;try{ba=n,pt(this,function(e,r,o){wa=e[i][n],t.call(e,e.__data__,r,o)})}finally{wa=r,ba=s}}else pt(this,function(r){var s=r[i][n];(s.event||(s.event=o.dispatch("start","end","interrupt"))).on(t,e)});return this},xa.transition=function(){for(var t,e,n,i=this.id,r=++ka,o=this.namespace,s=[],a=0,l=this.length;a<l;a++){s.push(t=[]);for(var u,c=0,h=(u=this[a]).length;c<h;c++)(e=u[c])&&Sa(e,c,o,r,{time:(n=e[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return ya(s,o,r)},o.svg.axis=function(){var t,e=o.scale.linear(),n=Ca,i=6,r=6,s=3,l=[10],u=null;function c(a){a.each(function(){var a,c=o.select(this),h=this.__chart__||e,d=this.__chart__=e.copy(),f=null==u?d.ticks?d.ticks.apply(d,l):d.domain():u,p=null==t?d.tickFormat?d.tickFormat.apply(d,l):R:t,_=c.selectAll(".tick").data(f,d),g=_.enter().insert("g",".domain").attr("class","tick").style("opacity",St),m=o.transition(_.exit()).style("opacity",St).remove(),v=o.transition(_.order()).style("opacity",1),y=Math.max(i,0)+s,b=ms(d),w=c.selectAll(".domain").data([0]),x=(w.enter().append("path").attr("class","domain"),o.transition(w));g.append("line"),g.append("text");var k,M,E,j,S=g.select("line"),C=v.select("line"),A=_.select("text").text(p),O=g.select("text"),T=v.select("text"),P="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(a=Oa,k="x",E="y",M="x2",j="y2",A.attr("dy",P<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+b[0]+","+P*r+"V0H"+b[1]+"V"+P*r)):(a=Ta,k="y",E="x",M="y2",j="x2",A.attr("dy",".32em").style("text-anchor",P<0?"end":"start"),x.attr("d","M"+P*r+","+b[0]+"H0V"+b[1]+"H"+P*r)),S.attr(j,P*i),O.attr(E,P*y),C.attr(M,0).attr(j,P*i),T.attr(k,0).attr(E,P*y),d.rangeBand){var D=d,L=D.rangeBand()/2;h=d=function(t){return D(t)+L}}else h.rangeBand?h=d:m.call(a,d,h);g.call(a,h,d),v.call(a,d,d)})}return c.scale=function(t){return arguments.length?(e=t,c):e},c.orient=function(t){return arguments.length?(n=t in Aa?t+"":Ca,c):n},c.ticks=function(){return arguments.length?(l=a(arguments),c):l},c.tickValues=function(t){return arguments.length?(u=t,c):u},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(t){var e=arguments.length;return e?(i=+t,r=+arguments[e-1],c):i},c.innerTickSize=function(t){return arguments.length?(i=+t,c):i},c.outerTickSize=function(t){return arguments.length?(r=+t,c):r},c.tickPadding=function(t){return arguments.length?(s=+t,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var Ca="bottom",Aa={top:1,right:1,bottom:1,left:1};function Oa(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function Ta(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}o.svg.brush=function(){var t,e,n=W(d,"brushstart","brush","brushend"),i=null,r=null,s=[0,0],a=[0,0],l=!0,u=!0,h=Da[0];function d(t){t.each(function(){var t=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(h,R);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Pa[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",d.empty()?"none":null);var s,a=o.transition(t),l=o.transition(e);i&&(s=ms(i),l.attr("x",s[0]).attr("width",s[1]-s[0]),p(a)),r&&(s=ms(r),l.attr("y",s[0]).attr("height",s[1]-s[0]),_(a)),f(a)})}function f(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+s[+/e$/.test(t)]+","+a[+/^s/.test(t)]+")"})}function p(t){t.select(".extent").attr("x",s[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function _(t){t.select(".extent").attr("y",a[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",a[1]-a[0])}function g(){var h,g,m=this,v=o.select(o.event.target),y=n.of(m,arguments),b=o.select(m),w=v.datum(),x=!/^(n|s)$/.test(w)&&i,k=!/^(e|w)$/.test(w)&&r,M=v.classed("extent"),E=kt(m),j=o.mouse(m),S=o.select(c(m)).on("keydown.brush",function(){32==o.event.keyCode&&(M||(h=null,j[0]-=s[1],j[1]-=a[1],M=2),U())}).on("keyup.brush",function(){32==o.event.keyCode&&2==M&&(j[0]+=s[1],j[1]+=a[1],M=0,U())});if(o.event.changedTouches?S.on("touchmove.brush",O).on("touchend.brush",P):S.on("mousemove.brush",O).on("mouseup.brush",P),b.interrupt().selectAll("*").interrupt(),M)j[0]=s[0]-j[0],j[1]=a[0]-j[1];else if(w){var C=+/w$/.test(w),A=+/^n/.test(w);g=[s[1-C]-j[0],a[1-A]-j[1]],j[0]=s[C],j[1]=a[A]}else o.event.altKey&&(h=j.slice());function O(){var t=o.mouse(m),e=!1;g&&(t[0]+=g[0],t[1]+=g[1]),M||(o.event.altKey?(h||(h=[(s[0]+s[1])/2,(a[0]+a[1])/2]),j[0]=s[+(t[0]<h[0])],j[1]=a[+(t[1]<h[1])]):h=null),x&&T(t,i,0)&&(p(b),e=!0),k&&T(t,r,1)&&(_(b),e=!0),e&&(f(b),y({type:"brush",mode:M?"move":"resize"}))}function T(n,i,r){var o,c,d=ms(i),f=d[0],p=d[1],_=j[r],g=r?a:s,m=g[1]-g[0];if(M&&(f-=_,p-=m+_),o=(r?u:l)?Math.max(f,Math.min(p,n[r])):n[r],M?c=(o+=_)+m:(h&&(_=Math.max(f,Math.min(p,2*h[r]-o))),_<o?(c=o,o=_):c=_),g[0]!=o||g[1]!=c)return r?e=null:t=null,g[0]=o,g[1]=c,!0}function P(){O(),b.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null),o.select("body").style("cursor",null),S.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),y({type:"brushend"})}b.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",v.style("cursor")),y({type:"brushstart"}),O()}return d.event=function(i){i.each(function(){var i=n.of(this,arguments),r={x:s,y:a,i:t,j:e},l=this.__chart__||r;this.__chart__=r,ba?o.select(this).transition().each("start.brush",function(){t=l.i,e=l.j,s=l.x,a=l.y,i({type:"brushstart"})}).tween("brush:brush",function(){var n=no(s,r.x),o=no(a,r.y);return t=e=null,function(t){s=r.x=n(t),a=r.y=o(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=r.i,e=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},d.x=function(t){return arguments.length?(h=Da[!(i=t)<<1|!r],d):i},d.y=function(t){return arguments.length?(h=Da[!i<<1|!(r=t)],d):r},d.clamp=function(t){return arguments.length?(i&&r?(l=!!t[0],u=!!t[1]):i?l=!!t:r&&(u=!!t),d):i&&r?[l,u]:i?l:r?u:null},d.extent=function(n){var o,l,u,c,h;return arguments.length?(i&&(o=n[0],l=n[1],r&&(o=o[0],l=l[0]),t=[o,l],i.invert&&(o=i(o),l=i(l)),l<o&&(h=o,o=l,l=h),o==s[0]&&l==s[1]||(s=[o,l])),r&&(u=n[0],c=n[1],i&&(u=u[1],c=c[1]),e=[u,c],r.invert&&(u=r(u),c=r(c)),c<u&&(h=u,u=c,c=h),u==a[0]&&c==a[1]||(a=[u,c])),d):(i&&(t?(o=t[0],l=t[1]):(o=s[0],l=s[1],i.invert&&(o=i.invert(o),l=i.invert(l)),l<o&&(h=o,o=l,l=h))),r&&(e?(u=e[0],c=e[1]):(u=a[0],c=a[1],r.invert&&(u=r.invert(u),c=r.invert(c)),c<u&&(h=u,u=c,c=h))),i&&r?[[o,u],[l,c]]:i?[o,l]:r&&[u,c])},d.clear=function(){return d.empty()||(s=[0,0],a=[0,0],t=e=null),d},d.empty=function(){return!!i&&s[0]==s[1]||!!r&&a[0]==a[1]},o.rebind(d,n,"on")};var Pa={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Da=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],La=Ne.format=pn.timeFormat,Ra=La.utc,Ia=Ra("%Y-%m-%dT%H:%M:%S.%LZ");function Ba(t){return t.toISOString()}function Na(t,e,n){function i(e){return t(e)}function r(t,n){var i=(t[1]-t[0])/n,r=o.bisect(Fa,i);return r==Fa.length?[e.year,Es(t.map(function(t){return t/31536e6}),n)[2]]:r?e[i/Fa[r-1]<Fa[r]/i?r-1:r]:[Ha,Es(t,n)[2]]}return i.invert=function(e){return za(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(za)},i.nice=function(t,e){var n=i.domain(),o=gs(n),s=null==t?r(o,10):"number"==typeof t&&r(o,t);function a(n){return!isNaN(n)&&!t.range(n,za(+n+1),e).length}return s&&(t=s[0],e=s[1]),i.domain(ys(n,e>1?{floor:function(e){for(;a(e=t.floor(e));)e=za(e-1);return e},ceil:function(e){for(;a(e=t.ceil(e));)e=za(+e+1);return e}}:t))},i.ticks=function(t,e){var n=gs(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],za(+n[1]+1),e<1?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Na(t.copy(),e,n)},ks(i,t)}function za(t){return new Date(t)}La.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ba:Ia,Ba.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ba.toString=Ia.toString,Ne.second=Ue(function(t){return new ze(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Ne.seconds=Ne.second.range,Ne.seconds.utc=Ne.second.utc.range,Ne.minute=Ue(function(t){return new ze(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Ne.minutes=Ne.minute.range,Ne.minutes.utc=Ne.minute.utc.range,Ne.hour=Ue(function(t){var e=t.getTimezoneOffset()/60;return new ze(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Ne.hours=Ne.hour.range,Ne.hours.utc=Ne.hour.utc.range,Ne.month=Ue(function(t){return(t=Ne.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Ne.months=Ne.month.range,Ne.months.utc=Ne.month.utc.range;var Fa=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],qa=[[Ne.second,1],[Ne.second,5],[Ne.second,15],[Ne.second,30],[Ne.minute,1],[Ne.minute,5],[Ne.minute,15],[Ne.minute,30],[Ne.hour,1],[Ne.hour,3],[Ne.hour,6],[Ne.hour,12],[Ne.day,1],[Ne.day,2],[Ne.week,1],[Ne.month,1],[Ne.month,3],[Ne.year,1]],Ua=La.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Qn]]),Ha={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map(za)},floor:R,ceil:R};qa.year=Ne.year,Ne.scale=function(){return Na(o.scale.linear(),qa,Ua)};var Wa=qa.map(function(t){return[t[0].utc,t[1]]}),Va=Ra.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Qn]]);function Ka(t){return JSON.parse(t.responseText)}function $a(t){var e=l.createRange();return e.selectNode(l.body),e.createContextualFragment(t.responseText)}Wa.year=Ne.year.utc,Ne.scale.utc=function(){return Na(o.scale.linear(),Wa,Va)},o.text=we(function(t){return t.responseText}),o.json=function(t,e){return xe(t,"application/json",Ka,e)},o.html=function(t,e){return xe(t,"text/html",$a,e)},o.xml=we(function(t){return t.responseXML}),this.d3=o,void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)}()},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(323)),i(n(93)),i(n(419)),i(n(420)),i(n(421)),i(n(422)),i(n(92)),i(n(33)),i(n(423))},function(t,e,n){var i=n(8),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),o(r,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(7),o=function(){function t(t){this.sender=t}return t.prototype.connect=function(t,e){return i.connect(this,t,e)},t.prototype.disconnect=function(t,e){return i.disconnect(this,t,e)},t.prototype.emit=function(t){i.emit(this,t)},t}();e.Signal=o,function(t){t.disconnectBetween=function(t,e){i.disconnectBetween(t,e)},t.disconnectSender=function(t){i.disconnectSender(t)},t.disconnectReceiver=function(t){i.disconnectReceiver(t)},t.disconnectAll=function(t){i.disconnectAll(t)},t.clearData=function(t){i.disconnectAll(t)},t.getExceptionHandler=function(){return i.exceptionHandler},t.setExceptionHandler=function(t){var e=i.exceptionHandler;return i.exceptionHandler=t,e}}(o=e.Signal||(e.Signal={})),e.Signal=o,function(e){e.exceptionHandler=function(t){console.error(t)},e.connect=function(t,e,r){r=r||void 0;var o=n.get(t.sender);if(o||(o=[],n.set(t.sender,o)),a(o,t,e,r))return!1;var s=r||e,l=i.get(s);l||(l=[],i.set(s,l));var u={signal:t,slot:e,thisArg:r};return o.push(u),l.push(u),!0},e.disconnect=function(t,e,r){r=r||void 0;var o=n.get(t.sender);if(!o||0===o.length)return!1;var s=a(o,t,e,r);if(!s)return!1;var l=r||e,c=i.get(l);return s.signal=null,u(o),u(c),!0},e.disconnectBetween=function(t,e){var o=n.get(t);if(o&&0!==o.length){var s=i.get(e);s&&0!==s.length&&(r.each(s,function(e){e.signal&&e.signal.sender===t&&(e.signal=null)}),u(o),u(s))}},e.disconnectSender=function(t){var e=n.get(t);e&&0!==e.length&&(r.each(e,function(t){if(t.signal){var e=t.thisArg||t.slot;t.signal=null,u(i.get(e))}}),u(e))},e.disconnectReceiver=function(t){var e=i.get(t);e&&0!==e.length&&(r.each(e,function(t){if(t.signal){var e=t.signal.sender;t.signal=null,u(n.get(e))}}),u(e))},e.disconnectAll=function(t){var e=n.get(t);e&&e.length>0&&(r.each(e,function(t){t.signal=null}),u(e));var o=i.get(t);o&&o.length>0&&(r.each(o,function(t){t.signal=null}),u(o))},e.emit=function(t,e){var i=n.get(t.sender);if(i&&0!==i.length)for(var r=0,o=i.length;r<o;++r){var s=i[r];s.signal===t&&l(s,e)}};var n=new WeakMap,i=new WeakMap,o=new Set,s="function"==typeof requestAnimationFrame?requestAnimationFrame:t;function a(t,e,n,i){return r.find(t,function(t){return t.signal===e&&t.slot===n&&t.thisArg===i})}function l(t,n){var i=t.signal,r=t.slot,o=t.thisArg;try{r.call(o,i.sender,n)}catch(t){e.exceptionHandler(t)}}function u(t){0===o.size&&s(c),o.add(t)}function c(){o.forEach(h),o.clear()}function h(t){r.ArrayExt.removeAllWhere(t,d)}function d(t){return null===t.signal}}(i||(i={}))}).call(this,n(53).setImmediate)},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(219)),i(n(220)),i(n(221)),i(n(222)),i(n(223)),i(n(22)),i(n(224)),i(n(225)),i(n(226)),i(n(227)),i(n(228)),i(n(229)),i(n(230)),i(n(231)),i(n(232)),i(n(233))},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n(113),r=n(241),o=n(242);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(e,n),r=(t=a(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|f(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?a(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=a(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|f(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function f(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(i)return F(t).length;e=(""+e).toLowerCase(),i=!0}}function _(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function g(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:m(t,e,n,i,r);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,i,r){var o,s=1,a=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var c=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(u(t,o+d)!==u(e,d)){h=!1;break}if(h)return o}return-1}function v(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function y(t,e,n,i){return U(F(e,t.length-n),t,n,i)}function b(t,e,n,i){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function w(t,e,n,i){return b(t,e,n,i)}function x(t,e,n,i){return U(q(e),t,n,i)}function k(t,e,n,i){return U(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function M(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,l,u=t[r],c=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=t[r+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=h}return function(t){var e=t.length;if(e<=j)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=j));return n}(i)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return u(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,i){return c(e),e<=0?a(t,e):void 0!==n?"string"==typeof i?a(t,e).fill(n,i):a(t,e).fill(n):a(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return h(null,t)},l.allocUnsafeSlow=function(t){return h(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=l.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,i,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(i,r),c=t.slice(e,n),h=0;h<a;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},l.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function S(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function C(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function A(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=z(t[o]);return r}function O(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function T(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,i,r,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function D(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function L(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function R(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(t,e,n,i,o){return o||R(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function B(t,e,n,i,o){return o||R(t,0,n,8),r.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var r=e-t;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},l.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||T(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||T(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},l.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return I(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return I(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},l.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=l.isBuffer(t)?t:F(new l(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(10))},function(t,e,n){var i=n(1),r=new RegExp("^(((((\\*)|(/*)|(-*))(\\s*)%([aAbBdeHIjmMLpSUwWyYZ]{1}))+)|((\\s*)%([cxX]{1})))$");t.exports={getCustomRange:function(t){var e,n=t[0],r=t[t.length-1];return e=t[0]>t[1]?i.min(t):i.max(t),[i.scale.linear().range([n,e]),i.scale.linear().range([e,r])]},deepCopy:function(t){return JSON.parse(JSON.stringify(t))},is_valid_time_format:function(t){return r.test(t)}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(395)),i(n(396)),i(n(397)),i(n(398)),i(n(399)),i(n(403)),i(n(404)),i(n(405)),i(n(406)),i(n(95)),i(n(158)),i(n(409)),i(n(410)),i(n(161)),i(n(411)),i(n(412)),i(n(413)),i(n(414)),i(n(415)),i(n(416)),i(n(417)),i(n(418)),i(n(160)),i(n(46))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(29),a=n(62),l=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_model_name:"CoreWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:a.JUPYTER_CONTROLS_VERSION,_model_module_version:a.JUPYTER_CONTROLS_VERSION})},e}(o.WidgetModel);e.CoreWidgetModel=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_model_name:"CoreDOMWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:a.JUPYTER_CONTROLS_VERSION,_model_module_version:a.JUPYTER_CONTROLS_VERSION})},e}(o.DOMWidgetModel);e.CoreDOMWidgetModel=c;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_model_name:"CoreDescriptionModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:a.JUPYTER_CONTROLS_VERSION,_model_module_version:a.JUPYTER_CONTROLS_VERSION})},e}(s.DescriptionModel);e.CoreDescriptionModel=h},function(t,e,n){var i;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,l=o.slice,u=o.concat,c=o.push,h=o.indexOf,d={},f=d.toString,p=d.hasOwnProperty,_=p.toString,g=_.call(Object),m={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function(t){return null!=t&&t===t.window},b={type:!0,src:!0,noModule:!0};function w(t,e,n){var i,r=(e=e||s).createElement("script");if(r.text=t,n)for(i in b)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function x(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[f.call(t)]||"object":typeof t}var k=function(t,e){return new k.fn.init(t,e)},M=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function E(t){var e=!!t&&"length"in t&&t.length,n=x(t);return!v(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}k.fn=k.prototype={jquery:"3.3.1",constructor:k,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(u&&i&&(k.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&k.isPlainObject(n)?n:{},s[e]=k.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},k.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==f.call(t))&&(!(e=a(t))||"function"==typeof(n=p.call(e,"constructor")&&e.constructor)&&_.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){w(t)},each:function(t,e){var n,i=0;if(E(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(M,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(E(Object(t))?k.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(E(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return u.apply([],s)},guid:1,support:m}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){d["[object "+e+"]"]=e.toLowerCase()});var j=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){var e,n,i,r,o,s,a,l,u,c,h,d,f,p,_,g,m,v,y,b="sizzle"+1*new Date,w=t.document,x=0,k=0,M=st(),E=st(),j=st(),S=function(t,e){return t===e&&(h=!0),0},C={}.hasOwnProperty,A=[],O=A.pop,T=A.push,P=A.push,D=A.slice,L=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",N="\\["+I+"*("+B+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+I+"*\\]",z=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",F=new RegExp(I+"+","g"),q=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),U=new RegExp("^"+I+"*,"+I+"*"),H=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),W=new RegExp("="+I+"*([^\\]'\"]*?)"+I+"*\\]","g"),V=new RegExp(z),K=new RegExp("^"+B+"$"),$={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){d()},rt=vt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{P.apply(A=D.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(t){P={apply:A.length?function(t,e){T.apply(t,D.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,a,u,c,h,p,m,v=e&&e.ownerDocument,x=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return i;if(!r&&((e?e.ownerDocument||e:w)!==f&&d(e),e=e||f,_)){if(11!==x&&(h=X.exec(t)))if(o=h[1]){if(9===x){if(!(u=e.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(v&&(u=v.getElementById(o))&&y(e,u)&&u.id===o)return i.push(u),i}else{if(h[2])return P.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return P.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!j[t+" "]&&(!g||!g.test(t))){if(1!==x)v=e,m=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,nt):e.setAttribute("id",c=b),a=(p=s(t)).length;a--;)p[a]="#"+c+" "+mt(p[a]);m=p.join(","),v=Z.test(t)&&_t(e.parentNode)||e}if(m)try{return P.apply(i,v.querySelectorAll(m)),i}catch(t){}finally{c===b&&e.removeAttribute("id")}}}return l(t.replace(q,"$1"),e,i,r)}function st(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[b]=!0,t}function lt(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function ft(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return at(function(e){return e=+e,at(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function _t(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=ot.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:w;return s!==f&&9===s.nodeType&&s.documentElement?(p=(f=s).documentElement,_=!o(f),w!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=lt(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(f.getElementsByClassName),n.getById=lt(function(t){return p.appendChild(t).id=b,!f.getElementsByName||!f.getElementsByName(b).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&_){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&_){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&_)return e.getElementsByClassName(t)},m=[],g=[],(n.qsa=J.test(f.querySelectorAll))&&(lt(function(t){p.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+I+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+I+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+b+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+I+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=J.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&lt(function(t){n.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),m.push("!=",z)}),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),e=J.test(p.compareDocumentPosition),y=e||J.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===f||t.ownerDocument===w&&y(w,t)?-1:e===f||e.ownerDocument===w&&y(w,e)?1:c?L(c,t)-L(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===f?-1:e===f?1:r?-1:o?1:c?L(c,t)-L(c,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ct(s[i],a[i]):s[i]===w?-1:a[i]===w?1:0},f):f},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&d(t),e=e.replace(W,"='$1']"),n.matchesSelector&&_&&!j[e+" "]&&(!m||!m.test(e))&&(!g||!g.test(e)))try{var i=v.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,f,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==f&&d(t),y(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==f&&d(t);var r=i.attrHandle[e.toLowerCase()],o=r&&C.call(i.attrHandle,e.toLowerCase())?r(t,e,!_):void 0;return void 0!==o?o:n.attributes||!_?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(S),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:at,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Q,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Q,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return $.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&V.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Q,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=M[t+" "];return e||(e=new RegExp("(^|"+I+")"+t+"("+I+"|$)"))&&M(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(F," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,d,f,p,_=o!==s?"nextSibling":"previousSibling",g=e.parentNode,m=a&&e.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(g){if(o){for(;_;){for(d=e;d=d[_];)if(a?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;p=_="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&v){for(y=(f=(u=(c=(h=(d=g)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===x&&u[1])&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[_]||(y=f=0)||p.pop();)if(1===d.nodeType&&++y&&d===e){c[t]=[x,f,y];break}}else if(v&&(y=f=(u=(c=(h=(d=e)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===x&&u[1]),!1===y)for(;(d=++f&&d&&d[_]||(y=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++y||(v&&((c=(h=d[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[x,y]),d!==e)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=L(t,o[s])]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:at(function(t){var e=[],n=[],i=a(t.replace(q,"$1"));return i[b]?at(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace(Q,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:at(function(t){return K.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Q,tt).toLowerCase(),function(e){var n;do{if(n=_?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return G.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:pt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=dt(e);function gt(){}function mt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function vt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=k++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,l){var u,c,h,d=[x,a];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===x&&u[1]===a)return d[2]=u[2];if(c[o]=d,d[2]=t(e,n,l))return!0}return!1}}function yt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function bt(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function wt(t,e,n,i,r,o){return i&&!i[b]&&(i=wt(i)),r&&!r[b]&&(r=wt(r,o)),at(function(o,s,a,l){var u,c,h,d=[],f=[],p=s.length,_=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),g=!t||!o&&e?_:bt(_,d,t,a,l),m=n?r||(o?t:p||i)?[]:s:g;if(n&&n(g,m,a,l),i)for(u=bt(m,f),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(m[f[c]]=!(g[f[c]]=h));if(o){if(r||t){if(r){for(u=[],c=m.length;c--;)(h=m[c])&&u.push(g[c]=h);r(null,m=[],u,l)}for(c=m.length;c--;)(h=m[c])&&(u=r?L(o,h):d[c])>-1&&(o[u]=!(s[u]=h))}}else m=bt(m===s?m.splice(p,m.length):m),r?r(null,s,m,l):P.apply(s,m)})}function xt(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],l=s?1:0,c=vt(function(t){return t===e},a,!0),h=vt(function(t){return L(e,t)>-1},a,!0),d=[function(t,n,i){var r=!s&&(i||n!==u)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];l<o;l++)if(n=i.relative[t[l].type])d=[vt(yt(d),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[b]){for(r=++l;r<o&&!i.relative[t[r].type];r++);return wt(l>1&&yt(d),l>1&&mt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(q,"$1"),n,l<r&&xt(t.slice(l,r)),r<o&&xt(t=t.slice(r)),r<o&&mt(t))}d.push(n)}return yt(d)}return gt.prototype=i.filters=i.pseudos,i.setFilters=new gt,s=ot.tokenize=function(t,e){var n,r,o,s,a,l,u,c=E[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=i.preFilter;a;){for(s in n&&!(r=U.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=H.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(q," ")}),a=a.slice(n.length)),i.filter)!(r=$[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):E(t,l).slice(0)},a=ot.compile=function(t,e){var n,r=[],o=[],a=j[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=xt(e[n]))[b]?r.push(a):o.push(a);(a=j(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,l,c){var h,p,g,m=0,v="0",y=o&&[],b=[],w=u,k=o||r&&i.find.TAG("*",c),M=x+=null==w?1:Math.random()||.1,E=k.length;for(c&&(u=s===f||s||c);v!==E&&null!=(h=k[v]);v++){if(r&&h){for(p=0,s||h.ownerDocument===f||(d(h),a=!_);g=t[p++];)if(g(h,s||f,a)){l.push(h);break}c&&(x=M)}n&&((h=!g&&h)&&m--,o&&y.push(h))}if(m+=v,n&&v!==m){for(p=0;g=e[p++];)g(y,b,s,a);if(o){if(m>0)for(;v--;)y[v]||b[v]||(b[v]=O.call(l));b=bt(b)}P.apply(l,b),c&&!o&&b.length>0&&m+e.length>1&&ot.uniqueSort(l)}return c&&(x=M,u=w),y};return n?at(o):o}(o,r))).selector=t}return a},l=ot.select=function(t,e,n,r){var o,l,u,c,h,d="function"==typeof t&&t,f=!r&&s(t=d.selector||t);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&_&&i.relative[l[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(Q,tt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=$.needsContext.test(t)?0:l.length;o--&&(u=l[o],!i.relative[c=u.type]);)if((h=i.find[c])&&(r=h(u.matches[0].replace(Q,tt),Z.test(l[0].type)&&_t(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&mt(l)))return P.apply(n,r),n;break}}return(d||a(t,f))(r,e,!_,n,!e||Z.test(t)&&_t(e.parentNode)||e),n},n.sortStable=b.split("").sort(S).join("")===b,n.detectDuplicates=!!h,d(),n.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ut("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ut("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ut(R,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(n);k.find=j,k.expr=j.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=j.uniqueSort,k.text=j.getText,k.isXMLDoc=j.isXML,k.contains=j.contains,k.escapeSelector=j.escape;var S=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&k(t).is(n))break;i.push(t)}return i},C=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},A=k.expr.match.needsContext;function O(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,e,n){return v(e)?k.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?k.grep(t,function(t){return t===e!==n}):"string"!=typeof e?k.grep(t,function(t){return h.call(e,t)>-1!==n}):k.filter(e,t,n)}k.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?k.find.matchesSelector(i,t)?[i]:[]:k.find.matches(t,k.grep(e,function(t){return 1===t.nodeType}))},k.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(k(t).filter(function(){for(e=0;e<i;e++)if(k.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)k.find(t,r[e],n);return i>1?k.uniqueSort(n):n},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&A.test(t)?k(t):t||[],!1).length}});var D,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||D,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:L.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),T.test(i[1])&&k.isPlainObject(e))for(i in e)v(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(k):k.makeArray(t,this)}).prototype=k.fn,D=k(s);var R=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function B(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(k.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&k(t);if(!A.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(k(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return S(t,"parentNode")},parentsUntil:function(t,e,n){return S(t,"parentNode",n)},next:function(t){return B(t,"nextSibling")},prev:function(t){return B(t,"previousSibling")},nextAll:function(t){return S(t,"nextSibling")},prevAll:function(t){return S(t,"previousSibling")},nextUntil:function(t,e,n){return S(t,"nextSibling",n)},prevUntil:function(t,e,n){return S(t,"previousSibling",n)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return O(t,"iframe")?t.contentDocument:(O(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},function(t,e){k.fn[t]=function(n,i){var r=k.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=k.filter(i,r)),this.length>1&&(I[t]||k.uniqueSort(r),R.test(t)&&r.reverse()),this.pushStack(r)}});var N=/[^\x20\t\r\n\f]+/g;function z(t){return t}function F(t){throw t}function q(t,e,n,i){var r;try{t&&v(r=t.promise)?r.call(t).done(e).fail(n):t&&v(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}k.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return k.each(t.match(N)||[],function(t,n){e[n]=!0}),e}(t):k.extend({},t);var e,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){k.each(n,function(n,i){v(i)?t.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==x(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return k.each(arguments,function(t,e){for(var n;(n=k.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?k.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},k.extend({Deferred:function(t){var e=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return k.Deferred(function(n){k.each(e,function(e,i){var r=v(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){var a=this,l=arguments,u=function(){var n,u;if(!(t<o)){if((n=i.apply(a,l))===e.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(u)?r?u.call(n,s(o,e,z,r),s(o,e,F,r)):(o++,u.call(n,s(o,e,z,r),s(o,e,F,r),s(o,e,z,e.notifyWith))):(i!==z&&(a=void 0,l=[n]),(r||e.resolveWith)(a,l))}},c=r?u:function(){try{u()}catch(n){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==F&&(a=void 0,l=[n]),e.rejectWith(a,l))}};t?c():(k.Deferred.getStackHook&&(c.stackTrace=k.Deferred.getStackHook()),n.setTimeout(c))}}return k.Deferred(function(n){e[0][3].add(s(0,n,v(r)?r:z,n.notifyWith)),e[1][3].add(s(0,n,v(t)?t:z)),e[2][3].add(s(0,n,v(i)?i:F))}).promise()},promise:function(t){return null!=t?k.extend(t,r):r}},o={};return k.each(e,function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add(function(){i=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=l.call(arguments),o=k.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?l.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(q(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||v(r[n]&&r[n].then)))return o.then();for(;n--;)q(r[n],s(n),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&U.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},k.readyException=function(t){n.setTimeout(function(){throw t})};var H=k.Deferred();function W(){s.removeEventListener("DOMContentLoaded",W),n.removeEventListener("load",W),k.ready()}k.fn.ready=function(t){return H.then(t).catch(function(t){k.readyException(t)}),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==t&&--k.readyWait>0||H.resolveWith(s,[k]))}}),k.ready.then=H.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(k.ready):(s.addEventListener("DOMContentLoaded",W),n.addEventListener("load",W));var V=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===x(n))for(a in r=!0,n)V(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,v(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(k(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},K=/^-ms-/,$=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function Y(t){return t.replace(K,"ms-").replace($,G)}var J=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=k.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},J(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[Y(e)]=n;else for(i in e)r[Y(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Y(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Y):(e=Y(e))in i?[e]:e.match(N)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||k.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var Z=new X,Q=new X,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Q.set(t,e,n)}else n=void 0;return n}k.extend({hasData:function(t){return Q.hasData(t)||Z.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return Z.access(t,e,n)},_removeData:function(t,e){Z.remove(t,e)}}),k.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Q.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=Y(i.slice(5)),nt(o,i,r[i]));Z.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Q.set(this,t)}):V(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=Q.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){Q.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),k.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Z.get(t,e),n&&(!i||Array.isArray(n)?i=Z.access(t,e,k.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=k.queue(t,e),i=n.length,r=n.shift(),o=k._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){k.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z.get(t,n)||Z.access(t,n,{empty:k.Callbacks("once memory").add(function(){Z.remove(t,[e+"queue",n])})})}}),k.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?k.queue(this[0],t):void 0===e?this:this.each(function(){var n=k.queue(this,t,e);k._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&k.dequeue(this,t)})},dequeue:function(t){return this.each(function(){k.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=k.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Z.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&k.contains(t.ownerDocument,t)&&"none"===k.css(t,"display")},at=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function lt(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return k.css(t,e,"")},l=a(),u=n&&n[3]||(k.cssNumber[e]?"":"px"),c=(k.cssNumber[e]||"px"!==u&&+l)&&rt.exec(k.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)k.style(t,e,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,k.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var ut={};function ct(t){var e,n=t.ownerDocument,i=t.nodeName,r=ut[i];return r||(e=n.body.appendChild(n.createElement(i)),r=k.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ut[i]=r,r)}function ht(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=Z.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&st(i)&&(r[o]=ct(i))):"none"!==n&&(r[o]="none",Z.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}k.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){st(this)?k(this).show():k(this).hide()})}});var dt=/^(?:checkbox|radio)$/i,ft=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,_t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&O(t,e)?k.merge([t],n):n}function mt(t,e){for(var n=0,i=t.length;n<i;n++)Z.set(t[n],"globalEval",!e||Z.get(e[n],"globalEval"))}_t.optgroup=_t.option,_t.tbody=_t.tfoot=_t.colgroup=_t.caption=_t.thead,_t.th=_t.td;var vt,yt,bt=/<|&#?\w+;/;function wt(t,e,n,i,r){for(var o,s,a,l,u,c,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===x(o))k.merge(d,o.nodeType?[o]:o);else if(bt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(ft.exec(o)||["",""])[1].toLowerCase(),l=_t[a]||_t._default,s.innerHTML=l[1]+k.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;k.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(i&&k.inArray(o,i)>-1)r&&r.push(o);else if(u=k.contains(o.ownerDocument,o),s=gt(h.appendChild(o),"script"),u&&mt(s),n)for(c=0;o=s[c++];)pt.test(o.type||"")&&n.push(o);return h}vt=s.createDocumentFragment().appendChild(s.createElement("div")),(yt=s.createElement("input")).setAttribute("type","radio"),yt.setAttribute("checked","checked"),yt.setAttribute("name","t"),vt.appendChild(yt),m.checkClone=vt.cloneNode(!0).cloneNode(!0).lastChild.checked,vt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!vt.cloneNode(!0).lastChild.defaultValue;var xt=s.documentElement,kt=/^key/,Mt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Et=/^([^.]*)(?:\.(.+)|)/;function jt(){return!0}function St(){return!1}function Ct(){try{return s.activeElement}catch(t){}}function At(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)At(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=St;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return k().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=k.guid++)),t.each(function(){k.event.add(this,e,r,i,n)})}k.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,f,p,_,g=Z.get(t);if(g)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&k.find.matchesSelector(xt,r),n.guid||(n.guid=k.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(N)||[""]).length;u--;)f=_=(a=Et.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=k.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=k.event.special[f]||{},c=k.extend({type:f,origType:_,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(f,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),k.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,f,p,_,g=Z.hasData(t)&&Z.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(N)||[""]).length;u--;)if(f=_=(a=Et.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=k.event.special[f]||{},d=l[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&_!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||k.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)k.event.remove(t,f+e[u],n,i,!0);k.isEmptyObject(l)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=k.event.fix(t),l=new Array(arguments.length),u=(Z.get(this,"events")||{})[a.type]||[],c=k.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=k.event.handlers.call(this,a,u),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((k.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?k(r,this).index(u)>-1:k.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ct()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ct()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&O(this,"input"))return this.click(),!1},_default:function(t){return O(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?jt:St,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=jt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=jt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=jt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Mt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},k.event.addProp),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){k.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||k.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),k.fn.extend({on:function(t,e,n,i){return At(this,t,e,n,i)},one:function(t,e,n,i){return At(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,k(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=St),this.each(function(){k.event.remove(this,t,n,e)})}});var Ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Tt=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Lt(t,e){return O(t,"table")&&O(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function Rt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function It(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Bt(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(Z.hasData(t)&&(o=Z.access(t),s=Z.set(e,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)k.event.add(e,r,u[r][n]);Q.hasData(t)&&(a=Q.access(t),l=k.extend({},a),Q.set(e,l))}}function Nt(t,e,n,i){e=u.apply([],e);var r,o,s,a,l,c,h=0,d=t.length,f=d-1,p=e[0],_=v(p);if(_||d>1&&"string"==typeof p&&!m.checkClone&&Pt.test(p))return t.each(function(r){var o=t.eq(r);_&&(e[0]=p.call(this,r,o.html())),Nt(o,e,n,i)});if(d&&(o=(r=wt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=k.map(gt(r,"script"),Rt)).length;h<d;h++)l=r,h!==f&&(l=k.clone(l,!0,!0),a&&k.merge(s,gt(l,"script"))),n.call(t[h],l,h);if(a)for(c=s[s.length-1].ownerDocument,k.map(s,It),h=0;h<a;h++)l=s[h],pt.test(l.type||"")&&!Z.access(l,"globalEval")&&k.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?k._evalUrl&&k._evalUrl(l.src):w(l.textContent.replace(Dt,""),c,l))}return t}function zt(t,e,n){for(var i,r=e?k.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||k.cleanData(gt(i)),i.parentNode&&(n&&k.contains(i.ownerDocument,i)&&mt(gt(i,"script")),i.parentNode.removeChild(i));return t}k.extend({htmlPrefilter:function(t){return t.replace(Ot,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,l,u,c=t.cloneNode(!0),h=k.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||k.isXMLDoc(t)))for(s=gt(c),i=0,r=(o=gt(t)).length;i<r;i++)a=o[i],l=s[i],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&dt.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(e)if(n)for(o=o||gt(t),s=s||gt(c),i=0,r=o.length;i<r;i++)Bt(o[i],s[i]);else Bt(t,c);return(s=gt(c,"script")).length>0&&mt(s,!h&&gt(t,"script")),c},cleanData:function(t){for(var e,n,i,r=k.event.special,o=0;void 0!==(n=t[o]);o++)if(J(n)){if(e=n[Z.expando]){if(e.events)for(i in e.events)r[i]?k.event.remove(n,i):k.removeEvent(n,i,e.handle);n[Z.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),k.fn.extend({detach:function(t){return zt(this,t,!0)},remove:function(t){return zt(this,t)},text:function(t){return V(this,function(t){return void 0===t?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Nt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Lt(this,t).appendChild(t)})},prepend:function(){return Nt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Lt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return k.clone(this,t,e)})},html:function(t){return V(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Tt.test(t)&&!_t[(ft.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(k.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Nt(this,arguments,function(e){var n=this.parentNode;k.inArray(this,t)<0&&(k.cleanData(gt(this)),n&&n.replaceChild(e,this))},t)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){k.fn[t]=function(t){for(var n,i=[],r=k(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),k(r[s])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var Ft=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ut=new RegExp(ot.join("|"),"i");function Ht(t,e,n){var i,r,o,s,a=t.style;return(n=n||qt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||k.contains(t.ownerDocument,t)||(s=k.style(t,e)),!m.pixelBoxStyles()&&Ft.test(s)&&Ut.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Wt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xt.appendChild(u).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",xt.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,l,u=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===c.style.backgroundClip,k.extend(m,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o}}))}();var Vt=/^(none|table(?!-c[ea]).+)/,Kt=/^--/,$t={position:"absolute",visibility:"hidden",display:"block"},Gt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","Moz","ms"],Jt=s.createElement("div").style;function Xt(t){var e=k.cssProps[t];return e||(e=k.cssProps[t]=function(t){if(t in Jt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Yt.length;n--;)if((t=Yt[n]+e)in Jt)return t}(t)||t),e}function Zt(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Qt(t,e,n,i,r,o){var s="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=k.css(t,n+ot[s],!0,r)),i?("content"===n&&(l-=k.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(l-=k.css(t,"border"+ot[s]+"Width",!0,r))):(l+=k.css(t,"padding"+ot[s],!0,r),"padding"!==n?l+=k.css(t,"border"+ot[s]+"Width",!0,r):a+=k.css(t,"border"+ot[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))),l}function te(t,e,n){var i=qt(t),r=Ht(t,e,i),o="border-box"===k.css(t,"boxSizing",!1,i),s=o;if(Ft.test(r)){if(!n)return r;r="auto"}return s=s&&(m.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===k.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(r=parseFloat(r)||0)+Qt(t,e,n||(o?"border":"content"),s,i,r)+"px"}function ee(t,e,n,i,r){return new ee.prototype.init(t,e,n,i,r)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ht(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=Y(e),l=Kt.test(e),u=t.style;if(l||(e=Xt(a)),s=k.cssHooks[e]||k.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=lt(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(k.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,s,a=Y(e);return Kt.test(e)||(e=Xt(a)),(s=k.cssHooks[e]||k.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Ht(t,e,i)),"normal"===r&&e in Gt&&(r=Gt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),k.each(["height","width"],function(t,e){k.cssHooks[e]={get:function(t,n,i){if(n)return!Vt.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,i):at(t,$t,function(){return te(t,e,i)})},set:function(t,n,i){var r,o=qt(t),s="border-box"===k.css(t,"boxSizing",!1,o),a=i&&Qt(t,e,i,s,o);return s&&m.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Qt(t,e,"border",!1,o)-.5)),a&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=k.css(t,e)),Zt(0,n,a)}}}),k.cssHooks.marginLeft=Wt(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ht(t,"marginLeft"))||t.getBoundingClientRect().left-at(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(t,e){k.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(k.cssHooks[t+e].set=Zt)}),k.fn.extend({css:function(t,e){return V(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=qt(t),r=e.length;s<r;s++)o[e[s]]=k.css(t,e[s],!1,i);return o}return void 0!==n?k.style(t,e,n):k.css(t,e)},t,e,arguments.length>1)}}),k.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[k.cssProps[t.prop]]&&!k.cssHooks[t.prop]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=ee.prototype.init,k.fx.step={};var ne,ie,re=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function se(){ie&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(se):n.setTimeout(se,k.fx.interval),k.fx.tick())}function ae(){return n.setTimeout(function(){ne=void 0}),ne=Date.now()}function le(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function ue(t,e,n){for(var i,r=(ce.tweeners[e]||[]).concat(ce.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function ce(t,e,n){var i,r,o=0,s=ce.prefilters.length,a=k.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ne||ae(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),i<1&&s?n:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||ae(),duration:n.duration,tweens:[],createTween:function(e,n){var i=k.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=Y(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=k.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);o<s;o++)if(i=ce.prefilters[o].call(u,t,c,u.opts))return v(i.stop)&&(k._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return k.map(c,ue,u),v(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),k.fx.timer(k.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}k.Animation=k.extend(ce,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(N);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ce.tweeners[n]=ce.tweeners[n]||[],ce.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,l,u,c,h="width"in e||"height"in e,d=this,f={},p=t.style,_=t.nodeType&&st(t),g=Z.get(t,"fxshow");for(i in n.queue||(null==(s=k._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,k.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],re.test(r)){if(delete e[i],o=o||"toggle"===r,r===(_?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;_=!0}f[i]=g&&g[i]||k.style(t,i)}if((l=!k.isEmptyObject(e))||!k.isEmptyObject(f))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=g&&g.display)&&(u=Z.get(t,"display")),"none"===(c=k.css(t,"display"))&&(u?c=u:(ht([t],!0),u=t.style.display||u,c=k.css(t,"display"),ht([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===k.css(t,"float")&&(l||(d.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(_=g.hidden):g=Z.access(t,"fxshow",{display:u}),o&&(g.hidden=!_),_&&ht([t],!0),d.done(function(){for(i in _||ht([t]),Z.remove(t,"fxshow"),f)k.style(t,i,f[i])})),l=ue(_?g[i]:0,i,d),i in g||(g[i]=l.start,_&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ce.prefilters.unshift(t):ce.prefilters.push(t)}}),k.speed=function(t,e,n){var i=t&&"object"==typeof t?k.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return k.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in k.fx.speeds?i.duration=k.fx.speeds[i.duration]:i.duration=k.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&k.dequeue(this,i.queue)},i},k.fn.extend({fadeTo:function(t,e,n,i){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=k.isEmptyObject(t),o=k.speed(e,n,i),s=function(){var e=ce(this,k.extend({},t),o);(r||Z.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=k.timers,s=Z.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&oe.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||k.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Z.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=k.timers,s=i?i.length:0;for(n.finish=!0,k.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),k.each(["toggle","show","hide"],function(t,e){var n=k.fn[e];k.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,i,r)}}),k.each({slideDown:le("show"),slideUp:le("hide"),slideToggle:le("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){k.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),k.timers=[],k.fx.tick=function(){var t,e=0,n=k.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||k.fx.stop(),ne=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ie||(ie=!0,se())},k.fx.stop=function(){ie=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,e){return t=k.fx&&k.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var he,de=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return V(this,k.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){k.removeAttr(this,t)})}}),k.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?k.prop(t,e,n):(1===o&&k.isXMLDoc(t)||(r=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void k.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=k.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&O(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(N);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?k.removeAttr(t,n):t.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(t,e){var n=de[e]||k.find.attr;de[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=de[s],de[s]=r,r=null!=n(t,e,i)?s:null,de[s]=o),r}});var fe=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;function _e(t){return(t.match(N)||[]).join(" ")}function ge(t){return t.getAttribute&&t.getAttribute("class")||""}function me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}k.fn.extend({prop:function(t,e){return V(this,k.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[k.propFix[t]||t]})}}),k.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(t)||(e=k.propFix[e]||e,r=k.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):fe.test(t.nodeName)||pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(v(t))return this.each(function(e){k(this).addClass(t.call(this,e,ge(this)))});if((e=me(t)).length)for(;n=this[l++];)if(r=ge(n),i=1===n.nodeType&&" "+_e(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=_e(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(v(t))return this.each(function(e){k(this).removeClass(t.call(this,e,ge(this)))});if(!arguments.length)return this.attr("class","");if((e=me(t)).length)for(;n=this[l++];)if(r=ge(n),i=1===n.nodeType&&" "+_e(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=_e(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):v(t)?this.each(function(n){k(this).toggleClass(t.call(this,n,ge(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=k(this),s=me(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ge(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+_e(ge(n))+" ").indexOf(e)>-1)return!0;return!1}});var ve=/\r/g;k.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=v(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,k(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=k.map(r,function(t){return null==t?"":t+""})),(e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=k.valHooks[r.type]||k.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ve,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:_e(k.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!O(n.parentNode,"optgroup"))){if(e=k(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=k.makeArray(e),s=r.length;s--;)((i=r[s]).selected=k.inArray(k.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=k.inArray(k(t).val(),e)>-1}},m.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),m.focusin="onfocusin"in n;var ye=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(t,e,i,r){var o,a,l,u,c,h,d,f,_=[i||s],g=p.call(t,"type")?t.type:t,m=p.call(t,"namespace")?t.namespace.split("."):[];if(a=f=l=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!ye.test(g+k.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[k.expando]?t:new k.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:k.makeArray(e,[t]),d=k.event.special[g]||{},r||!d.trigger||!1!==d.trigger.apply(i,e))){if(!r&&!d.noBubble&&!y(i)){for(u=d.delegateType||g,ye.test(u+g)||(a=a.parentNode);a;a=a.parentNode)_.push(a),l=a;l===(i.ownerDocument||s)&&_.push(l.defaultView||l.parentWindow||n)}for(o=0;(a=_[o++])&&!t.isPropagationStopped();)f=a,t.type=o>1?u:d.bindType||g,(h=(Z.get(a,"events")||{})[t.type]&&Z.get(a,"handle"))&&h.apply(a,e),(h=c&&a[c])&&h.apply&&J(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(_.pop(),e)||!J(i)||c&&v(i[g])&&!y(i)&&((l=i[c])&&(i[c]=null),k.event.triggered=g,t.isPropagationStopped()&&f.addEventListener(g,be),i[g](),t.isPropagationStopped()&&f.removeEventListener(g,be),k.event.triggered=void 0,l&&(i[c]=l)),t.result}},simulate:function(t,e,n){var i=k.extend(new k.Event,n,{type:t,isSimulated:!0});k.event.trigger(i,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each(function(){k.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return k.event.trigger(t,e,n,!0)}}),m.focusin||k.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){k.event.simulate(e,t.target,k.event.fix(t))};k.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Z.access(i,e);r||i.addEventListener(t,n,!0),Z.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Z.access(i,e)-1;r?Z.access(i,e,r):(i.removeEventListener(t,n,!0),Z.remove(i,e))}}});var we=n.location,xe=Date.now(),ke=/\?/;k.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+t),e};var Me=/\[\]$/,Ee=/\r?\n/g,je=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Ce(t,e,n,i){var r;if(Array.isArray(e))k.each(e,function(e,r){n||Me.test(t)?i(t,r):Ce(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==x(e))i(t,e);else for(r in e)Ce(t+"["+r+"]",e[r],n,i)}k.param=function(t,e){var n,i=[],r=function(t,e){var n=v(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,function(){r(this.name,this.value)});else for(n in t)Ce(n,t[n],e,r);return i.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&Se.test(this.nodeName)&&!je.test(t)&&(this.checked||!dt.test(t))}).map(function(t,e){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(t){return{name:e.name,value:t.replace(Ee,"\r\n")}}):{name:e.name,value:n.replace(Ee,"\r\n")}}).get()}});var Ae=/%20/g,Oe=/#.*$/,Te=/([?&])_=[^&]*/,Pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,De=/^(?:GET|HEAD)$/,Le=/^\/\//,Re={},Ie={},Be="*/".concat("*"),Ne=s.createElement("a");function ze(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(N)||[];if(v(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Fe(t,e,n,i){var r={},o=t===Ie;function s(a){var l;return r[a]=!0,k.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),s(u),!1)}),l}return s(e.dataTypes[0])||!r["*"]&&s("*")}function qe(t,e){var n,i,r=k.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&k.extend(!0,t,i),t}Ne.href=we.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?qe(qe(t,k.ajaxSettings),e):qe(k.ajaxSettings,t)},ajaxPrefilter:ze(Re),ajaxTransport:ze(Ie),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,l,u,c,h,d,f,p=k.ajaxSetup({},e),_=p.context||p,g=p.context&&(_.nodeType||_.jquery)?k(_):k.event,m=k.Deferred(),v=k.Callbacks("once memory"),y=p.statusCode||{},b={},w={},x="canceled",M={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Pe.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)M.always(t[M.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),E(0,e),this}};if(m.promise(M),p.url=((t||p.url||we.href)+"").replace(Le,we.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(N)||[""],null==p.crossDomain){u=s.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Ne.protocol+"//"+Ne.host!=u.protocol+"//"+u.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=k.param(p.data,p.traditional)),Fe(Re,p,e,M),c)return M;for(d in(h=k.event&&p.global)&&0==k.active++&&k.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!De.test(p.type),r=p.url.replace(Oe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ae,"+")):(f=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(ke.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Te,"$1"),f=(ke.test(r)?"&":"?")+"_="+xe+++f),p.url=r+f),p.ifModified&&(k.lastModified[r]&&M.setRequestHeader("If-Modified-Since",k.lastModified[r]),k.etag[r]&&M.setRequestHeader("If-None-Match",k.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&M.setRequestHeader("Content-Type",p.contentType),M.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Be+"; q=0.01":""):p.accepts["*"]),p.headers)M.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(_,M,p)||c))return M.abort();if(x="abort",v.add(p.complete),M.done(p.success),M.fail(p.error),i=Fe(Ie,p,e,M)){if(M.readyState=1,h&&g.trigger("ajaxSend",[M,p]),c)return M;p.async&&p.timeout>0&&(l=n.setTimeout(function(){M.abort("timeout")},p.timeout));try{c=!1,i.send(b,E)}catch(t){if(c)throw t;E(-1,t)}}else E(-1,"No Transport");function E(t,e,s,a){var u,d,f,b,w,x=e;c||(c=!0,l&&n.clearTimeout(l),i=void 0,o=a||"",M.readyState=t>0?4:0,u=t>=200&&t<300||304===t,s&&(b=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,M,s)),b=function(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(p,b,M,u),u?(p.ifModified&&((w=M.getResponseHeader("Last-Modified"))&&(k.lastModified[r]=w),(w=M.getResponseHeader("etag"))&&(k.etag[r]=w)),204===t||"HEAD"===p.type?x="nocontent":304===t?x="notmodified":(x=b.state,d=b.data,u=!(f=b.error))):(f=x,!t&&x||(x="error",t<0&&(t=0))),M.status=t,M.statusText=(e||x)+"",u?m.resolveWith(_,[d,x,M]):m.rejectWith(_,[M,x,f]),M.statusCode(y),y=void 0,h&&g.trigger(u?"ajaxSuccess":"ajaxError",[M,p,u?d:f]),v.fireWith(_,[M,x]),h&&(g.trigger("ajaxComplete",[M,p]),--k.active||k.event.trigger("ajaxStop")))}return M},getJSON:function(t,e,n){return k.get(t,e,n,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],function(t,e){k[e]=function(t,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),k.ajax(k.extend({url:t,type:e,dataType:r,data:n,success:i},k.isPlainObject(t)&&t))}}),k._evalUrl=function(t){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return v(t)?this.each(function(e){k(this).wrapInner(t.call(this,e))}):this.each(function(){var e=k(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=v(t);return this.each(function(n){k(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ue={0:200,1223:204},He=k.ajaxSettings.xhr();m.cors=!!He&&"withCredentials"in He,m.ajax=He=!!He,k.ajaxTransport(function(t){var e,i;if(m.cors||He&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ue[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),k.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),k.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=k("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){n&&n()}}});var We,Ve=[],Ke=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ve.pop()||k.expando+"_"+xe++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=!1!==t.jsonp&&(Ke.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ke,"$1"+r):!1!==t.jsonp&&(t.url+=(ke.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||k.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?k(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ve.push(r)),s&&v(o)&&o(s[0]),s=o=void 0}),"script"}),m.createHTMLDocument=((We=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===We.childNodes.length),k.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(i)):e=s),o=!n&&[],(r=T.exec(t))?[e.createElement(r[1])]:(r=wt([t],e,o),o&&o.length&&k(o).remove(),k.merge([],r.childNodes)));var i,r,o},k.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=_e(t.slice(a)),t=t.slice(0,a)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&k.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?k("<div>").append(k.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){k.fn[e]=function(t){return this.on(e,t)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u=k.css(t,"position"),c=k(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=k.css(t,"top"),l=k.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),v(e)&&(e=e.call(t,n,k.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===k.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=k(t).offset()).top+=k.css(t,"borderTopWidth",!0),r.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-k.css(i,"marginTop",!0),left:e.left-r.left-k.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||xt})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;k.fn[t]=function(i){return V(this,function(t,i,r){var o;if(y(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),k.each(["top","left"],function(t,e){k.cssHooks[e]=Wt(m.pixelPosition,function(t,n){if(n)return n=Ht(t,e),Ft.test(n)?k(t).position()[e]+"px":n})}),k.each({Height:"height",Width:"width"},function(t,e){k.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){k.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return V(this,function(e,n,r){var o;return y(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?k.css(e,n,a):k.style(e,n,r,a)},e,s?r:void 0,s)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){k.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),k.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),k.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),k.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return i=l.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(l.call(arguments)))}).guid=t.guid=t.guid||k.guid++,r},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=O,k.isFunction=v,k.isWindow=y,k.camelCase=Y,k.type=x,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return k}.apply(e,[]))||(t.exports=i);var $e=n.jQuery,Ge=n.$;return k.noConflict=function(t){return n.$===k&&(n.$=Ge),t&&n.jQuery===k&&(n.jQuery=$e),k},r||(n.jQuery=n.$=k),k})},function(t,e,n){var i=n(2),r=n(1),o=n(0),s=i.WidgetView.extend({initialize:function(){this.setElement(document.createElementNS(r.ns.prefix.svg,"g")),this.d3el=r.select(this.el),s.__super__.initialize.apply(this,arguments)},render:function(){this.x_padding=0,this.y_padding=0,this.parent=this.options.parent,this.uuid=i.uuid();var t=this.set_scale_views();return this.listenTo(this.model,"scales_updated",function(){this.set_scale_views().then(o.bind(this.draw,this))},this),this.colors=this.model.get("colors"),this.options.clip_id&&this.model.get("apply_clip")&&this.d3el.attr("clip-path","url(#"+this.options.clip_id+")"),this.tooltip_div=r.select(document.createElement("div")).attr("class","mark_tooltip").attr("id","tooltip_"+this.uuid).style("display","none").style("opacity",0),this.bisect=r.bisector(function(t){return t}).left,this.d3el.style("display",this.model.get("visible")?"inline":"none"),this.display_el_classes=[],this.event_metadata={mouse_over:{msg_name:"hover",lookup_data:!0,hit_test:!0},legend_clicked:{msg_name:"legend_click",hit_test:!0},element_clicked:{msg_name:"element_click",lookup_data:!0,hit_test:!0},parent_clicked:{msg_name:"background_click",hit_test:!1},legend_mouse_over:{msg_name:"legend_hover",hit_test:!0}},t},set_scale_views:function(){for(var t in this.scales)this.stopListening(this.scales[t]);var e=this.model.get("scales"),n=this,r={};return o.each(e,function(t,e){r[e]=n.create_child_view(t)}),i.resolvePromisesDict(r).then(function(t){n.scales=t,n.set_positional_scales(),n.initialize_additional_scales(),n.set_ranges(),n.trigger("mark_scales_updated")})},set_positional_scales:function(){},initialize_additional_scales:function(){},set_internal_scales:function(){},create_listeners:function(){this.listenTo(this.model,"change:visible",this.update_visibility,this),this.listenTo(this.model,"change:selected_style",this.selected_style_updated,this),this.listenTo(this.model,"change:unselected_style",this.unselected_style_updated,this),this.parent.on("margin_updated",this.relayout,this),this.model.on_some_change(["labels","display_legend"],function(){this.model.trigger("redraw_legend")},this)},remove:function(){this.model.off(null,null,this),this.d3el.transition("remove").duration(0).remove(),this.tooltip_div.remove(),s.__super__.remove.apply(this)},draw_legend:function(t,e,n,i,r){return t.selectAll(".legend"+this.uuid).remove(),t.append("g").attr("transform","translate("+e+", "+n+")").attr("class","legend"+this.uuid).on("mouseover",o.bind(this.highlight_axes,this)).on("mouseout",o.bind(this.unhighlight_axes,this)).append("text").text(this.model.get("labels")[0]),[1,1]},highlight_axes:function(){o.each(this.model.get("scales"),function(t){t.trigger("highlight_axis")})},unhighlight_axes:function(){o.each(this.model.get("scales"),function(t){t.trigger("unhighlight_axis")})},relayout:function(){},invert_range:function(t,e){return[t,e]},invert_point:function(t){return[t]},invert_multi_range:function(t){return t},update_visibility:function(t,e){this.d3el.style("display",e?"inline":"none")},get_colors:function(t){this.colors=this.model.get("colors");var e=this.colors.length;return this.colors[t%e]},selected_style_updated:function(t,e){this.selected_style=e,this.clear_style(t.previous("selected_style"),this.selected_indices),this.style_updated(e,this.selected_indices)},unselected_style_updated:function(t,e){this.unselected_style=e;var n=this.selected_indices,i=n?o.range(this.model.mark_data.length).filter(function(t){return-1===n.indexOf(t)}):[];this.clear_style(t.previous("unselected_style"),i),this.style_updated(e,i)},style_updated:function(t,e){this.set_default_style(e),this.set_style_on_elements(t,e)},apply_styles:function(t){void 0!==t&&null!=t||(t=[this.selected_style,this.unselected_style]);for(var e=o.range(this.model.mark_data.length),n=0;n<t.length;n++)this.clear_style(t[n]);this.set_default_style(e),this.set_style_on_elements(this.selected_style,this.selected_indices);var i=this.selected_indices?o.difference(e,this.selected_indices):[];this.set_style_on_elements(this.unselected_style,i)},clear_style:function(t,e){},set_default_style:function(t){},set_style_on_elements:function(t,e){},compute_view_padding:function(){},show_tooltip:function(t){if(this.tooltip_view){r.mouse(this.parent.el);null!=t&&t?this.tooltip_div.style("pointer-events","all"):this.tooltip_div.style("pointer-events","none");this.tooltip_div.style(this.model.get("tooltip_style")).style("display",null);this.parent.popper.enableEventListeners(),this.move_tooltip()}},move_tooltip:function(t){this.tooltip_view&&(this.parent.popper_reference.x=r.event.clientX,this.parent.popper_reference.y=r.event.clientY,this.parent.popper.scheduleUpdate())},hide_tooltip:function(){this.parent.popper.disableEventListeners(),this.tooltip_div.style("pointer-events","none"),this.tooltip_div.style("opacity",0).style("display","none")},refresh_tooltip:function(t){var e=r.select(r.event.target);if(this.is_hover_element(e)){var n=e.data()[0],i=this.model.get_data_dict(n,n.index);this.trigger("update_tooltip",i),this.show_tooltip(t)}},create_tooltip:function(){var t=this.model.get("tooltip"),e=this;t?this.create_child_view(t).then(function(t){e.tooltip_view&&e.tooltip_view.remove(),e.tooltip_view=t,e.tooltip_div.node().appendChild(t.el),t.trigger("displayed",{add_to_dom_only:!0})}):e.tooltip_view&&e.tooltip_view.remove()},event_dispatcher:function(t,e){this.custom_msg_sender(t),void 0!==this.event_listeners[t]&&o.bind(this.event_listeners[t],this,e)()},custom_msg_sender:function(t){var e=this.event_metadata[t];if(void 0!==e){var n=null;if(e.hit_test){var i=r.select(r.event.target);if(!this.is_hover_element(i))return;n=i.data()[0],e.lookup_data&&(n=this.model.get_data_dict(n,n.index))}this.send({event:e.msg_name,data:n})}},reset_interactions:function(){this.reset_click(),this.reset_hover(),this.reset_legend_hover(),this.event_listeners.legend_clicked=function(){}},reset_click:function(){this.event_listeners.element_clicked=function(){},this.event_listeners.parent_clicked=function(){}},reset_hover:function(){this.event_listeners.mouse_over=function(){},this.event_listeners.mouse_move=function(){},this.event_listeners.mouse_out=function(){}},reset_legend_hover:function(){this.event_listeners.legend_mouse_over=function(){},this.event_listeners.legend_mouse_out=function(){}},mouse_over:function(){if(this.model.get("enable_hover")){var t=r.select(r.event.target);if(this.is_hover_element(t)){var e=t.data()[0],n=this.model.get_data_dict(e,e.index);this.trigger("update_tooltip",n),this.show_tooltip(),this.send({event:"hover",point:n})}}},mouse_out:function(){if(this.model.get("enable_hover")){var t=r.select(r.event.target);if(this.is_hover_element(t)){var e=t.data()[0],n=this.model.get_data_dict(e,e.index);this.hide_tooltip(),this.send({event:"hover",point:n})}}},mouse_move:function(){this.model.get("enable_hover")&&this.is_hover_element(r.select(r.event.target))&&this.move_tooltip()},is_hover_element:function(t){var e=this.display_el_classes.map(function(e){return t.classed(e)});return o.compact(e).length>0}});t.exports={Mark:s}},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(216)),i(n(140)),i(n(313)),i(n(320)),i(n(43)),i(n(142)),i(n(143)),i(n(144)),i(n(145))},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(237)),i(n(238)),i(n(239)),i(n(112)),i(n(296)),i(n(297))},function(t,e,n){var i=n(2),r=(n(1),n(0)),o=n(27),s="^"+n(18).version,a=o.BaseModel.extend({defaults:function(){return r.extend(o.BaseModel.prototype.defaults(),{_model_name:"MarkModel",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:s,_view_module_version:s,scales:{},scales_metadata:{},preserve_domain:{},display_legend:!0,labels:[],apply_clip:!0,visible:!0,selected_style:{},unselected_style:{},selected:null,enable_hover:!0,tooltip:null,tooltip_style:{opacity:.9},interactions:{hover:"tooltip"},tooltip_location:"mouse"})},initialize:function(){a.__super__.initialize.apply(this,arguments),this.on("change:scales",this.update_scales,this),this.once("destroy",this.handle_destroy,this),this.dirty=!1,this.display_el_classes=["mark"],this.update_scales()},update_data:function(){this.update_domains(),this.trigger("data_updated")},update_domains:function(){},update_scales:function(){this.unregister_all_scales(this.previous("scales")),this.trigger("scales_updated"),this.update_domains()},unregister_all_scales:function(t){for(var e in this.dirty=!0,t)t[e].del_domain([],this.model_id+"_"+e);this.dirty=!1},handle_destroy:function(){this.unregister_all_scales(this.get("scales"))},get_key_for_dimension:function(t){var e=this.get("scales_metadata");for(var n in e)if(e[n].dimension===t)return n;return null},get_key_for_orientation:function(t){var e=this.get("scales_metadata");for(var n in e)if(e[n].orientation===t)return n;return null}},{serializers:r.extend({scales:{deserialize:i.unpack_models},tooltip:{deserialize:i.unpack_models}},o.BaseModel.serializers)});t.exports={MarkModel:a}},function(t){t.exports={_from:"bqplot@0.3.0",_id:"bqplot@0.3.0",_inBundle:!1,_integrity:"sha1-xg2TT9fYHiEhrH5XYXr/oWgS2+Y=",_location:"/bqplot",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"bqplot@0.3.0",name:"bqplot",escapedName:"bqplot",rawSpec:"0.3.0",saveSpec:null,fetchSpec:"0.3.0"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/bqplot/-/bqplot-0.3.0.tgz",_shasum:"c60d934fd7d81e2121ac7e57617affa16812dbe6",_spec:"bqplot@0.3.0",_where:"/Users/sam/repos/nbinteract",author:{name:"BQPlot Development team",email:"bqplot@bloomberg.net"},bugs:{url:"https://github.com/bloomberg/bqplot/issues"},bundleDependencies:!1,dependencies:{"@jupyter-widgets/base":"^1.0.0",d3:"^3.5.16","popper.js":"^1.0.0",topojson:"^1.6.24",underscore:"^1.8.3"},deprecated:!1,description:"bqplot",devDependencies:{"css-loader":"^0.23.1","file-loader":"^0.8.5","imports-loader":"^0.6.5","json-loader":"^0.5.4",less:"^2.6.1","less-loader":"^2.2.3",rimraf:"^2.4.1","style-loader":"^0.13.1",webpack:"^1.12.14"},files:["dist/","css/","src/"],homepage:"https://github.com/bloomberg/bqplot#readme",license:"Apache-2.0",main:"src/index.js",name:"bqplot",repository:{type:"git",url:"git+https://github.com/bloomberg/bqplot.git"},scripts:{build:"webpack && lessc src/bqplot.less css/bqplot.css",prepublish:"npm run build",test:'echo "Error: no test specified" && exit 1'},version:"0.3.0"}},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(217)),i(n(234)),i(n(235)),i(n(236)),i(n(298)),i(n(304)),i(n(308)),i(n(309)),i(n(310)),i(n(311)),i(n(139)),i(n(312))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);e.uuid=i.uuid,e.WrappedError=i.WrappedError,e.resolvePromisesDict=i.resolvePromisesDict;var r=n(2);e.reject=function(t,e){return function(n){var i=new r.WrappedError(t,n);return e&&console.error(i),Promise.reject(i)}},e.typeset=function(t,e){void 0!==e&&(t.textContent=e),void 0!==window.MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,t])},e.escape_html=function(t){var e=document.createElement("div");return e.textContent=t,e.innerHTML}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";function i(t){return"function"==typeof t.iter?t.iter():new r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.iter=i,e.each=function(t,e){for(var n,r=0,o=i(t);void 0!==(n=o.next());)if(!1===e(n,r++))return},e.every=function(t,e){for(var n,r=0,o=i(t);void 0!==(n=o.next());)if(!e(n,r++))return!1;return!0},e.some=function(t,e){for(var n,r=0,o=i(t);void 0!==(n=o.next());)if(e(n,r++))return!0;return!1},e.toArray=function(t){for(var e,n=0,r=[],o=i(t);void 0!==(e=o.next());)r[n++]=e;return r};var r=function(){function t(t){this._index=0,this._source=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t}();e.ArrayIterator=r},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(o).concat([r]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var t=a(d);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function _(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){var i=n(148),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},function(t,e,n){"use strict";(function(t,i){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(7),a=n(407),l=function(){function t(t){this.type=t}return Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.conflate=function(t){return!1},t}();e.Message=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.conflate=function(t){return!0},e}(l);e.ConflatableMessage=u,function(e){function n(t,e){var n=o.get(t);n&&0!==n.length?s.every(s.retro(n),function(n){return!n||function(t,e,n){var i=!0;try{i="function"==typeof t?t(e,n):t.messageHook(e,n)}catch(t){u(t)}return i}(n,t,e)})&&p(t,e):p(t,e)}e.sendMessage=n,e.postMessage=function(t,e){e.isConflatable&&s.some(r,function(n){return n.handler===t&&!!n.msg&&n.msg.type===e.type&&!!n.msg.isConflatable&&n.msg.conflate(e)})||_(t,e)},e.installMessageHook=function(t,e){var n=o.get(t);n&&-1!==n.indexOf(e)||(n?n.push(e):o.set(t,[e]))},e.removeMessageHook=function(t,e){var n=o.get(t);if(n){var i=n.indexOf(e);-1!==i&&(n[i]=null,m(n))}},e.clearData=function(t){var e=o.get(t);e&&e.length>0&&(s.ArrayExt.fill(e,null),m(e)),s.each(r,function(e){e.handler===t&&(e.handler=null,e.msg=null)})},e.flush=function(){h||0===c||(f(c),h=!0,g(),h=!1)},e.getExceptionHandler=function(){return u},e.setExceptionHandler=function(t){var e=u;return u=t,e};var r=new a.LinkedList,o=new WeakMap,l=new Set,u=function(t){console.error(t)},c=0,h=!1,d="function"==typeof requestAnimationFrame?requestAnimationFrame:t,f="function"==typeof cancelAnimationFrame?cancelAnimationFrame:i;function p(t,e){try{t.processMessage(e)}catch(t){u(t)}}function _(t,e){r.addLast({handler:t,msg:e}),0===c&&(c=d(g))}function g(){if(c=0,!r.isEmpty){var t={handler:null,msg:null};for(r.addLast(t);;){var e=r.removeFirst();if(e===t)return;e.handler&&e.msg&&n(e.handler,e.msg)}}}function m(t){0===l.size&&d(v),l.add(t)}function v(){l.forEach(y),l.clear()}function y(t){s.ArrayExt.removeAllWhere(t,b)}function b(t){return null===t}}(e.MessageLoop||(e.MessageLoop={}))}).call(this,n(53).setImmediate,n(53).clearImmediate)},function(t,e,n){var i=n(2),r=n(0),o="^"+n(18).version,s=i.WidgetModel.extend({defaults:function(){return r.extend(i.WidgetModel.prototype.defaults(),{_model_name:"BaseModel",_model_module:"bqplot",_model_module_version:o})},get_typed_field:function(t){var e=this.get(t),n=[],i=this;return e.hasOwnProperty("type")&&e.hasOwnProperty("values")&&null!==e.values&&(n="date"===e.type?(n=this.get(t).values)[0]instanceof Array?n.map(function(t){return t.map(function(t){return i.convert_to_date(t)})}):n.map(function(t){return i.convert_to_date(t)}):this.get(t).values),n},set_typed_field:function(t,e,n){var i=e,r={},o=this,s=this.get(t).type;i[0]instanceof Array?"date"===s&&(i=i.map(function(t){return t.map(function(t){return o.convert_to_json(t)})})):"date"===s&&(i=i.map(function(t){return o.convert_to_json(t)})),r.type=s,r.values=i,this.set(t,r,n)},get_date_elem:function(t){return this.convert_to_date(this.get(t))},set_date_elem:function(t,e){this.set(t,this.convert_to_json(e))},convert_to_date:function(t){return null==t?null:new Date(t)},convert_to_json:function(t){return null==t?null:void 0===t.toJSON?t:t.toJSON().slice(0,-1)+"000"}});t.exports={BaseModel:s}},function(t,e,n){var i=n(3).Buffer,r=n(81).Transform,o=n(248).StringDecoder;function s(t){r.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(4)(s,r),s.prototype.update=function(t,e,n){"string"==typeof t&&(t=i.from(t,e));var r=this._update(t);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(t,e,n){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){i=t}finally{n(i)}},s.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},s.prototype._finalOrDigest=function(t){var e=this.__final()||i.alloc(0);return t&&(e=this._toString(e,t,!0)),e},s.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return n&&(i+=this._decoder.end()),i},t.exports=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),a=n(20),l=n(62),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"DescriptionStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:l.JUPYTER_CONTROLS_VERSION})},e.styleProperties={description_width:{selector:".widget-label",attribute:"width",default:null}},e}(s.StyleModel);e.DescriptionStyleModel=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"DescriptionModel",_view_name:"DescriptionView",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:l.JUPYTER_CONTROLS_VERSION,_model_module_version:l.JUPYTER_CONTROLS_VERSION,description:"",description_tooltip:null})},e}(s.DOMWidgetModel);e.DescriptionModel=c;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){this.label=document.createElement("label"),this.el.appendChild(this.label),this.label.className="widget-label",this.label.style.display="none",this.listenTo(this.model,"change:description",this.updateDescription),this.listenTo(this.model,"change:description_tooltip",this.updateDescription),this.updateDescription()},e.prototype.typeset=function(t,e){this.displayed.then(function(){return a.typeset(t,e)})},e.prototype.updateDescription=function(){var t=this.model.get("description"),e=this.model.get("description_tooltip");null===e&&(e=t),0===t.length?this.label.style.display="none":(this.label.innerHTML=t,this.typeset(this.label),this.label.style.display=""),this.label.title=e},e}(s.DOMWidgetView);e.DescriptionView=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(c);e.LabeledDOMWidgetModel=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.LabeledDOMWidgetView=f},function(t,e,n){var i=n(71),r=n(101);t.exports=n(51)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";(function(e,i){var r=n(3).Buffer,o=e.crypto||e.msCrypto;o&&o.getRandomValues?t.exports=function(t,n){if(t>65536)throw new Error("requested too many random bytes");var s=new e.Uint8Array(t);t>0&&o.getRandomValues(s);var a=r.from(s.buffer);if("function"==typeof n)return i.nextTick(function(){n(null,a)});return a}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(10),n(24))},function(t,e,n){var i=n(3).Buffer;function r(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}r.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=i.from(t,e));for(var n=this._block,r=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var l=s%r,u=Math.min(o-a,r-l),c=0;c<u;c++)n[l+c]=t[a+c];a+=u,(s+=u)%r==0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var i=(4294967295&n)>>>0,r=(n-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(113),a=n(16),l=n(324),u=n(391);e.difference=function(t,e){return t.filter(function(t){return-1===e.indexOf(t)})},e.isEqual=function(t,e){return l(t,e)},e.assign=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e.uuid=function(){return a.UUID.uuid4()};var c=function(t){function e(n,i){var r=t.call(this,n)||this;return console.warn("WrappedError has been deprecated!"),r.error_stack=i instanceof e?i.error_stack:[i],r.error_stack.push(r),r}return r(e,t),e}(Error);e.WrappedError=c,e.resolvePromisesDict=function(t){var e=Object.keys(t),n=[];return e.forEach(function(e){n.push(t[e])}),Promise.all(n).then(function(n){t={};for(var i=0;i<e.length;i++)t[e[i]]=n[i];return t})},e.reject=function(t,e){return function(n){throw e&&console.error(new Error(t)),n}},e.put_buffers=function(t,e,n){for(var i=0;i<e.length;i++){for(var r=e[i],o=t,s=0;s<r.length-1;s++)o=o[r[s]];o[r[r.length-1]]=n[i]}},e.remove_buffers=function(t){var e=[],n=[];return{state:function t(i,r){if(i.toJSON&&(i=i.toJSON()),Array.isArray(i))for(var s=!1,a=0;a<i.length;a++)(c=i[a])&&(c instanceof ArrayBuffer||ArrayBuffer.isView(c)?(s||(i=i.slice(),s=!0),e.push(ArrayBuffer.isView(c)?c.buffer:c),n.push(r.concat([a])),i[a]=null):(h=t(c,r.concat([a])))!==c&&(s||(i=i.slice(),s=!0),i[a]=h));else if(u(i))for(var l in i){var c,h;s=!1,i.hasOwnProperty(l)&&(c=i[l])&&(c instanceof ArrayBuffer||ArrayBuffer.isView(c)?(s||(i=o({},i),s=!0),e.push(ArrayBuffer.isView(c)?c.buffer:c),n.push(r.concat([l])),delete i[l]):(h=t(c,r.concat([l])))!==c&&(s||(i=o({},i),s=!0),i[l]=h))}return i}(t,[]),buffers:e,buffer_paths:n}};var h=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"];e.bufferToHex=function(t){for(var e=new Uint8Array(t),n=[],i=0;i<e.length;i++)n.push(h[e[i]]);return n.join("")},e.hexToBuffer=function(t){for(var e=new Uint8Array(t.length/2),n=0;n<t.length;n+=2)e[n/2]=parseInt(t.slice(n,n+2),16);return e.buffer},e.bufferToBase64=function(t){return s.fromByteArray(new Uint8Array(t))},e.base64ToBuffer=function(t){return s.toByteArray(t).buffer}},function(t,e,n){var i=n(338),r=n(343);t.exports=function(t,e){var n=r(t,e);return i(n)?n:void 0}},function(t,e,n){var i=n(105)("wks"),r=n(76),o=n(21).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},function(t,e,n){var i,r,o={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),a=function(t){var e={};return function(t){return void 0===e[t]&&(e[t]=function(t){return document.querySelector(t)}.call(this,t)),e[t]}}(),l=null,u=0,c=[],h=n(215);function d(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=o[i.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](i.parts[s]);for(;s<i.parts.length;s++)r.parts.push(v(i.parts[s],e))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(v(i.parts[s],e));o[i.id]={id:i.id,refs:1,parts:a}}}}function f(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function p(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function _(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function g(t){var e=document.createElement("style");return t.attrs.type="text/css",m(e,t.attrs),p(t,e),e}function m(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function v(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var s=u++;n=l||(l=g(e)),i=w.bind(null,n,s,!1),r=w.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",m(e,t.attrs),p(t,e),e}(e),i=function(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=h(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),r=function(){_(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){_(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return d(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var s=n[r];(a=o[s.id]).refs--,i.push(a)}t&&d(f(t,e),e);for(r=0;r<i.length;r++){var a;if(0===(a=i[r]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete o[a.id]}}}};var y,b=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function w(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},function(t,e,n){"use strict";var i=n(4),r=n(80),o=n(82),s=n(83),a=n(28);function l(t){a.call(this,"digest"),this._hash=t}i(l,a),l.prototype._update=function(t){this._hash.update(t)},l.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new r:"rmd160"===t||"ripemd160"===t?new o:new l(s(t))}},function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=n,n.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},function(t,e,n){(function(e){t.exports=function(t,n){for(var i=Math.min(t.length,n.length),r=new e(i),o=0;o<i;++o)r[o]=t[o]^n[o];return r}}).call(this,n(8).Buffer)},function(t,e,n){var i=e;i.bignum=n(5),i.define=n(277).define,i.base=n(41),i.constants=n(132),i.decoders=n(283),i.encoders=n(285)},function(t,e,n){var i=e;i.Reporter=n(280).Reporter,i.DecoderBuffer=n(131).DecoderBuffer,i.EncoderBuffer=n(131).EncoderBuffer,i.Node=n(281)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=function(){function t(t){this._fn=t}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){if(this._fn){var t=this._fn;this._fn=null,t()}},t}();e.DisposableDelegate=r;var o=function(){function t(){this._disposed=!1,this._items=new Set}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._items.forEach(function(t){t.dispose()}),this._items.clear())},t.prototype.contains=function(t){return this._items.has(t)},t.prototype.add=function(t){this._items.add(t)},t.prototype.remove=function(t){this._items.delete(t)},t.prototype.clear=function(){this._items.clear()},t}();e.DisposableSet=o,function(t){t.from=function(e){var n=new t;return i.each(e,function(t){n.add(t)}),n}}(o=e.DisposableSet||(e.DisposableSet={})),e.DisposableSet=o},function(module,exports,__webpack_require__){"use strict";(function(global){var __extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),extendStatics,__assign=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(exports,"__esModule",{value:!0});var coreutils_1=__webpack_require__(19),FETCH,HEADERS,REQUEST,WEBSOCKET,ServerConnection,Private;if("undefined"==typeof window){var fetchMod=eval("require")("node-fetch");FETCH=global.fetch||fetchMod,REQUEST=global.Request||fetchMod.Request,HEADERS=global.Headers||fetchMod.Headers,WEBSOCKET=global.WebSocket||eval("require")("ws")}else FETCH=fetch,REQUEST=Request,HEADERS=Headers,WEBSOCKET=WebSocket;!function(t){t.makeSettings=function(t){return Private.makeSettings(t)},t.makeRequest=function(t,e,n){return Private.handleRequest(t,e,n)};var e=function(t){function e(e,n){var i=this;return n=n||"Invalid response: "+e.status+" "+e.statusText,(i=t.call(this,n)||this).response=e,i}return __extends(e,t),e}(Error);t.ResponseError=e;var n=function(t){function e(e){var n=t.call(this,e.message)||this;return n.stack=e.stack,n}return __extends(e,t),e}(TypeError);t.NetworkError=n,t.defaultSettings={baseUrl:coreutils_1.PageConfig.getBaseUrl(),pageUrl:coreutils_1.PageConfig.getOption("pageUrl"),wsUrl:coreutils_1.PageConfig.getWsUrl(),token:coreutils_1.PageConfig.getToken(),init:{cache:"no-store",credentials:"same-origin"},fetch:FETCH,Headers:HEADERS,Request:REQUEST,WebSocket:WEBSOCKET}}(ServerConnection=exports.ServerConnection||(exports.ServerConnection={})),function(t){t.makeSettings=function(t){return void 0===t&&(t={}),__assign({},ServerConnection.defaultSettings,t)},t.handleRequest=function(t,e,n){if(0!==t.indexOf(n.baseUrl))throw new Error("Can only be used for notebook server requests");"no-store"===(e.cache||n.init.cache)&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());var i,r,o=new n.Request(t,__assign({},n.init,e)),s=!1;if(n.token)s=!0,o.headers.append("Authorization","token "+n.token);else if("undefined"!=typeof document&&document.cookie){var a=(i="_xsrf",(r=document.cookie.match("\\b"+i+"=([^;]*)\\b"))?r[1]:void 0);void 0!==a&&(s=!0,o.headers.append("X-XSRFToken",a))}return!o.bodyUsed&&s&&o.headers.set("Content-Type","application/json"),n.fetch.call(null,o).catch(function(t){throw new ServerConnection.NetworkError(t)})}}(Private||(Private={}))}).call(this,__webpack_require__(10))},function(t,e,n){var i=n(89),r=n(339),o=n(340),s="[object Null]",a="[object Undefined]",l=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:s:l&&l in Object(t)?r(t):o(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(7),a=n(26),l=n(159),u=n(6),c=n(160),h=function(){function t(t){void 0===t&&(t={}),this._flags=0,this._layout=null,this._parent=null,this._disposed=new u.Signal(this),this.node=o.createNode(t),this.addClass("p-Widget")}return t.prototype.dispose=function(){this.isDisposed||(this.setFlag(t.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&t.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),u.Signal.clearData(this),a.MessageLoop.clearData(this),l.AttachedProperty.clearData(this))},Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.testFlag(t.Flag.IsDisposed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this.testFlag(t.Flag.IsAttached)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.testFlag(t.Flag.IsHidden)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.testFlag(t.Flag.IsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return o.titleProperty.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.node.id},set:function(t){this.node.id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this.node.dataset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){var n=new t.ChildMessage("child-removed",this);a.MessageLoop.sendMessage(this._parent,n)}if(this._parent=e,this._parent&&!this._parent.isDisposed){n=new t.ChildMessage("child-added",this);a.MessageLoop.sendMessage(this._parent,n)}this.isDisposed||a.MessageLoop.sendMessage(this,t.Msg.ParentChanged)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},set:function(e){if(this._layout!==e){if(this.testFlag(t.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}},enumerable:!0,configurable:!0}),t.prototype.children=function(){return this._layout?this._layout.iter():s.empty()},t.prototype.contains=function(t){for(var e=t;e;e=e._parent)if(e===this)return!0;return!1},t.prototype.hasClass=function(t){return this.node.classList.contains(t)},t.prototype.addClass=function(t){this.node.classList.add(t)},t.prototype.removeClass=function(t){this.node.classList.remove(t)},t.prototype.toggleClass=function(t,e){return!0===e?(this.node.classList.add(t),!0):!1===e?(this.node.classList.remove(t),!1):this.node.classList.toggle(t)},t.prototype.update=function(){a.MessageLoop.postMessage(this,t.Msg.UpdateRequest)},t.prototype.fit=function(){a.MessageLoop.postMessage(this,t.Msg.FitRequest)},t.prototype.activate=function(){a.MessageLoop.postMessage(this,t.Msg.ActivateRequest)},t.prototype.close=function(){a.MessageLoop.sendMessage(this,t.Msg.CloseRequest)},t.prototype.show=function(){if(this.testFlag(t.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,t.Msg.BeforeShow),this.clearFlag(t.Flag.IsHidden),this.removeClass("p-mod-hidden"),!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,t.Msg.AfterShow),this.parent)){var e=new t.ChildMessage("child-shown",this);a.MessageLoop.sendMessage(this.parent,e)}},t.prototype.hide=function(){if(!this.testFlag(t.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,t.Msg.BeforeHide),this.setFlag(t.Flag.IsHidden),this.addClass("p-mod-hidden"),!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,t.Msg.AfterHide),this.parent)){var e=new t.ChildMessage("child-hidden",this);a.MessageLoop.sendMessage(this.parent,e)}},t.prototype.setHidden=function(t){t?this.hide():this.show()},t.prototype.testFlag=function(t){return 0!=(this._flags&t)},t.prototype.setFlag=function(t){this._flags|=t},t.prototype.clearFlag=function(t){this._flags&=~t},t.prototype.processMessage=function(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(t.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(t.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":this.isHidden||this.parent&&!this.parent.isVisible||this.setFlag(t.Flag.IsVisible),this.setFlag(t.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(t.Flag.IsVisible),this.clearFlag(t.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e)}},t.prototype.notifyLayout=function(t){this._layout&&this._layout.processParentMessage(t)},t.prototype.onCloseRequest=function(e){this.parent?this.parent=null:this.isAttached&&t.detach(this)},t.prototype.onResize=function(t){},t.prototype.onUpdateRequest=function(t){},t.prototype.onFitRequest=function(t){},t.prototype.onActivateRequest=function(t){},t.prototype.onBeforeShow=function(t){},t.prototype.onAfterShow=function(t){},t.prototype.onBeforeHide=function(t){},t.prototype.onAfterHide=function(t){},t.prototype.onBeforeAttach=function(t){},t.prototype.onAfterAttach=function(t){},t.prototype.onBeforeDetach=function(t){},t.prototype.onAfterDetach=function(t){},t.prototype.onChildAdded=function(t){},t.prototype.onChildRemoved=function(t){},t}();e.Widget=h,function(t){!function(t){t[t.IsDisposed=1]="IsDisposed",t[t.IsAttached=2]="IsAttached",t[t.IsHidden=4]="IsHidden",t[t.IsVisible=8]="IsVisible",t[t.DisallowLayout=16]="DisallowLayout"}(t.Flag||(t.Flag={})),function(t){t.BeforeShow=new a.Message("before-show"),t.AfterShow=new a.Message("after-show"),t.BeforeHide=new a.Message("before-hide"),t.AfterHide=new a.Message("after-hide"),t.BeforeAttach=new a.Message("before-attach"),t.AfterAttach=new a.Message("after-attach"),t.BeforeDetach=new a.Message("before-detach"),t.AfterDetach=new a.Message("after-detach"),t.ParentChanged=new a.Message("parent-changed"),t.UpdateRequest=new a.ConflatableMessage("update-request"),t.FitRequest=new a.ConflatableMessage("fit-request"),t.ActivateRequest=new a.ConflatableMessage("activate-request"),t.CloseRequest=new a.ConflatableMessage("close-request")}(t.Msg||(t.Msg={}));var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i.child=n,i}return r(e,t),e}(a.Message);t.ChildMessage=e;var n=function(t){function e(e,n){var i=t.call(this,"resize")||this;return i.width=e,i.height=n,i}return r(e,t),e}(a.Message);t.ResizeMessage=n,function(t){t.UnknownSize=new t(-1,-1)}(n=t.ResizeMessage||(t.ResizeMessage={})),t.attach=function(e,n,i){if(void 0===i&&(i=null),e.parent)throw new Error("Cannot attach a child widget.");if(e.isAttached||document.body.contains(e.node))throw new Error("Widget is already attached.");if(!document.body.contains(n))throw new Error("Host is not attached.");a.MessageLoop.sendMessage(e,t.Msg.BeforeAttach),n.insertBefore(e.node,i),a.MessageLoop.sendMessage(e,t.Msg.AfterAttach)},t.detach=function(e){if(e.parent)throw new Error("Cannot detach a child widget.");if(!e.isAttached||!document.body.contains(e.node))throw new Error("Widget is not attached.");a.MessageLoop.sendMessage(e,t.Msg.BeforeDetach),e.node.parentNode.removeChild(e.node),a.MessageLoop.sendMessage(e,t.Msg.AfterDetach)}}(h=e.Widget||(e.Widget={})),e.Widget=h,function(t){t.titleProperty=new l.AttachedProperty({name:"title",create:function(t){return new c.Title({owner:t})}}),t.createNode=function(t){return t.node||document.createElement("div")}}(o||(o={}))},function(t,e,n){var i,r,o;r=[n(13)],void 0===(o="function"==typeof(i=function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i=n(1),r=(n(0),n(63)),o=r.Interaction.extend({initialize:function(){this.setElement(document.createElementNS(i.ns.prefix.svg,"g")),this.d3el=i.select(this.el),r.Interaction.__super__.initialize.apply(this,arguments)},render:function(){this.parent=this.options.parent,this.width=this.parent.width-this.parent.margin.left-this.parent.margin.right,this.height=this.parent.height-this.parent.margin.top-this.parent.margin.bottom,this.mark_views_promise=this.populate_mark_views()},create_listeners:function(){this.parent.on("margin_updated",this.relayout,this),this.listenTo(this.model,"change:selected",this.selected_changed),this.listenTo(this.model,"msg:custom",this.handle_custom_messages)},relayout:function(){this.height=this.parent.height-this.parent.margin.top-this.parent.margin.bottom,this.width=this.parent.width-this.parent.margin.left-this.parent.margin.right},populate_mark_views:function(){var t=this.parent,e=this,n=this.model.get("marks").map(function(t){return t.model_id});return Promise.all(t.mark_views.views).then(function(i){var r=t.mark_views._models.map(function(t){return t.model_id}),o=n.map(function(t){return r.indexOf(t)});e.mark_views=o.map(function(t){return i[t]})})},handle_custom_messages:function(t){"reset"===t.type&&this.reset()},reset:function(){},selected_changed:function(){}}),s=o.extend({create_scales:function(){if(this.scale&&this.scale.remove(),this.model.get("scale")){var t=this;return this.create_child_view(this.model.get("scale")).then(function(e){return t.scale=e,t.update_scale_domain(!0),t.set_range([t.scale]),t.scale.on("domain_changed",t.update_scale_domain,t),e})}},update_scale_domain:function(){var t=this.parent.padded_range("x",this.scale.model),e=this.parent.range("x");this.scale.expand_domain(t,e)},set_range:function(t){for(var e=0;e<t.length;e++)t[e].set_range(this.parent.range("x"))}}),a=o.extend({create_scales:function(){var t=this;this.x_scale&&this.x_scale.remove(),this.y_scale&&this.y_scale.remove();var e=[];return this.model.get("x_scale")&&e.push(this.create_child_view(this.model.get("x_scale")).then(function(e){return t.x_scale=e,t.update_xscale_domain(),t.set_x_range([t.x_scale]),t.x_scale.on("domain_changed",t.update_xscale_domain,t),e})),this.model.get("y_scale")&&e.push(this.create_child_view(this.model.get("y_scale")).then(function(e){return t.y_scale=e,t.update_yscale_domain(),t.set_y_range([t.y_scale]),t.y_scale.on("domain_changed",t.update_yscale_domain,t),e})),Promise.all(e)},set_x_range:function(t){for(var e=0;e<t.length;e++)t[e].set_range(this.parent.range("x"))},set_y_range:function(t){for(var e=0;e<t.length;e++)t[e].set_range(this.parent.range("y"))},update_xscale_domain:function(){var t=this.parent.padded_range("x",this.x_scale.model),e=this.parent.range("x");this.x_scale.expand_domain(t,e)},update_yscale_domain:function(){var t=this.parent.padded_range("x",this.y_scale.model),e=this.parent.range("x");this.y_scale.expand_domain(t,e)}});t.exports={BaseSelector:o,BaseXSelector:s,BaseXYSelector:a}},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),n(451),i(n(453)),i(n(172)),i(n(173)),i(n(456)),i(n(457)),i(n(171)),i(n(170))},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),n(447),i(n(449)),i(n(458))},function(t,e,n){t.exports=!n(100)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(218),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(10))},function(t,e,n){var i=n(3).Buffer;function r(t){i.isBuffer(t)||(t=i.from(t));for(var e=t.length/4|0,n=new Array(e),r=0;r<e;r++)n[r]=t.readUInt32BE(4*r);return n}function o(t){for(;0<t.length;t++)t[0]=0}function s(t,e,n,i,r){for(var o,s,a,l,u=n[0],c=n[1],h=n[2],d=n[3],f=t[0]^e[0],p=t[1]^e[1],_=t[2]^e[2],g=t[3]^e[3],m=4,v=1;v<r;v++)o=u[f>>>24]^c[p>>>16&255]^h[_>>>8&255]^d[255&g]^e[m++],s=u[p>>>24]^c[_>>>16&255]^h[g>>>8&255]^d[255&f]^e[m++],a=u[_>>>24]^c[g>>>16&255]^h[f>>>8&255]^d[255&p]^e[m++],l=u[g>>>24]^c[f>>>16&255]^h[p>>>8&255]^d[255&_]^e[m++],f=o,p=s,_=a,g=l;return o=(i[f>>>24]<<24|i[p>>>16&255]<<16|i[_>>>8&255]<<8|i[255&g])^e[m++],s=(i[p>>>24]<<24|i[_>>>16&255]<<16|i[g>>>8&255]<<8|i[255&f])^e[m++],a=(i[_>>>24]<<24|i[g>>>16&255]<<16|i[f>>>8&255]<<8|i[255&p])^e[m++],l=(i[g>>>24]<<24|i[f>>>16&255]<<16|i[p>>>8&255]<<8|i[255&_])^e[m++],[o>>>=0,s>>>=0,a>>>=0,l>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],i=[],r=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,l=0;l<256;++l){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99,n[s]=u,i[u]=s;var c=t[s],h=t[c],d=t[h],f=257*t[u]^16843008*u;r[0][s]=f<<24|f>>>8,r[1][s]=f<<16|f>>>16,r[2][s]=f<<8|f>>>24,r[3][s]=f,f=16843009*d^65537*h^257*c^16843008*s,o[0][u]=f<<24|f>>>8,o[1][u]=f<<16|f>>>16,o[2][u]=f<<8|f>>>24,o[3][u]=f,0===s?s=a=1:(s=c^t[t[t[d^c]]],a^=t[t[a]])}return{SBOX:n,INV_SBOX:i,SUB_MIX:r,INV_SUB_MIX:o}}();function u(t){this._key=r(t),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,i=4*(n+1),r=[],o=0;o<e;o++)r[o]=t[o];for(o=e;o<i;o++){var s=r[o-1];o%e==0?(s=s<<8|s>>>24,s=l.SBOX[s>>>24]<<24|l.SBOX[s>>>16&255]<<16|l.SBOX[s>>>8&255]<<8|l.SBOX[255&s],s^=a[o/e|0]<<24):e>6&&o%e==4&&(s=l.SBOX[s>>>24]<<24|l.SBOX[s>>>16&255]<<16|l.SBOX[s>>>8&255]<<8|l.SBOX[255&s]),r[o]=r[o-e]^s}for(var u=[],c=0;c<i;c++){var h=i-c,d=r[h-(c%4?0:4)];u[c]=c<4||h<=4?d:l.INV_SUB_MIX[0][l.SBOX[d>>>24]]^l.INV_SUB_MIX[1][l.SBOX[d>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[d>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&d]]}this._nRounds=n,this._keySchedule=r,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(t){return s(t=r(t),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},u.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),n=i.allocUnsafe(16);return n.writeUInt32BE(e[0],0),n.writeUInt32BE(e[1],4),n.writeUInt32BE(e[2],8),n.writeUInt32BE(e[3],12),n},u.prototype.decryptBlock=function(t){var e=(t=r(t))[1];t[1]=t[3],t[3]=e;var n=s(t,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),o=i.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=u},function(t,e,n){var i=n(3).Buffer,r=n(80);t.exports=function(t,e,n,o){if(i.isBuffer(t)||(t=i.from(t,"binary")),e&&(i.isBuffer(e)||(e=i.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=n/8,a=i.alloc(s),l=i.alloc(o||0),u=i.alloc(0);s>0||o>0;){var c=new r;c.update(u),c.update(t),e&&c.update(e),u=c.digest();var h=0;if(s>0){var d=a.length-s;h=Math.min(s,u.length),u.copy(a,d,0,h),s-=h}if(h<u.length&&o>0){var f=l.length-o,p=Math.min(o,u.length-h);u.copy(l,f,h,h+p),o-=p}}return u.fill(0),{key:a,iv:l}}},function(t,e,n){(function(e){var i=n(276),r=n(288),o=n(289),s=n(85),a=n(120);function l(t){var n;"object"!=typeof t||e.isBuffer(t)||(n=t.passphrase,t=t.key),"string"==typeof t&&(t=new e(t));var l,u,c=o(t,n),h=c.tag,d=c.data;switch(h){case"CERTIFICATE":u=i.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=i.PublicKey.decode(d,"der")),l=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=i.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+l)}throw new Error("unknown key type "+h);case"ENCRYPTED PRIVATE KEY":d=function(t,n){var i=t.algorithm.decrypt.kde.kdeparams.salt,o=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),l=r[t.algorithm.decrypt.cipher.algo.join(".")],u=t.algorithm.decrypt.cipher.iv,c=t.subjectPrivateKey,h=parseInt(l.split("-")[1],10)/8,d=a.pbkdf2Sync(n,i,o,h),f=s.createDecipheriv(l,d,u),p=[];return p.push(f.update(c)),p.push(f.final()),e.concat(p)}(d=i.EncryptedPrivateKey.decode(d,"der"),n);case"PRIVATE KEY":switch(l=(u=i.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:i.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=i.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+l)}throw new Error("unknown key type "+h);case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=i.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+h)}}t.exports=l,l.signature=i.signature}).call(this,n(8).Buffer)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(19);!function(t){function e(t,e,n,r){return void 0===e&&(e={}),void 0===n&&(n={}),void 0===r&&(r=[]),{header:{username:t.username||"",version:"5.2",session:t.session,msg_id:t.msgId||i.uuid(),msg_type:t.msgType},parent_header:{},channel:t.channel,content:e,metadata:n,buffers:r}}t.createMessage=e,t.createShellMessage=function(t,n,i,r){return void 0===n&&(n={}),void 0===i&&(i={}),void 0===r&&(r=[]),e(t,n,i,r)},t.isStreamMsg=function(t){return"stream"===t.header.msg_type},t.isDisplayDataMsg=function(t){return"display_data"===t.header.msg_type},t.isExecuteInputMsg=function(t){return"execute_input"===t.header.msg_type},t.isExecuteResultMsg=function(t){return"execute_result"===t.header.msg_type},t.isErrorMsg=function(t){return"error"===t.header.msg_type},t.isStatusMsg=function(t){return"status"===t.header.msg_type},t.isClearOutputMsg=function(t){return"clear_output"===t.header.msg_type},t.isCommOpenMsg=function(t){return"comm_open"===t.header.msg_type},t.isCommCloseMsg=function(t){return"comm_close"===t.header.msg_type},t.isCommMsgMsg=function(t){return"comm_msg"===t.header.msg_type},t.isExecuteReplyMsg=function(t){return"execute_reply"===t.header.msg_type},t.isInputRequestMsg=function(t){return"input_request"===t.header.msg_type}}(e.KernelMessage||(e.KernelMessage={}))},function(t,e,n){var i=n(328),r=n(329),o=n(330),s=n(331),a=n(332);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},function(t,e,n){var i=n(146);t.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},function(t,e,n){var i=n(34)(Object,"create");t.exports=i},function(t,e,n){var i=n(352);t.exports=function(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JUPYTER_CONTROLS_VERSION="1.4.0"},function(t,e,n){var i=n(2),r=n(1),o=n(0),s=i.WidgetView.extend({initialize:function(){this.setElement(document.createElementNS(r.ns.prefix.svg,"rect")),this.d3el=r.select(this.el),s.__super__.initialize.apply(this,arguments)},render:function(){this.parent=this.options.parent,this.d3el.attr("x",0).attr("y",0).attr("width",this.parent.width-this.parent.margin.left-this.parent.margin.right).attr("height",this.parent.height-this.parent.margin.top-this.parent.margin.bottom).attr("pointer-events","all").attr("visibility","hidden"),this.parent.on("margin_updated",this.relayout,this)},relayout:function(){this.d3el.attr("width",this.parent.width-this.parent.margin.left-this.parent.margin.right).attr("height",this.parent.height-this.parent.margin.top-this.parent.margin.bottom)},remove:function(){o.each(this.mark_views,function(t){t.invert_range()}),this.d3el.remove(),s.__super__.remove.apply(this)}});t.exports={Interaction:s}},function(t,e,n){var i=n(2),r=(n(1),i.WidgetView.extend({render:function(){this.offset=0},create_event_listeners:function(){this.listenTo(this.model,"domain_changed",this.model_domain_changed,this),this.listenTo(this.model,"highlight_axis",this.highlight_axis,this),this.listenTo(this.model,"unhighlight_axis",this.unhighlight_axis,this)},set_range:function(t,e){this.scale.range(t)},compute_and_set_domain:function(t,e){this.model.compute_and_set_domain(t,e)},set_domain:function(t,e){this.model.set_domain(t,e)},model_domain_changed:function(){this.scale.domain(this.model.domain),this.trigger("domain_changed")},highlight_axis:function(){this.trigger("highlight_axis")},unhighlight_axis:function(){this.trigger("unhighlight_axis")},expand_domain:function(t,e){}}));t.exports={Scale:r}},function(t,e,n){var i=n(1),r=(n(0),n(176)),o=n(9),s=["Paired","Set3","Pastel1","Set1","Greys","Greens","Reds","Purples","Oranges","Blues","YlOrRd","YlOrBr","YlGnBu","YlGn","RdPu","PuRd","PuBuGn","PuBu","OrRd","GnBu","BuPu","BuGn","BrBG","PiYG","PRGn","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral"];t.exports={scale_colors_multi:function(t,e){var n=o.getCustomRange(t),i=n[0],r=n[1];i.domain([0,(e-1)/2]),r.domain([(e-1)/2,e-1]);var s,a=[];for(s=0;s<(e-1)/2;s++)a.push(i(s));for(s=(e-1)/2+1;s<e;s++)a.push(r(s));return a},scale_colors:function(t,e){for(var n=i.scale.linear().domain([0,e-1]).range(i.extent[t]),r=e<t.length?Math.floor(t.length/e):1,o=[],s=0;s<e;s+=r)o.push(n(s));return o},cycle_colors:function(t,e){var n=t.length;if(n>e)return t.slice(0,e);for(var i=[],r=Math.floor(e/n);r>0;r--)i=i.concat(t);return i.concat(t.slice(0,e%n))},cycle_colors_from_scheme:function(t,e){var n=s.indexOf(t),i=r[s[n=-1===n?29:n]];return 2===e?[i[3][0],i[3][2]]:i.hasOwnProperty(e)?i[e]:n<2?this.cycle_colors(i[12],e):this.cycle_colors(i[9],e)},get_colors:function(t,e){var n=s.indexOf(t);-1===n&&(n=29);var i=r[s[n]];return n<2?this.cycle_colors(i[Math.min(e,12)],e):n<4?this.cycle_colors(i[Math.min(e,9)],e):n<22?this.scale_colors(i[Math.min(e,9)],e):this.scale_colors_multi(i[Math.min(e,9)],e)},get_linear_scale:function(t){var e=s.indexOf(t);-1===e&&e<4&&(e=29);var n=r[s[e]][9],o=i.scale.linear();return e>22?o.range([n[0],n[4],n[8]]):o.range([n[0],n[8]]),o},get_ordinal_scale:function(t,e){var n=i.scale.ordinal();return n.range(this.cycle_colors_from_scheme(t,e)),n},get_linear_scale_range:function(t){return this.get_linear_scale(t).range()},get_ordinal_scale_range:function(t,e){return this.get_ordinal_scale(t,e).range()},is_divergent:function(t){var e=s.indexOf(t);return-1===e&&e<4&&(e=2),e>22}}},function(t,e,n){n(1);var i=n(0),r=n(27),o="^"+n(18).version,s=r.BaseModel.extend({defaults:function(){return i.extend(r.BaseModel.prototype.defaults(),{_model_name:"ScaleModel",_view_name:"Scale",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:o,_view_module_version:o,reverse:!1,allow_padding:!0})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.domains={},this.domain=[],this.set_init_state(),this.set_listeners()},set_init_state:function(){this.type="base"},set_listeners:function(){},set_domain:function(t,e){this.domains[e]=t,this.update_domain()},del_domain:function(t,e){void 0!==this.domains[e]&&(delete this.domains[e],this.update_domain())}});t.exports={ScaleModel:s}},function(t,e,n){var i=n(1),r=n(0),o=n(66),s=o.ScaleModel.extend({defaults:function(){return r.extend(o.ScaleModel.prototype.defaults(),{_model_name:"LinearScaleModel",_view_name:"LinearScale",min:null,max:null,min_range:.6,mid_range:.8})},initialize:function(){s.__super__.initialize.apply(this,arguments)},set_init_state:function(){this.type="linear",this.global_min=Number.NEGATIVE_INFINITY,this.global_max=Number.POSITIVE_INFINITY},set_listeners:function(){this.on("change:reverse",this.reverse_changed,this),this.reverse_changed(),this.on_some_change(["min","max"],this.min_max_changed,this),this.min_max_changed(),this.on_some_change(["min_range","mid_range","stabilized"],this.update_domain,this)},min_max_changed:function(){this.min=this.get("min"),this.max=this.get("max"),this.min_from_data=null===this.min,this.max_from_data=null===this.max,this.update_domain()},reverse_changed:function(t,e,n){var i=void 0!==t&&t.previous("reverse");this.reverse=this.get("reverse");var r=(i+this.reverse)%2;this.domain.length>0&&1===r&&(this.domain.reverse(),this.trigger("domain_changed",this.domain))},update_domain:function(){var t=this,e=this.min_from_data?i.min(r.map(this.domains,function(e){return e.length>0?e[0]:t.global_max})):this.min,n=this.max_from_data?i.max(r.map(this.domains,function(e){return e.length>1?e[1]:t.global_min})):this.max,o=.5*(e+n),s=.5*(n-e)/this.get("mid_range");prev_domain=this.domain,min_index=this.reverse?1:0,prev_min=prev_domain[min_index],prev_max=prev_domain[1-min_index],prev_mid=.5*(prev_max+prev_min),min_width=.5*(prev_max-prev_min)*this.get("min_range");var a=this.get("stabilized");if(a?!(e>=prev_min&&e<=prev_mid-min_width&&n<=prev_max&&n>=prev_mid+min_width):e!==prev_min||n!==prev_max){var l=a?o-s:e,u=a?o+s:n;this.domain=this.reverse?[u,l]:[l,u],this.trigger("domain_changed",this.domain)}},compute_and_set_domain:function(t,e){if(0!==t.length){var n=t[0]instanceof Array?t:[t],r=i.min(n.map(function(t){return i.min(t)})),o=i.max(n.map(function(t){return i.max(t)}));this.set_domain([r,o],e)}else this.set_domain([],e)}});t.exports={LinearScaleModel:s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(446))},function(t,e,n){var i=n(21),r=n(70),o=n(30),s=n(75),a=n(102),l=function(t,e,n){var u,c,h,d,f=t&l.F,p=t&l.G,_=t&l.S,g=t&l.P,m=t&l.B,v=p?i:_?i[e]||(i[e]={}):(i[e]||{}).prototype,y=p?r:r[e]||(r[e]={}),b=y.prototype||(y.prototype={});for(u in p&&(n=e),n)h=((c=!f&&v&&void 0!==v[u])?v:n)[u],d=m&&c?a(h,i):g&&"function"==typeof h?a(Function.call,h):h,v&&s(v,u,h,t&l.U),y[u]!=h&&o(y,u,d),g&&b[u]!=h&&(b[u]=h)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var n=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(72),r=n(191),o=n(192),s=Object.defineProperty;e.f=n(51)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(73);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(73),r=n(21).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(21),r=n(30),o=n(52),s=n(76)("src"),a=Function.toString,l=(""+a).split("toString");n(70).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(o(n,s)||r(n,s,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports={}},function(t,e,n){var i=n(202),r=n(107);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(105)("keys"),r=n(76);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){"use strict";var i=n(4),r=n(114),o=n(3).Buffer,s=new Array(16);function a(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(t,e){return t<<e|t>>>32-e}function u(t,e,n,i,r,o,s){return l(t+(e&n|~e&i)+r+o|0,s)+e|0}function c(t,e,n,i,r,o,s){return l(t+(e&i|n&~i)+r+o|0,s)+e|0}function h(t,e,n,i,r,o,s){return l(t+(e^n^i)+r+o|0,s)+e|0}function d(t,e,n,i,r,o,s){return l(t+(n^(e|~i))+r+o|0,s)+e|0}i(a,r),a.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,i=this._b,r=this._c,o=this._d;n=u(n,i,r,o,t[0],3614090360,7),o=u(o,n,i,r,t[1],3905402710,12),r=u(r,o,n,i,t[2],606105819,17),i=u(i,r,o,n,t[3],3250441966,22),n=u(n,i,r,o,t[4],4118548399,7),o=u(o,n,i,r,t[5],1200080426,12),r=u(r,o,n,i,t[6],2821735955,17),i=u(i,r,o,n,t[7],4249261313,22),n=u(n,i,r,o,t[8],1770035416,7),o=u(o,n,i,r,t[9],2336552879,12),r=u(r,o,n,i,t[10],4294925233,17),i=u(i,r,o,n,t[11],2304563134,22),n=u(n,i,r,o,t[12],1804603682,7),o=u(o,n,i,r,t[13],4254626195,12),r=u(r,o,n,i,t[14],2792965006,17),n=c(n,i=u(i,r,o,n,t[15],1236535329,22),r,o,t[1],4129170786,5),o=c(o,n,i,r,t[6],3225465664,9),r=c(r,o,n,i,t[11],643717713,14),i=c(i,r,o,n,t[0],3921069994,20),n=c(n,i,r,o,t[5],3593408605,5),o=c(o,n,i,r,t[10],38016083,9),r=c(r,o,n,i,t[15],3634488961,14),i=c(i,r,o,n,t[4],3889429448,20),n=c(n,i,r,o,t[9],568446438,5),o=c(o,n,i,r,t[14],3275163606,9),r=c(r,o,n,i,t[3],4107603335,14),i=c(i,r,o,n,t[8],1163531501,20),n=c(n,i,r,o,t[13],2850285829,5),o=c(o,n,i,r,t[2],4243563512,9),r=c(r,o,n,i,t[7],1735328473,14),n=h(n,i=c(i,r,o,n,t[12],2368359562,20),r,o,t[5],4294588738,4),o=h(o,n,i,r,t[8],2272392833,11),r=h(r,o,n,i,t[11],1839030562,16),i=h(i,r,o,n,t[14],4259657740,23),n=h(n,i,r,o,t[1],2763975236,4),o=h(o,n,i,r,t[4],1272893353,11),r=h(r,o,n,i,t[7],4139469664,16),i=h(i,r,o,n,t[10],3200236656,23),n=h(n,i,r,o,t[13],681279174,4),o=h(o,n,i,r,t[0],3936430074,11),r=h(r,o,n,i,t[3],3572445317,16),i=h(i,r,o,n,t[6],76029189,23),n=h(n,i,r,o,t[9],3654602809,4),o=h(o,n,i,r,t[12],3873151461,11),r=h(r,o,n,i,t[15],530742520,16),n=d(n,i=h(i,r,o,n,t[2],3299628645,23),r,o,t[0],4096336452,6),o=d(o,n,i,r,t[7],1126891415,10),r=d(r,o,n,i,t[14],2878612391,15),i=d(i,r,o,n,t[5],4237533241,21),n=d(n,i,r,o,t[12],1700485571,6),o=d(o,n,i,r,t[3],2399980690,10),r=d(r,o,n,i,t[10],4293915773,15),i=d(i,r,o,n,t[1],2240044497,21),n=d(n,i,r,o,t[8],1873313359,6),o=d(o,n,i,r,t[15],4264355552,10),r=d(r,o,n,i,t[6],2734768916,15),i=d(i,r,o,n,t[13],1309151649,21),n=d(n,i,r,o,t[4],4149444226,6),o=d(o,n,i,r,t[11],3174756917,10),r=d(r,o,n,i,t[2],718787259,15),i=d(i,r,o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},function(t,e,n){t.exports=r;var i=n(243).EventEmitter;function r(){i.call(this)}n(4)(r,i),r.Readable=n(5),r.Writable=n(5),r.Duplex=n(5),r.Transform=n(5),r.PassThrough=n(5),r.Stream=r,r.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",l));var s=!1;function a(){s||(s=!0,t.end())}function l(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(c(),0===i.listenerCount(this,"error"))throw t}function c(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",l),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("error",u),t.on("error",u),n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t}},function(t,e,n){"use strict";var i=n(8).Buffer,r=n(4),o=n(114),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function f(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function _(t,e,n,i,r,o,s,a){return p(t+(e^n^i)+o+s|0,a)+r|0}function g(t,e,n,i,r,o,s,a){return p(t+(e&n|~e&i)+o+s|0,a)+r|0}function m(t,e,n,i,r,o,s,a){return p(t+((e|~n)^i)+o+s|0,a)+r|0}function v(t,e,n,i,r,o,s,a){return p(t+(e&i|n&~i)+o+s|0,a)+r|0}function y(t,e,n,i,r,o,s,a){return p(t+(e^(n|~i))+o+s|0,a)+r|0}r(f,o),f.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,i=0|this._b,r=0|this._c,o=0|this._d,f=0|this._e,b=0|this._a,w=0|this._b,x=0|this._c,k=0|this._d,M=0|this._e,E=0;E<80;E+=1){var j,S;E<16?(j=_(n,i,r,o,f,t[a[E]],h[0],u[E]),S=y(b,w,x,k,M,t[l[E]],d[0],c[E])):E<32?(j=g(n,i,r,o,f,t[a[E]],h[1],u[E]),S=v(b,w,x,k,M,t[l[E]],d[1],c[E])):E<48?(j=m(n,i,r,o,f,t[a[E]],h[2],u[E]),S=m(b,w,x,k,M,t[l[E]],d[2],c[E])):E<64?(j=v(n,i,r,o,f,t[a[E]],h[3],u[E]),S=g(b,w,x,k,M,t[l[E]],d[3],c[E])):(j=y(n,i,r,o,f,t[a[E]],h[4],u[E]),S=_(b,w,x,k,M,t[l[E]],d[4],c[E])),n=f,f=o,o=p(r,10),r=i,i=j,b=M,M=k,k=p(x,10),x=w,w=S}var C=this._b+r+k|0;this._b=this._c+o+M|0,this._c=this._d+f+b|0,this._d=this._e+n+w|0,this._e=this._a+i+x|0,this._a=C},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=i.alloc?i.alloc(20):new i(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=f},function(t,e,n){(e=t.exports=function(t){t=t.toLowerCase();var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n}).sha=n(244),e.sha1=n(245),e.sha224=n(246),e.sha256=n(115),e.sha384=n(247),e.sha512=n(116)},function(t,e,n){"use strict";e.utils=n(254),e.Cipher=n(255),e.DES=n(256),e.CBC=n(257),e.EDE=n(258)},function(t,e,n){var i=n(259),r=n(267),o=n(126);e.createCipher=e.Cipher=i.createCipher,e.createCipheriv=e.Cipheriv=i.createCipheriv,e.createDecipher=e.Decipher=r.createDecipher,e.createDecipheriv=e.Decipheriv=r.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},function(t,e,n){var i={ECB:n(260),CBC:n(261),CFB:n(262),CFB8:n(263),CFB1:n(264),OFB:n(265),CTR:n(124),GCM:n(124)},r=n(126);for(var o in r)r[o].module=i[r[o].mode];t.exports=r},function(t,e,n){(function(e){var i=n(5),r=n(31);function o(t,n){var r=function(t){var e=s(t);return{blinder:e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(n),o=n.modulus.byteLength(),a=(i.mont(n.modulus),new i(t).mul(r.blinder).umod(n.modulus)),l=a.toRed(i.mont(n.prime1)),u=a.toRed(i.mont(n.prime2)),c=n.coefficient,h=n.prime1,d=n.prime2,f=l.redPow(n.exponent1),p=u.redPow(n.exponent2);f=f.fromRed(),p=p.fromRed();var _=f.isub(p).imul(c).umod(h);return _.imul(d),p.iadd(_),new e(p.imul(r.unblinder).umod(n.modulus).toArray(!1,o))}function s(t){for(var e=t.modulus.byteLength(),n=new i(r(e));n.cmp(t.modulus)>=0||!n.umod(t.prime1)||!n.umod(t.prime2);)n=new i(r(e));return n}t.exports=o,o.getr=s}).call(this,n(8).Buffer)},function(t,e,n){var i=n(34)(n(25),"Map");t.exports=i},function(t,e,n){var i=n(25).Symbol;t.exports=i},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JUPYTER_WIDGETS_VERSION="1.1.0",e.PROTOCOL_VERSION="2.0.0"},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(33),a=n(393),l=n(157),u=n(13),c=n(394),h=n(11),d=n(26),f=n(92);function p(t,e){var n;return Array.isArray(t)?(n=[],t.forEach(function(t,i){n.push(p(t,e))}),Promise.all(n)):t instanceof Object?(n={},Object.keys(t).forEach(function(i){n[i]=p(t[i],e)}),s.resolvePromisesDict(n)):"string"==typeof t&&"IPY_MODEL_"===t.slice(0,10)?e.get_model(t.slice(10,t.length)):Promise.resolve(t)}e.unpack_models=p;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return{_model_module:"@jupyter-widgets/base",_model_name:"WidgetModel",_model_module_version:f.JUPYTER_WIDGETS_VERSION,_view_module:"@jupyter-widgets/base",_view_name:null,_view_module_version:f.JUPYTER_WIDGETS_VERSION,_view_count:null}},e.prototype.isNew=function(){return!1},e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n),this.widget_manager=n.widget_manager,this.model_id=n.model_id;var i=n.comm;this.views=Object.create(null),this.state_change=Promise.resolve(),this._closed=!1,this._state_lock=null,this._msg_buffer=null,this._msg_buffer_callbacks=null,this._pending_msgs=0,this._buffered_state_diff={},i?(this.comm=i,i.on_close(this._handle_comm_closed.bind(this)),i.on_msg(this._handle_comm_msg.bind(this)),this.comm_live=!0):this.comm_live=!1},Object.defineProperty(e.prototype,"comm_live",{get:function(){return this._comm_live},set:function(t){this._comm_live=t,this.trigger("comm_live_update")},enumerable:!0,configurable:!0}),e.prototype.send=function(t,e,n){if(void 0!==this.comm){var i={method:"custom",content:t};this.comm.send(i,e,{},n)}},e.prototype.close=function(t){var e=this;if(void 0===t&&(t=!1),!this._closed){this._closed=!0,this.comm&&!t&&this.comm.close(),this.stopListening(),this.trigger("destroy",this),this.comm&&delete this.comm;var n=Object.keys(this.views).map(function(t){return e.views[t].then(function(t){return t.remove()})});return delete this.views,Promise.all(n).then(function(){})}},e.prototype._handle_comm_closed=function(t){this.trigger("comm:close"),this.close(!0)},e.prototype._handle_comm_msg=function(t){var e=this;switch(t.content.data.method){case"update":return this.state_change=this.state_change.then(function(){var n=t.content.data.state,i=t.content.data.buffer_paths||[],r=(t.buffers||[]).map(function(t){return t instanceof DataView?t:new DataView(t instanceof ArrayBuffer?t:t.buffer)});return s.put_buffers(n,i,r),e.constructor._deserialize_state(n,e.widget_manager)}).then(function(t){e.set_state(t)}).catch(s.reject("Could not process update msg for model id: "+this.model_id,!0)),this.state_change;case"custom":return this.trigger("msg:custom",t.content.data.content,t.buffers),Promise.resolve()}},e.prototype.set_state=function(t){this._state_lock=t;try{this.set(t)}catch(t){console.error("Error setting state: "+t.message)}finally{this._state_lock=null}},e.prototype.get_state=function(t){var e=this.attributes;if(t){var n=this.defaults,i="function"==typeof n?n.call(this):n,r={};return Object.keys(e).forEach(function(t){s.isEqual(e[t],i[t])||(r[t]=e[t])}),r}return o({},e)},e.prototype._handle_status=function(t){void 0!==this.comm&&"idle"===t.content.execution_state&&(this._pending_msgs--,null!==this._msg_buffer&&this._pending_msgs<1&&(this.send_sync_message(this._msg_buffer,this._msg_buffer_callbacks),this._msg_buffer=null,this._msg_buffer_callbacks=null))},e.prototype.callbacks=function(t){return this.widget_manager.callbacks(t)},e.prototype.set=function(t,e,n){var i=a.set.call(this,t,e,n);if(void 0!==this._buffered_state_diff){var r=this.changedAttributes()||{};if(this._state_lock)for(var o=0,l=Object.keys(this._state_lock);o<l.length;o++){var u=l[o];r[u]===this._state_lock[u]&&delete r[u]}this._buffered_state_diff=s.assign(this._buffered_state_diff,r)}return i},e.prototype.sync=function(t,e,n){if(void 0===n&&(n={}),void 0===this.comm)throw"Syncing error: no comm channel defined";var i="patch"===t?n.attrs:e.get_state(n.drop_defaults);if(this._state_lock)for(var r=0,o=Object.keys(this._state_lock);r<o.length;r++){var a=o[r];i[a]===this._state_lock[a]&&delete i[a]}var l=this.serialize(i);if(Object.keys(l).length>0){var u=n.callbacks||this.callbacks();if(this._pending_msgs>=1){switch(t){case"patch":this._msg_buffer=s.assign(this._msg_buffer||{},l);break;case"update":case"create":this._msg_buffer=l;break;default:throw"unrecognized syncing method"}this._msg_buffer_callbacks=u}else this.send_sync_message(i,u)}},e.prototype.serialize=function(t){for(var e=this.constructor.serializers||{},n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];try{e[r]&&e[r].serialize?t[r]=e[r].serialize(t[r],this):t[r]=JSON.parse(JSON.stringify(t[r])),t[r]&&t[r].toJSON&&(t[r]=t[r].toJSON())}catch(t){throw console.error("Error serializing widget state attribute: ",r),t}}return t},e.prototype.send_sync_message=function(t,e){var n=this;void 0===e&&(e={});try{e.iopub=e.iopub||{};var i=e.iopub.status;e.iopub.status=function(t){n._handle_status(t),i&&i(t)};var r=s.remove_buffers(t);this.comm.send({method:"update",state:r.state,buffer_paths:r.buffer_paths},e,{},r.buffers),this._pending_msgs++}catch(t){console.error("Could not send widget sync message",t)}},e.prototype.save_changes=function(t){if(this.comm_live){var e={patch:!0};t&&(e.callbacks=t),this.save(this._buffered_state_diff,e),this._buffered_state_diff={}}},e.prototype.on_some_change=function(t,e,n){this.on("change",function(){t.some(this.hasChanged,this)&&e.apply(n,arguments)},this)},e.prototype.toJSON=function(t){return"IPY_MODEL_"+this.model_id},e._deserialize_state=function(t,e){var n,i=this.serializers;if(i)for(var r in n={},t)i[r]&&i[r].deserialize?n[r]=i[r].deserialize(t[r],e):n[r]=t[r];else n=t;return s.resolvePromisesDict(n)},e}(l.Model);e.WidgetModel=_;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return s.assign(t.prototype.defaults.call(this),{_dom_classes:[]})},e.serializers=o({},_.serializers,{layout:{deserialize:p},style:{deserialize:p}}),e}(_);e.DOMWidgetModel=g;var m=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.initialize=function(t){var e=this;this.listenTo(this.model,"change",function(){var t=Object.keys(e.model.changedAttributes()||{});"_view_count"===t[0]&&1===t.length||e.update()}),this.options=t.options,this.once("remove",function(){"number"==typeof e.model.get("_view_count")&&(e.model.set("_view_count",e.model.get("_view_count")-1),e.model.save_changes())}),this.once("displayed",function(){"number"==typeof e.model.get("_view_count")&&(e.model.set("_view_count",e.model.get("_view_count")+1),e.model.save_changes())}),this.displayed=new Promise(function(t,n){e.once("displayed",t)})},e.prototype.update=function(t){},e.prototype.render=function(){},e.prototype.create_child_view=function(t,e){void 0===e&&(e={});return e=o({parent:this},e),this.model.widget_manager.create_view(t,e).catch(s.reject("Could not create child view",!0))},e.prototype.callbacks=function(){return this.model.callbacks(this)},e.prototype.send=function(t,e){this.model.send(t,this.callbacks(),e)},e.prototype.touch=function(){this.model.save_changes(this.callbacks())},e.prototype.remove=function(){return t.prototype.remove.call(this),this.trigger("remove"),this},e}(c.NativeView);e.WidgetView=m;var v=function(t){function e(e){var n=this,i=e.view;return delete e.view,(n=t.call(this,e)||this)._view=i,n}return r(e,t),e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._view&&this._view.remove(),this._view=null)},e.prototype.processMessage=function(e){t.prototype.processMessage.call(this,e),this._view.processPhosphorMessage(e)},e}(h.Widget);e.JupyterPhosphorWidget=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(e){var n=this;t.prototype.initialize.call(this,e),this.listenTo(this.model,"change:_dom_classes",function(t,e){var i=t.previous("_dom_classes");n.update_classes(i,e)}),this.layoutPromise=Promise.resolve(),this.listenTo(this.model,"change:layout",function(t,e){n.setLayout(e,t.previous("layout"))}),this.stylePromise=Promise.resolve(),this.listenTo(this.model,"change:style",function(t,e){n.setStyle(e,t.previous("style"))}),this.displayed.then(function(){n.update_classes([],n.model.get("_dom_classes")),n.setLayout(n.model.get("layout")),n.setStyle(n.model.get("style"))}),this._comm_live_update(),this.listenTo(this.model,"comm_live_update",function(){n._comm_live_update()})},e.prototype.setLayout=function(t,e){var n=this;t&&(this.layoutPromise=this.layoutPromise.then(function(e){return e&&(e.unlayout(),n.stopListening(e.model),e.remove()),n.create_child_view(t).then(function(t){return n.displayed.then(function(){return t.trigger("displayed"),n.listenTo(t.model,"change",function(){d.MessageLoop.postMessage(n.pWidget,h.Widget.ResizeMessage.UnknownSize)}),d.MessageLoop.postMessage(n.pWidget,h.Widget.ResizeMessage.UnknownSize),t})}).catch(s.reject("Could not add LayoutView to DOMWidgetView",!0))}))},e.prototype.setStyle=function(t,e){var n=this;t&&(this.stylePromise=this.stylePromise.then(function(e){return e&&(e.unstyle(),n.stopListening(e.model),e.remove()),n.create_child_view(t).then(function(t){return n.displayed.then(function(){return t.trigger("displayed"),t})}).catch(s.reject("Could not add styleView to DOMWidgetView",!0))}))},e.prototype.update_classes=function(t,e,n){void 0===n&&(n=this.el),s.difference(t,e).map(function(t){n.classList?n.classList.remove(t):n.setAttribute("class",n.getAttribute("class").replace(t,""))}),s.difference(e,t).map(function(t){n.classList?n.classList.add(t):n.setAttribute("class",n.getAttribute("class").concat(" ",t))})},e.prototype.update_mapped_classes=function(t,e,n){var i=this.model.previous(e),r=t[i]?t[i]:[],o=t[i=this.model.get(e)]?t[i]:[];this.update_classes(r,o,n||this.el)},e.prototype.set_mapped_classes=function(t,e,n){var i=this.model.get(e),r=t[i]?t[i]:[];this.update_classes([],r,n||this.el)},e.prototype._setElement=function(t){this.pWidget&&this.pWidget.dispose(),this.$el=t instanceof u?t:u(t),this.el=this.$el[0],this.pWidget=new v({node:t,view:this})},e.prototype.remove=function(){return this.pWidget&&this.pWidget.dispose(),t.prototype.remove.call(this)},e.prototype.processPhosphorMessage=function(t){switch(t.type){case"after-attach":this.trigger("displayed")}},e.prototype._comm_live_update=function(){this.model.comm_live?this.pWidget.removeClass("jupyter-widgets-disconnected"):this.pWidget.addClass("jupyter-widgets-disconnected")},e}(m);e.DOMWidgetView=y},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(400)),i(n(401)),i(n(402))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=n(94),o=n(26),s=n(159),a=n(6),l=n(46),u=function(){function t(t){void 0===t&&(t={}),this._disposed=!1,this._parent=null,this._fitPolicy=t.fitPolicy||"set-min-size"}return t.prototype.dispose=function(){this._parent=null,this._disposed=!0,a.Signal.clearData(this),s.AttachedProperty.clearData(this)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){if(this._parent!==t){if(this._parent)throw new Error("Cannot change parent widget.");if(t.layout!==this)throw new Error("Invalid parent widget.");this._parent=t,this.init()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fitPolicy",{get:function(){return this._fitPolicy},set:function(t){if(this._fitPolicy!==t&&(this._fitPolicy=t,this._parent)){var e=this._parent.node.style;e.minWidth="",e.minHeight="",e.maxWidth="",e.maxHeight="",this._parent.fit()}},enumerable:!0,configurable:!0}),t.prototype.processParentMessage=function(t){switch(t.type){case"resize":this.onResize(t);break;case"update-request":this.onUpdateRequest(t);break;case"fit-request":this.onFitRequest(t);break;case"before-show":this.onBeforeShow(t);break;case"after-show":this.onAfterShow(t);break;case"before-hide":this.onBeforeHide(t);break;case"after-hide":this.onAfterHide(t);break;case"before-attach":this.onBeforeAttach(t);break;case"after-attach":this.onAfterAttach(t);break;case"before-detach":this.onBeforeDetach(t);break;case"after-detach":this.onAfterDetach(t);break;case"child-removed":this.onChildRemoved(t);break;case"child-shown":this.onChildShown(t);break;case"child-hidden":this.onChildHidden(t)}},t.prototype.init=function(){var t=this;i.each(this,function(e){e.parent=t.parent})},t.prototype.onResize=function(t){i.each(this,function(t){o.MessageLoop.sendMessage(t,l.Widget.ResizeMessage.UnknownSize)})},t.prototype.onUpdateRequest=function(t){i.each(this,function(t){o.MessageLoop.sendMessage(t,l.Widget.ResizeMessage.UnknownSize)})},t.prototype.onBeforeAttach=function(t){i.each(this,function(e){o.MessageLoop.sendMessage(e,t)})},t.prototype.onAfterAttach=function(t){i.each(this,function(e){o.MessageLoop.sendMessage(e,t)})},t.prototype.onBeforeDetach=function(t){i.each(this,function(e){o.MessageLoop.sendMessage(e,t)})},t.prototype.onAfterDetach=function(t){i.each(this,function(e){o.MessageLoop.sendMessage(e,t)})},t.prototype.onBeforeShow=function(t){i.each(this,function(e){e.isHidden||o.MessageLoop.sendMessage(e,t)})},t.prototype.onAfterShow=function(t){i.each(this,function(e){e.isHidden||o.MessageLoop.sendMessage(e,t)})},t.prototype.onBeforeHide=function(t){i.each(this,function(e){e.isHidden||o.MessageLoop.sendMessage(e,t)})},t.prototype.onAfterHide=function(t){i.each(this,function(e){e.isHidden||o.MessageLoop.sendMessage(e,t)})},t.prototype.onChildRemoved=function(t){this.removeWidget(t.child)},t.prototype.onFitRequest=function(t){},t.prototype.onChildShown=function(t){},t.prototype.onChildHidden=function(t){},t}();e.Layout=u,function(t){t.getHorizontalAlignment=function(t){return c.horizontalAlignmentProperty.get(t)},t.setHorizontalAlignment=function(t,e){c.horizontalAlignmentProperty.set(t,e)},t.getVerticalAlignment=function(t){return c.verticalAlignmentProperty.get(t)},t.setVerticalAlignment=function(t,e){c.verticalAlignmentProperty.set(t,e)}}(u=e.Layout||(e.Layout={})),e.Layout=u;var c,h=function(){function t(t){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=t,this.widget.node.style.position="absolute"}return t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this.widget.node.style;t.position="",t.top="",t.left="",t.width="",t.height=""}},Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.widget.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this.widget.isAttached},enumerable:!0,configurable:!0}),t.prototype.fit=function(){var t=r.ElementExt.sizeLimits(this.widget.node);this._minWidth=t.minWidth,this._minHeight=t.minHeight,this._maxWidth=t.maxWidth,this._maxHeight=t.maxHeight},t.prototype.update=function(t,e,n,i){var r=Math.max(this._minWidth,Math.min(n,this._maxWidth)),s=Math.max(this._minHeight,Math.min(i,this._maxHeight));if(r<n)switch(u.getHorizontalAlignment(this.widget)){case"left":break;case"center":t+=(n-r)/2;break;case"right":t+=n-r;break;default:throw"unreachable"}if(s<i)switch(u.getVerticalAlignment(this.widget)){case"top":break;case"center":e+=(i-s)/2;break;case"bottom":e+=i-s;break;default:throw"unreachable"}var a=!1,c=this.widget.node.style;if(this._top!==e&&(this._top=e,c.top=e+"px"),this._left!==t&&(this._left=t,c.left=t+"px"),this._width!==r&&(a=!0,this._width=r,c.width=r+"px"),this._height!==s&&(a=!0,this._height=s,c.height=s+"px"),a){var h=new l.Widget.ResizeMessage(r,s);o.MessageLoop.sendMessage(this.widget,h)}},t}();e.LayoutItem=h,function(t){function e(t){t.parent&&t.parent.layout&&t.parent.update()}t.horizontalAlignmentProperty=new s.AttachedProperty({name:"horizontalAlignment",create:function(){return"center"},changed:e}),t.verticalAlignmentProperty=new s.AttachedProperty({name:"verticalAlignment",create:function(){return"top"},changed:e})}(c||(c={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(6),o=function(){function t(t){if(void 0===t&&(t={}),this._map=new Map,this._changed=new r.Signal(this),this._isDisposed=!1,this._itemCmp=t.itemCmp||i.itemCmp,t.values)for(var e in t.values)this._map.set(e,t.values[e])}return Object.defineProperty(t.prototype,"type",{get:function(){return"Map"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e){var n=this._map.get(t);if(void 0===e)throw Error("Cannot set an undefined value, use remove");var i=this._itemCmp;return void 0!==n&&i(n,e)?n:(this._map.set(t,e),this._changed.emit({type:n?"change":"add",key:t,oldValue:n,newValue:e}),n)},t.prototype.get=function(t){return this._map.get(t)},t.prototype.has=function(t){return this._map.has(t)},t.prototype.keys=function(){var t=[];return this._map.forEach(function(e,n){t.push(n)}),t},t.prototype.values=function(){var t=[];return this._map.forEach(function(e,n){t.push(e)}),t},t.prototype.delete=function(t){var e=this._map.get(t);return this._map.delete(t),this._changed.emit({type:"remove",key:t,oldValue:e,newValue:void 0}),e},t.prototype.clear=function(){for(var t=this.keys(),e=0;e<t.length;e++)this.delete(t[e])},t.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,r.Signal.clearData(this),this._map.clear())},t}();e.ObservableMap=o,function(t){t.itemCmp=function(t,e){return t===e}}(i||(i={}))},function(t,e,n){var i=n(1),r=n(64).Scale.extend({render:function(){this.scale=i.scale.linear(),this.model.domain.length>0&&this.scale.domain(this.model.domain),this.offset=0,this.create_event_listeners()},expand_domain:function(t,e){var n=this.scale.copy();n.clamp(!1),n.domain(this.model.domain),n.range(t),this.scale.domain(e.map(function(t){return n.invert(t)}))},invert:function(t){return this.scale.invert(t)},invert_range:function(t){var e=this;return t.map(function(t){return e.invert(t)})}});t.exports={LinearScale:r}},function(t,e,n){var i=n(1),r=Math.PI,o=r/180,s=Math.sqrt(3),a=Math.tan(r/6),l=function(t){var e=Math.sqrt(t/r);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"},u=i.map({circle:l,cross:function(t,e){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t,e){var n=Math.sqrt(t/(2*a)),i=n*a;return"M0,"+-n+"L"+i+",0 0,"+n+" "+-i+",0Z"},square:function(t,e){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t,e){var n=Math.sqrt(t/s),i=n*s/2;return"M0,"+i+"L"+n+","+-i+" "+-n+","+-i+"Z"},"triangle-up":function(t,e){var n=Math.sqrt(t/s),i=n*s/2;return"M0,"+-i+"L"+n+","+i+" "+-n+","+i+"Z"},arrow:function(t,e){var n=60+-55*e,i=Math.tan(n*o),r=Math.sqrt(t/i),s=r*i/2;return"M0,"+-r+"L"+s+","+r+" "+-s+","+r+"Z"},ellipse:function(t,e){var n=Math.pow(10,e),i=Math.sqrt(t/(r*n)),o=i*n;return"M0,"+o+"A"+i+","+o+" 0 1,1 0,"+-o+"A"+i+","+o+" 0 1,1 0,"+o+"Z"},rectangle:function(t,e){var n=Math.pow(10,e),i=Math.sqrt(t/n)/2,r=i*n;return"M"+-i+","+-r+"L"+i+","+-r+" "+i+","+r+" "+-i+","+r+"Z"}});function c(){return 64}function h(){return"circle"}function d(){return.5}t.exports={symbol:function(){var t=h,e=c;function n(n,i){return(u.get(t.call(this,n,i))||l)(e.call(this,n,i),skew.call(this,n,i))}return skew=d,n.type=function(e){return arguments.length?(t=i.functor(e),n):t},n.size=function(t){return arguments.length?(e=i.functor(t),n):e},n.skew=function(t){return arguments.length?(skew=i.functor(t),n):skew},n},types:u.keys()}},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(20)),i(n(62)),i(n(424)),i(n(425)),i(n(426)),i(n(162)),i(n(427)),i(n(428)),i(n(429)),i(n(430)),i(n(431)),i(n(163)),i(n(436)),i(n(437)),i(n(438)),i(n(439)),i(n(443)),i(n(29)),e.version=n(444).version},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(193);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(21).document;t.exports=i&&i.documentElement},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(70),r=n(21),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(106)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(207),r=n(110);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(71).f,r=n(52),o=n(35)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e;t.getRandomValues=(e="undefined"!=typeof window&&(window.crypto||window.msCrypto)||n(240)||null)&&"function"==typeof e.getRandomValues?function(t){return e.getRandomValues(t)}:e&&"function"==typeof e.randomFillSync?function(t){return e.randomFillSync(t)}:e&&"function"==typeof e.randomBytes?function(t){for(var n=e.randomBytes(t.length),i=0,r=n.length;i<r;++i)t[i]=n[i]}:function(t){for(var e=0,n=0,i=t.length;n<i;++n)n%4==0&&(e=4294967295*Math.random()>>>0),t[n]=255&e,e>>>=8}}(e.Random||(e.Random={}))},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=u(t),i=n[0],s=n[1],a=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,s)),l=0,c=s>0?i-4:i,h=0;h<c;h+=4)e=r[t.charCodeAt(h)]<<18|r[t.charCodeAt(h+1)]<<12|r[t.charCodeAt(h+2)]<<6|r[t.charCodeAt(h+3)],a[l++]=e>>16&255,a[l++]=e>>8&255,a[l++]=255&e;2===s&&(e=r[t.charCodeAt(h)]<<2|r[t.charCodeAt(h+1)]>>4,a[l++]=255&e);1===s&&(e=r[t.charCodeAt(h)]<<10|r[t.charCodeAt(h+1)]<<4|r[t.charCodeAt(h+2)]>>2,a[l++]=e>>8&255,a[l++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(c(t,s,s+16383>a?a:s+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var r,o,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e,n){"use strict";var i=n(3).Buffer,r=n(81).Transform;function o(t){r.call(this),this._block=i.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(4)(o,r),o.prototype._transform=function(t,e,n){var i=null;try{this.update(t,e)}catch(t){i=t}n(i)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!i.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(t)||(t=i.from(t,e));for(var n=this._block,r=0;this._blockOffset+t.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=t[r++];this._update(),this._blockOffset=0}for(;r<t.length;)n[this._blockOffset++]=t[r++];for(var s=0,a=8*t.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},function(t,e,n){var i=n(4),r=n(32),o=n(3).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function l(){this.init(),this._w=a,r.call(this,64,56)}function u(t,e,n){return n^t&(e^n)}function c(t,e,n){return t&e|n&(t|e)}function h(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function d(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function f(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}i(l,r),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,a=0|this._d,l=0|this._e,p=0|this._f,_=0|this._g,g=0|this._h,m=0;m<16;++m)n[m]=t.readInt32BE(4*m);for(;m<64;++m)n[m]=0|(((e=n[m-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[m-7]+f(n[m-15])+n[m-16];for(var v=0;v<64;++v){var y=g+d(l)+u(l,p,_)+s[v]+n[v]|0,b=h(i)+c(i,r,o)|0;g=_,_=p,p=l,l=a+y|0,a=o,o=r,r=i,i=y+b|0}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=l+this._e|0,this._f=p+this._f|0,this._g=_+this._g|0,this._h=g+this._h|0},l.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=l},function(t,e,n){var i=n(4),r=n(32),o=n(3).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function l(){this.init(),this._w=a,r.call(this,128,112)}function u(t,e,n){return n^t&(e^n)}function c(t,e,n){return t&e|n&(t|e)}function h(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function d(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function f(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function _(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function m(t,e){return t>>>0<e>>>0?1:0}i(l,r),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(t){for(var e=this._w,n=0|this._ah,i=0|this._bh,r=0|this._ch,o=0|this._dh,a=0|this._eh,l=0|this._fh,v=0|this._gh,y=0|this._hh,b=0|this._al,w=0|this._bl,x=0|this._cl,k=0|this._dl,M=0|this._el,E=0|this._fl,j=0|this._gl,S=0|this._hl,C=0;C<32;C+=2)e[C]=t.readInt32BE(4*C),e[C+1]=t.readInt32BE(4*C+4);for(;C<160;C+=2){var A=e[C-30],O=e[C-30+1],T=f(A,O),P=p(O,A),D=_(A=e[C-4],O=e[C-4+1]),L=g(O,A),R=e[C-14],I=e[C-14+1],B=e[C-32],N=e[C-32+1],z=P+I|0,F=T+R+m(z,P)|0;F=(F=F+D+m(z=z+L|0,L)|0)+B+m(z=z+N|0,N)|0,e[C]=F,e[C+1]=z}for(var q=0;q<160;q+=2){F=e[q],z=e[q+1];var U=c(n,i,r),H=c(b,w,x),W=h(n,b),V=h(b,n),K=d(a,M),$=d(M,a),G=s[q],Y=s[q+1],J=u(a,l,v),X=u(M,E,j),Z=S+$|0,Q=y+K+m(Z,S)|0;Q=(Q=(Q=Q+J+m(Z=Z+X|0,X)|0)+G+m(Z=Z+Y|0,Y)|0)+F+m(Z=Z+z|0,z)|0;var tt=V+H|0,et=W+U+m(tt,V)|0;y=v,S=j,v=l,j=E,l=a,E=M,a=o+Q+m(M=k+Z|0,k)|0,o=r,k=x,r=i,x=w,i=n,w=b,n=Q+et+m(b=Z+tt|0,Z)|0}this._al=this._al+b|0,this._bl=this._bl+w|0,this._cl=this._cl+x|0,this._dl=this._dl+k|0,this._el=this._el+M|0,this._fl=this._fl+E|0,this._gl=this._gl+j|0,this._hl=this._hl+S|0,this._ah=this._ah+n+m(this._al,b)|0,this._bh=this._bh+i+m(this._bl,w)|0,this._ch=this._ch+r+m(this._cl,x)|0,this._dh=this._dh+o+m(this._dl,k)|0,this._eh=this._eh+a+m(this._el,M)|0,this._fh=this._fh+l+m(this._fl,E)|0,this._gh=this._gh+v+m(this._gl,j)|0,this._hh=this._hh+y+m(this._hl,S)|0},l.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,n,i){t.writeInt32BE(e,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=l},function(t,e,n){"use strict";var i=n(4),r=n(249),o=n(28),s=n(3).Buffer,a=n(118),l=n(82),u=n(83),c=s.alloc(128);function h(t,e){o.call(this,"digest"),"string"==typeof e&&(e=s.from(e));var n="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>n)?e=("rmd160"===t?new l:u(t)).update(e).digest():e.length<n&&(e=s.concat([e,c],n));for(var i=this._ipad=s.allocUnsafe(n),r=this._opad=s.allocUnsafe(n),a=0;a<n;a++)i[a]=54^e[a],r[a]=92^e[a];this._hash="rmd160"===t?new l:u(t),this._hash.update(i)}i(h,o),h.prototype._update=function(t){this._hash.update(t)},h.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new l:u(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new h("rmd160",e):"md5"===t?new r(a,e):new h(t,e)}},function(t,e,n){var i=n(80);t.exports=function(t){return(new i).update(t).digest()}},function(t){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(t,e,n){e.pbkdf2=n(251),e.pbkdf2Sync=n(123)},function(t,e,n){(function(e){var n=Math.pow(2,30)-1;function i(t,n){if("string"!=typeof t&&!e.isBuffer(t))throw new TypeError(n+" must be a buffer or string")}t.exports=function(t,e,r,o){if(i(t,"Password"),i(e,"Salt"),"number"!=typeof r)throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0||o>n||o!=o)throw new TypeError("Bad key length")}}).call(this,n(8).Buffer)},function(t,e,n){(function(e){var n;e.browser?n="utf-8":n=parseInt(e.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";t.exports=n}).call(this,n(24))},function(t,e,n){var i=n(118),r=n(82),o=n(83),s=n(121),a=n(122),l=n(3).Buffer,u=l.alloc(128),c={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(t,e,n){var s=function(t){return"rmd160"===t||"ripemd160"===t?function(t){return(new r).update(t).digest()}:"md5"===t?i:function(e){return o(t).update(e).digest()}}(t),a="sha512"===t||"sha384"===t?128:64;e.length>a?e=s(e):e.length<a&&(e=l.concat([e,u],a));for(var h=l.allocUnsafe(a+c[t]),d=l.allocUnsafe(a+c[t]),f=0;f<a;f++)h[f]=54^e[f],d[f]=92^e[f];var p=l.allocUnsafe(a+n+4);h.copy(p,0,0,a),this.ipad1=p,this.ipad2=h,this.opad=d,this.alg=t,this.blocksize=a,this.hash=s,this.size=c[t]}h.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,n,i,r){s(t,e,n,i),l.isBuffer(t)||(t=l.from(t,a)),l.isBuffer(e)||(e=l.from(e,a));var o=new h(r=r||"sha1",t,e.length),u=l.allocUnsafe(i),d=l.allocUnsafe(e.length+4);e.copy(d,0,0,e.length);for(var f=0,p=c[r],_=Math.ceil(i/p),g=1;g<=_;g++){d.writeUInt32BE(g,e.length);for(var m=o.run(d,o.ipad1),v=m,y=1;y<n;y++){v=o.run(v,o.ipad2);for(var b=0;b<p;b++)m[b]^=v[b]}m.copy(u,f),f+=p}return u}},function(t,e,n){var i=n(39),r=n(3).Buffer,o=n(125);function s(t){var e=t._cipher.encryptBlockRaw(t._prev);return o(t._prev),e}e.encrypt=function(t,e){var n=Math.ceil(e.length/16),o=t._cache.length;t._cache=r.concat([t._cache,r.allocUnsafe(16*n)]);for(var a=0;a<n;a++){var l=s(t),u=o+16*a;t._cache.writeUInt32BE(l[0],u+0),t._cache.writeUInt32BE(l[1],u+4),t._cache.writeUInt32BE(l[2],u+8),t._cache.writeUInt32BE(l[3],u+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),i(e,c)}},function(t,e){t.exports=function(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}}},function(t){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(t,e,n){var i=n(54),r=n(3).Buffer,o=n(28),s=n(4),a=n(266),l=n(39),u=n(125);function c(t,e,n,s){o.call(this);var l=r.alloc(4,0);this._cipher=new i.AES(e);var c=this._cipher.encryptBlock(l);this._ghash=new a(c),n=function(t,e,n){if(12===e.length)return t._finID=r.concat([e,r.from([0,0,0,1])]),r.concat([e,r.from([0,0,0,2])]);var i=new a(n),o=e.length,s=o%16;i.update(e),s&&(s=16-s,i.update(r.alloc(s,0))),i.update(r.alloc(8,0));var l=8*o,c=r.alloc(8);c.writeUIntBE(l,0,8),i.update(c),t._finID=i.state;var h=r.from(t._finID);return u(h),h}(this,n,c),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}s(c,o),c.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=r.alloc(e,0),this._ghash.update(e))}this._called=!0;var n=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(n),this._len+=t.length,n},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var n=0;t.length!==e.length&&n++;for(var i=Math.min(t.length,e.length),r=0;r<i;++r)n+=t[r]^e[r];return n}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},c.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=c},function(t,e,n){var i=n(54),r=n(3).Buffer,o=n(28);function s(t,e,n,s){o.call(this),this._cipher=new i.AES(e),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=s,this._mode=t}n(4)(s,o),s.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},t.exports=s},function(t,e,n){var i=n(31);t.exports=v,v.simpleSieve=g,v.fermatTest=m;var r=n(5),o=new r(24),s=new(n(130)),a=new r(1),l=new r(2),u=new r(5),c=(new r(16),new r(8),new r(10)),h=new r(3),d=(new r(7),new r(11)),f=new r(4),p=(new r(12),null);function _(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,n=3;n<1048576;n+=2){for(var i=Math.ceil(Math.sqrt(n)),r=0;r<e&&t[r]<=i&&n%t[r]!=0;r++);e!==r&&t[r]<=i||(t[e++]=n)}return p=t,t}function g(t){for(var e=_(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function m(t){var e=r.mont(t);return 0===l.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function v(t,e){if(t<16)return new r(2===e||5===e?[140,123]:[140,39]);var n,p;for(e=new r(e);;){for(n=new r(i(Math.ceil(t/8)));n.bitLength()>t;)n.ishrn(1);if(n.isEven()&&n.iadd(a),n.testn(1)||n.iadd(l),e.cmp(l)){if(!e.cmp(u))for(;n.mod(c).cmp(h);)n.iadd(f)}else for(;n.mod(o).cmp(d);)n.iadd(f);if(g(p=n.shrn(1))&&g(n)&&m(p)&&m(n)&&s.test(p)&&s.test(n))return n}}},function(t,e,n){var i=n(5),r=n(270);function o(t){this.rand=t||new r.Rand}t.exports=o,o.create=function(t){return new o(t)},o.prototype._randbelow=function(t){var e=t.bitLength(),n=Math.ceil(e/8);do{var r=new i(this.rand.generate(n))}while(r.cmp(t)>=0);return r},o.prototype._randrange=function(t,e){var n=e.sub(t);return t.add(this._randbelow(n))},o.prototype.test=function(t,e,n){var r=t.bitLength(),o=i.mont(t),s=new i(1).toRed(o);e||(e=Math.max(1,r/48|0));for(var a=t.subn(1),l=0;!a.testn(l);l++);for(var u=t.shrn(l),c=a.toRed(o);e>0;e--){var h=this._randrange(new i(2),a);n&&n(h);var d=h.toRed(o).redPow(u);if(0!==d.cmp(s)&&0!==d.cmp(c)){for(var f=1;f<l;f++){if(0===(d=d.redSqr()).cmp(s))return!1;if(0===d.cmp(c))break}if(f===l)return!1}}return!0},o.prototype.getDivisor=function(t,e){var n=t.bitLength(),r=i.mont(t),o=new i(1).toRed(r);e||(e=Math.max(1,n/48|0));for(var s=t.subn(1),a=0;!s.testn(a);a++);for(var l=t.shrn(a),u=s.toRed(r);e>0;e--){var c=this._randrange(new i(2),s),h=t.gcd(c);if(0!==h.cmpn(1))return h;var d=c.toRed(r).redPow(l);if(0!==d.cmp(o)&&0!==d.cmp(u)){for(var f=1;f<a;f++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(t);if(0===d.cmp(u))break}if(f===a)return(d=d.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},function(t,e,n){var i=n(4),r=n(41).Reporter,o=n(8).Buffer;function s(t,e){r.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}i(s,r),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},s.prototype.restore=function(t){var e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,r.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var n=new s(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(t,e),e+=n.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,n){var i=e;i._reverse=function(t){var e={};return Object.keys(t).forEach(function(n){(0|n)==n&&(n|=0);var i=t[n];e[i]=n}),e},i.der=n(282)},function(t,e,n){var i=n(4),r=n(40),o=r.base,s=r.bignum,a=r.constants.der;function l(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){o.Node.call(this,"der",t)}function c(t,e){var n=t.readUInt8(e);if(t.isError(n))return n;var i=a.tagClass[n>>6],r=0==(32&n);if(31==(31&n)){var o=n;for(n=0;128==(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:i,primitive:r,tag:n,tagStr:a.tag[n]}}function h(t,e,n){var i=t.readUInt8(n);if(t.isError(i))return i;if(!e&&128===i)return null;if(0==(128&i))return i;var r=127&i;if(r>4)return t.error("length octect is too long");i=0;for(var o=0;o<r;o++){i<<=8;var s=t.readUInt8(n);if(t.isError(s))return s;i|=s}return i}t.exports=l,l.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},i(u,o.Node),u.prototype._peekTag=function(t,e,n){if(t.isEmpty())return!1;var i=t.save(),r=c(t,'Failed to peek tag: "'+e+'"');return t.isError(r)?r:(t.restore(i),r.tag===e||r.tagStr===e||r.tagStr+"of"===e||n)},u.prototype._decodeTag=function(t,e,n){var i=c(t,'Failed to decode tag of "'+e+'"');if(t.isError(i))return i;var r=h(t,i.primitive,'Failed to get length of "'+e+'"');if(t.isError(r))return r;if(!n&&i.tag!==e&&i.tagStr!==e&&i.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(i.primitive||null!==r)return t.skip(r,'Failed to match body of: "'+e+'"');var o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(s)?s:(r=t.offset-o.offset,t.restore(o),t.skip(r,'Failed to match body of: "'+e+'"'))},u.prototype._skipUntilEnd=function(t,e){for(;;){var n=c(t,e);if(t.isError(n))return n;var i,r=h(t,n.primitive,e);if(t.isError(r))return r;if(i=n.primitive||null!==r?t.skip(r):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===n.tagStr)break}},u.prototype._decodeList=function(t,e,n,i){for(var r=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var s=n.decode(t,"der",i);if(t.isError(s)&&o)break;r.push(s)}return r},u.prototype._decodeStr=function(t,e){if("bitstr"===e){var n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}if("bmpstr"===e){var i=t.raw();if(i.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");for(var r="",o=0;o<i.length/2;o++)r+=String.fromCharCode(i.readUInt16BE(2*o));return r}if("numstr"===e){var s=t.raw().toString("ascii");return this._isNumstr(s)?s:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var a=t.raw().toString("ascii");return this._isPrintstr(a)?a:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},u.prototype._decodeObjid=function(t,e,n){for(var i,r=[],o=0;!t.isEmpty();){var s=t.readUInt8();o<<=7,o|=127&s,0==(128&s)&&(r.push(o),o=0)}128&s&&r.push(o);var a=r[0]/40|0,l=r[0]%40;if(i=n?r:[a,l].concat(r.slice(1)),e){var u=e[i.join(" ")];void 0===u&&(u=e[i.join(".")]),void 0!==u&&(i=u)}return i},u.prototype._decodeTime=function(t,e){var n=t.raw().toString();if("gentime"===e)var i=0|n.slice(0,4),r=0|n.slice(4,6),o=0|n.slice(6,8),s=0|n.slice(8,10),a=0|n.slice(10,12),l=0|n.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");i=0|n.slice(0,2),r=0|n.slice(2,4),o=0|n.slice(4,6),s=0|n.slice(6,8),a=0|n.slice(8,10),l=0|n.slice(10,12);i=i<70?2e3+i:1900+i}return Date.UTC(i,r-1,o,s,a,l,0)},u.prototype._decodeNull=function(t){return null},u.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},u.prototype._decodeInt=function(t,e){var n=t.raw(),i=new s(n);return e&&(i=e[i.toString(10)]||i),i},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},function(t,e,n){var i=n(4),r=n(8).Buffer,o=n(40),s=o.base,a=o.constants.der;function l(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){s.Node.call(this,"der",t)}function c(t){return t<10?"0"+t:t}t.exports=l,l.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},i(u,s.Node),u.prototype._encodeComposite=function(t,e,n,i){var o,s=function(t,e,n,i){var r;"seqof"===t?t="seq":"setof"===t&&(t="set");if(a.tagByName.hasOwnProperty(t))r=a.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return i.error("Unknown tag: "+t);r=t}if(r>=31)return i.error("Multi-octet tag encoding unsupported");e||(r|=32);return r|=a.tagClassByName[n||"universal"]<<6}(t,e,n,this.reporter);if(i.length<128)return(o=new r(2))[0]=s,o[1]=i.length,this._createEncoderBuffer([o,i]);for(var l=1,u=i.length;u>=256;u>>=8)l++;(o=new r(2+l))[0]=s,o[1]=128|l;u=1+l;for(var c=i.length;c>0;u--,c>>=8)o[u]=255&c;return this._createEncoderBuffer([o,i])},u.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var n=new r(2*t.length),i=0;i<t.length;i++)n.writeUInt16BE(t.charCodeAt(i),2*i);return this._createEncoderBuffer(n)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)?this._createEncoderBuffer(t):"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},u.prototype._encodeObjid=function(t,e,n){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s\.]+/g);for(var i=0;i<t.length;i++)t[i]|=0}else if(Array.isArray(t)){t=t.slice();for(i=0;i<t.length;i++)t[i]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}var o=0;for(i=0;i<t.length;i++){var s=t[i];for(o++;s>=128;s>>=7)o++}var a=new r(o),l=a.length-1;for(i=t.length-1;i>=0;i--){s=t[i];for(a[l--]=127&s;(s>>=7)>0;)a[l--]=128|127&s}return this._createEncoderBuffer(a)},u.prototype._encodeTime=function(t,e){var n,i=new Date(t);return"gentime"===e?n=[c(i.getFullYear()),c(i.getUTCMonth()+1),c(i.getUTCDate()),c(i.getUTCHours()),c(i.getUTCMinutes()),c(i.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[c(i.getFullYear()%100),c(i.getUTCMonth()+1),c(i.getUTCDate()),c(i.getUTCHours()),c(i.getUTCMinutes()),c(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!r.isBuffer(t)){var n=t.toArray();!t.sign&&128&n[0]&&n.unshift(0),t=new r(n)}if(r.isBuffer(t)){var i=t.length;0===t.length&&i++;var o=new r(i);return t.copy(o),0===t.length&&(o[0]=0),this._createEncoderBuffer(o)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);i=1;for(var s=t;s>=256;s>>=8)i++;for(s=(o=new Array(i)).length-1;s>=0;s--)o[s]=255&t,t>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new r(o))},u.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},u.prototype._skipDefault=function(t,e,n){var i,r=this._baseState;if(null===r.default)return!1;var o=t.join();if(void 0===r.defaultBuffer&&(r.defaultBuffer=this._encodeValue(r.default,e,n).join()),o.length!==r.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==r.defaultBuffer[i])return!1;return!0}},function(t){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(t,e,n){var i=n(37),r=n(3).Buffer;function o(t){var e=r.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var n,s=r.alloc(0),a=0;s.length<e;)n=o(a++),s=r.concat([s,i("sha1").update(t).update(n).digest()]);return s.slice(0,e)}},function(t,e){t.exports=function(t,e){for(var n=t.length,i=-1;++i<n;)t[i]^=e[i];return t}},function(t,e,n){var i=n(5),r=n(3).Buffer;t.exports=function(t,e){return r.from(t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed().toArray())}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(300);!function(t){function e(t){if("undefined"!=typeof document){var e=document.createElement("a");return e.href=t,e}return i(t)}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=[].slice.call(t,0).join("/");return n=(n=(n=(n=n.replace(/:\//g,"://")).replace(/([^:\s])\/+/g,"$1/")).replace(/\/(\?|&|#[^!])/g,"$1")).replace(/(\?.+)\?/g,"$1&")}t.parse=e,t.join=n,t.encodeParts=function(t){return n.apply(void 0,t.split("/").map(encodeURIComponent))},t.objectToQueryString=function(t){var e=Object.keys(t);return e.length?"?"+e.map(function(e){var n=encodeURIComponent(String(t[e]));return e+(n?"="+n:"")}).join("&"):""},t.queryStringToObject=function(t){return t.replace(/^\?/,"").split("&").reduce(function(t,e){var n=e.split("="),i=n[0],r=n[1];return t[i]=decodeURIComponent(r||""),t},{})},t.isLocal=function(t){var n=e(t).protocol;return 0!==t.toLowerCase().indexOf(n)&&0!==t.indexOf("//")}}(e.URLExt||(e.URLExt={}))},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(314);!function(t){t.findById=function(t,e){return i.DefaultKernel.findById(t,e)},t.getSpecs=function(t){return i.DefaultKernel.getSpecs(t)},t.listRunning=function(t){return i.DefaultKernel.listRunning(t)},t.startNew=function(t){return void 0===t&&(t={}),i.DefaultKernel.startNew(t)},t.connectTo=function(t,e){return i.DefaultKernel.connectTo(t,e)},t.shutdown=function(t,e){return i.DefaultKernel.shutdown(t,e)},t.shutdownAll=function(t){return i.DefaultKernel.shutdownAll(t)}}(e.Kernel||(e.Kernel={}))},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(19),o=n(43),s="api/settings",a=function(){function t(t){void 0===t&&(t={}),this.serverSettings=t.serverSettings||o.ServerConnection.makeSettings()}return t.prototype.fetch=function(t){var e=this.serverSettings,n=e.baseUrl+e.pageUrl,r=i.url(n,t);return o.ServerConnection.makeRequest(r,{},e).then(function(t){if(200!==t.status)throw new o.ServerConnection.ResponseError(t);return t.json()})},t.prototype.save=function(t,e){var n=this.serverSettings,r=n.baseUrl+n.pageUrl,s=i.url(r,t),a={body:e,method:"PUT"};return o.ServerConnection.makeRequest(s,a,n).then(function(t){if(204!==t.status)throw new o.ServerConnection.ResponseError(t)})},t}();e.SettingManager=a,function(t){t.url=function(t,e){return r.URLExt.join(t,s,e)}}(i||(i={}))},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(19),o=n(43),s="api/workspaces",a=function(){function t(t){void 0===t&&(t={}),this.serverSettings=t.serverSettings||o.ServerConnection.makeSettings()}return t.prototype.fetch=function(t){var e=this.serverSettings,n=e.baseUrl+e.pageUrl,r=i.url(n,t);return o.ServerConnection.makeRequest(r,{},e).then(function(t){if(200!==t.status)throw new o.ServerConnection.ResponseError(t);return t.json()})},t.prototype.save=function(t,e){var n=this.serverSettings,r=n.baseUrl+n.pageUrl,s=i.url(r,t),a={body:JSON.stringify(e),method:"PUT"};return o.ServerConnection.makeRequest(s,a,n).then(function(t){if(204!==t.status)throw new o.ServerConnection.ResponseError(t)})},t}();e.WorkspaceManager=a,function(t){t.url=function(t,e){return r.URLExt.join(t,s,e)}}(i||(i={}))},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var i=n(44),r=n(149),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";t.exports=function(t){if(!r(t))return!1;var e=i(t);return e==s||e==a||e==o||e==l}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(10))},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var i=n(344),r=n(351),o=n(353),s=n(354),a=n(355);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},function(t,e,n){var i=n(356),r=n(359),o=n(360),s=1,a=2;t.exports=function(t,e,n,l,u,c){var h=n&s,d=t.length,f=e.length;if(d!=f&&!(h&&f>d))return!1;var p=c.get(t);if(p&&c.get(e))return p==e;var _=-1,g=!0,m=n&a?new i:void 0;for(c.set(t,e),c.set(e,t);++_<d;){var v=t[_],y=e[_];if(l)var b=h?l(y,v,_,e,t,c):l(v,y,_,t,e,c);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!r(e,function(t,e){if(!o(m,e)&&(v===t||u(v,t,n,l,c)))return m.push(e)})){g=!1;break}}else if(v!==y&&!u(v,y,n,l,c)){g=!1;break}}return c.delete(t),c.delete(e),g}},function(t,e,n){(function(t){var i=n(25),r=n(377),o=e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?i.Buffer:void 0,l=(a?a.isBuffer:void 0)||r;t.exports=l}).call(this,n(91)(t))},function(t,e,n){var i=n(379),r=n(380),o=n(381),s=o&&o.isTypedArray,a=s?r(s):i;t.exports=a},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){(function(i){var r,o,s;s="object"==typeof self&&self.self==self&&self||"object"==typeof i&&i.global==i&&i,r=[n(0),n(13),e],void 0===(o=function(t,e,n){s.Backbone=function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.2.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,i){n.each(e,function(e,r){n[r]&&(t.prototype[r]=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],a(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],a(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}}(e,r,i))})},a=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?l(t):n.isString(t)?function(e){return e.get(t)}:t},l=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},u=e.Events={},c=/\s+/,h=function(t,e,i,r,o){var s,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(s=n.keys(i);a<s.length;a++)e=h(t,e,s[a],i[s[a]],o)}else if(i&&c.test(i))for(s=i.split(c);a<s.length;a++)e=t(e,s[a],r,o);else e=t(e,i,r,o);return e};u.on=function(t,e,n){return d(this,t,e,n)};var d=function(t,e,n,i,r){if(t._events=h(f,t._events||{},e,n,{context:i,ctx:t,listening:r}),r){var o=t._listeners||(t._listeners={});o[r.id]=r}return t};u.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[r];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[r]={obj:t,objId:r,id:a,listeningTo:o,count:0}}return d(t,e,i,this,s),this};var f=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return t};u.off=function(t,e,n){return this._events?(this._events=h(p,this._events,t,e,{context:n,listeners:this._listeners}),this):this},u.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(e,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var p=function(t,e,i,r){if(t){var o,s=0,a=r.context,l=r.listeners;if(e||i||a){for(var u=e?[e]:n.keys(t);s<u.length;s++){e=u[s];var c=t[e];if(!c)break;for(var h=[],d=0;d<c.length;d++){var f=c[d];i&&i!==f.callback&&i!==f.callback._callback||a&&a!==f.context?h.push(f):(o=f.listening)&&0==--o.count&&(delete l[o.id],delete o.listeningTo[o.objId])}h.length?t[e]=h:delete t[e]}return n.size(t)?t:void 0}for(var p=n.keys(l);s<p.length;s++)o=l[p[s]],delete l[o.id],delete o.listeningTo[o.objId]}};u.once=function(t,e,i){var r=h(_,{},t,e,n.bind(this.off,this));return this.on(r,void 0,i)},u.listenToOnce=function(t,e,i){var r=h(_,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var _=function(t,e,i,r){if(i){var o=t[e]=n.once(function(){r(e,o),i.apply(this,arguments)});o._callback=i}return t};u.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return h(g,this._events,t,void 0,n),this};var g=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&m(r,i),o&&m(o,[e].concat(i))}return t},m=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};u.bind=u.on,u.unbind=u.off,n.extend(e,u);var v=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(v.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,s=i.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,h=this._previousAttributes;for(var d in r)e=r[d],n.isEqual(u[d],e)||a.push(d),n.isEqual(h[d],e)?delete c[d]:c[d]=e,o?delete u[d]:u[d]=e;if(this.id=this.get(this.idAttribute),!s){a.length&&(this._pending=i);for(var f=0;f<a.length;f++)this.trigger("change:"+a[f],this,u[a[f]],i)}if(l)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;if(!e.set(r,t))return!1;i&&i.call(t.context,e,n,t),e.trigger("sync",e,n,t)},B(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e;var o=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var s=this,a=i.success,l=this.attributes;i.success=function(t){s.attributes=l;var e=i.parse?s.parse(t,i):t;if(o&&(e=n.extend({},r,e)),e&&!s.set(e,i))return!1;a&&a.call(i.context,s,t,i),s.trigger("sync",s,t,i)},B(this,i),r&&o&&(this.attributes=n.extend({},l,r));var u=this.isNew()?"create":i.patch?"patch":"update";"patch"!==u||i.attrs||(i.attrs=r);var c=this.sync(u,this,i);return this.attributes=l,c},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(B(this,t),s=this.sync("delete",this,t)),r||o(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||I();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}}),s(v,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var y=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},x=function(t,e,n){n=Math.min(Math.max(n,0),t.length);for(var i=Array(t.length-n),r=e.length,o=0;o<i.length;o++)i[o]=t[o+n];for(o=0;o<r;o++)t[o+n]=e[o];for(o=0;o<i.length;o++)t[o+r+n]=i[o]};n.extend(y.prototype,u,{model:v,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:n.clone(t);var r=this._removeModels(t,e);return!e.silent&&r&&this.trigger("update",this,e),i?r[0]:r},set:function(t,e){if(null!=t){(e=n.defaults({},e,b)).parse&&!this._isModel(t)&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var o,s=[],a=[],l=[],u={},c=e.add,h=e.merge,d=e.remove,f=!1,p=this.comparator&&null==r&&!1!==e.sort,_=n.isString(this.comparator)?this.comparator:null,g=0;g<t.length;g++){o=t[g];var m=this.get(o);if(m){if(h&&o!==m){var v=this._isModel(o)?o.attributes:o;e.parse&&(v=m.parse(v,e)),m.set(v,e),p&&!f&&(f=m.hasChanged(_))}u[m.cid]||(u[m.cid]=!0,s.push(m)),t[g]=m}else c&&(o=t[g]=this._prepareModel(o,e))&&(a.push(o),this._addReference(o,e),u[o.cid]=!0,s.push(o))}if(d){for(g=0;g<this.length;g++)o=this.models[g],u[o.cid]||l.push(o);l.length&&this._removeModels(l,e)}var y=!1,w=!p&&c&&d;if(s.length&&w?(y=this.length!=s.length||n.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,x(this.models,s,0),this.length=this.models.length):a.length&&(p&&(f=!0),x(this.models,a,null==r?this.length:r),this.length=this.models.length),f&&this.sort({silent:!0}),!e.silent){for(g=0;g<a.length;g++)null!=r&&(e.index=r+g),(o=a[g]).trigger("add",o,this,e);(f||y)&&this.trigger("sort",this,e),(a.length||l.length)&&this.trigger("update",this,e)}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},B(this,t),this.sync("read",this,t)},create:function(t,e){var i=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return!!n.length&&n},_isModel:function(t){return t instanceof v},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}}),s(y,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var k=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,E)),this._ensureElement(),this.initialize.apply(this,arguments)},M=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];n.extend(k.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(M);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=j[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||I()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var l=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,l&&l.call(r.context,t,e,n)};var u=r.xhr=e.ajax(n.extend(s,r));return i.trigger("request",i,u,r),u};var j={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var S=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,O=/\*\w+/g,T=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(S.prototype,u,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);!1!==o.execute(r,s,i)&&(o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),e.history.trigger("route",o,i,s))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(T,"\\$&").replace(C,"(?:$1)?").replace(A,function(t,e){return e?t:"([^/?]+)"}).replace(O,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var P=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,R=/#.*$/;P.started=!1,n.extend(P.prototype,u,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(D,"")},start:function(t){if(P.started)throw new Error("Backbone.history has already been started");if(P.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(L,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),P.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!P.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(R,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new P,v.extend=y.extend=S.extend=k.extend=P.extend=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};var I=function(){throw new Error('A "url" property or function must be specified')},B=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e}(s,n,t,e)}.apply(e,r))||(t.exports=o)}).call(this,n(10))},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t){this._pid=i.nextPID(),this.name=t.name,this._create=t.create,this._coerce=t.coerce||null,this._compare=t.compare||null,this._changed=t.changed||null}return t.prototype.get=function(t){var e=i.ensureMap(t);return this._pid in e?e[this._pid]:e[this._pid]=this._createValue(t)},t.prototype.set=function(t,e){var n,r=i.ensureMap(t);n=this._pid in r?r[this._pid]:r[this._pid]=this._createValue(t);var o=this._coerceValue(t,e);this._maybeNotify(t,n,r[this._pid]=o)},t.prototype.coerce=function(t){var e,n=i.ensureMap(t);e=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(t);var r=this._coerceValue(t,e);this._maybeNotify(t,e,n[this._pid]=r)},t.prototype._createValue=function(t){return(0,this._create)(t)},t.prototype._coerceValue=function(t,e){var n=this._coerce;return n?n(t,e):e},t.prototype._compareValue=function(t,e){var n=this._compare;return n?n(t,e):t===e},t.prototype._maybeNotify=function(t,e,n){var i=this._changed;i&&!this._compareValue(e,n)&&i(t,e,n)},t}();e.AttachedProperty=r,function(t){t.clearData=function(t){i.ownerData.delete(t)}}(r=e.AttachedProperty||(e.AttachedProperty={})),e.AttachedProperty=r,function(t){var e;t.ownerData=new WeakMap,t.nextPID=(e=0,function(){return"pid-"+(""+Math.random()).slice(2)+"-"+e++}),t.ensureMap=function(e){var n=t.ownerData.get(e);return n||(n=Object.create(null),t.ownerData.set(e,n),n)}}(i||(i={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(){function t(t){this._label="",this._caption="",this._mnemonic=-1,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new i.Signal(this),this.owner=t.owner,void 0!==t.label&&(this._label=t.label),void 0!==t.mnemonic&&(this._mnemonic=t.mnemonic),void 0!==t.icon&&(this._iconClass=t.icon),void 0!==t.iconClass&&(this._iconClass=t.iconClass),void 0!==t.iconLabel&&(this._iconLabel=t.iconLabel),void 0!==t.caption&&(this._caption=t.caption),void 0!==t.className&&(this._className=t.className),void 0!==t.closable&&(this._closable=t.closable),this._dataset=t.dataset||{}}return Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(t){this._label!==t&&(this._label=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(t){this._mnemonic!==t&&(this._mnemonic=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this.iconClass},set:function(t){this.iconClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconClass",{get:function(){return this._iconClass},set:function(t){this._iconClass!==t&&(this._iconClass=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconLabel",{get:function(){return this._iconLabel},set:function(t){this._iconLabel!==t&&(this._iconLabel=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this._caption},set:function(t){this._caption!==t&&(this._caption=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(t){this._className!==t&&(this._className=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this._closable},set:function(t){this._closable!==t&&(this._closable=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this._dataset},set:function(t){this._dataset!==t&&(this._dataset=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),t}();e.Title=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(26),a=n(95),l=n(46),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._widgets=[],e}return r(e,t),e.prototype.dispose=function(){for(;this._widgets.length>0;)this._widgets.pop().dispose();t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return o.iter(this._widgets)},e.prototype.addWidget=function(t){this.insertWidget(this._widgets.length,t)},e.prototype.insertWidget=function(t,e){e.parent=this.parent;var n=this._widgets.indexOf(e),i=Math.max(0,Math.min(t,this._widgets.length));if(-1===n)return o.ArrayExt.insert(this._widgets,i,e),void(this.parent&&this.attachWidget(i,e));i===this._widgets.length&&i--,n!==i&&(o.ArrayExt.move(this._widgets,n,i),this.parent&&this.moveWidget(n,i,e))},e.prototype.removeWidget=function(t){this.removeWidgetAt(this._widgets.indexOf(t))},e.prototype.removeWidgetAt=function(t){var e=o.ArrayExt.removeAt(this._widgets,t);e&&this.parent&&this.detachWidget(t,e)},e.prototype.init=function(){var e=this;t.prototype.init.call(this),o.each(this,function(t,n){e.attachWidget(n,t)})},e.prototype.attachWidget=function(t,e){var n=this.parent.node.children[t];this.parent.isAttached&&s.MessageLoop.sendMessage(e,l.Widget.Msg.BeforeAttach),this.parent.node.insertBefore(e.node,n),this.parent.isAttached&&s.MessageLoop.sendMessage(e,l.Widget.Msg.AfterAttach)},e.prototype.moveWidget=function(t,e,n){this.parent.isAttached&&s.MessageLoop.sendMessage(n,l.Widget.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&s.MessageLoop.sendMessage(n,l.Widget.Msg.AfterDetach);var i=this.parent.node.children[e];this.parent.isAttached&&s.MessageLoop.sendMessage(n,l.Widget.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,i),this.parent.isAttached&&s.MessageLoop.sendMessage(n,l.Widget.Msg.AfterAttach)},e.prototype.detachWidget=function(t,e){this.parent.isAttached&&s.MessageLoop.sendMessage(e,l.Widget.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&s.MessageLoop.sendMessage(e,l.Widget.Msg.AfterDetach)},e}(a.Layout);e.PanelLayout=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),a=n(12),l=n(20),u=n(7),c=n(26),h=n(11),d=n(0),f=n(13),p=function(t){function e(e){var n=this,i=e.view;return delete e.view,(n=t.call(this,e)||this)._view=i,n}return r(e,t),e.prototype.processMessage=function(e){t.prototype.processMessage.call(this,e),this._view.processPhosphorMessage(e)},e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._view&&this._view.remove(),this._view=null)},e}(h.Panel);e.JupyterPhosphorPanelWidget=p;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return d.extend(t.prototype.defaults.call(this),{_view_name:"BoxView",_model_name:"BoxModel",children:[],box_style:""})},e.serializers=o({},a.CoreDOMWidgetModel.serializers,{children:{deserialize:s.unpack_models}}),e}(a.CoreDOMWidgetModel);e.BoxModel=_;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return d.extend(t.prototype.defaults.call(this),{_view_name:"HBoxView",_model_name:"HBoxModel"})},e}(_);e.HBoxModel=g;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return d.extend(t.prototype.defaults.call(this),{_view_name:"VBoxView",_model_name:"VBoxModel"})},e}(_);e.VBoxModel=m;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._createElement=function(t){return this.pWidget=new p({view:this}),this.pWidget.node},e.prototype._setElement=function(t){if(this.el||t!==this.pWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.pWidget.node,this.$el=f(this.pWidget.node)},e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),this.children_views=new s.ViewList(this.add_child_model,null,this),this.listenTo(this.model,"change:children",this.update_children),this.listenTo(this.model,"change:box_style",this.update_box_style),this.pWidget.addClass("jupyter-widgets"),this.pWidget.addClass("widget-container"),this.pWidget.addClass("widget-box")},e.prototype.render=function(){t.prototype.render.call(this),this.update_children(),this.set_box_style()},e.prototype.update_children=function(){this.children_views.update(this.model.get("children")).then(function(t){t.forEach(function(t){c.MessageLoop.postMessage(t.pWidget,h.Widget.ResizeMessage.UnknownSize)})})},e.prototype.update_box_style=function(){this.update_mapped_classes(e.class_map,"box_style")},e.prototype.set_box_style=function(){this.set_mapped_classes(e.class_map,"box_style")},e.prototype.add_child_model=function(t){var e=this,n=new h.Widget;return this.pWidget.addWidget(n),this.create_child_view(t).then(function(t){var i=u.ArrayExt.firstIndexOf(e.pWidget.widgets,n);return e.pWidget.insertWidget(i,t.pWidget),n.dispose(),t}).catch(l.reject("Could not add child view to box",!0))},e.prototype.remove=function(){this.children_views=null,t.prototype.remove.call(this)},e.class_map={success:["alert","alert-success"],info:["alert","alert-info"],warning:["alert","alert-warning"],danger:["alert","alert-danger"]},e}(s.DOMWidgetView);e.BoxView=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),this.pWidget.addClass("widget-hbox")},e}(v);e.HBoxView=y;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),this.pWidget.addClass("widget-vbox")},e}(v);e.VBoxView=b;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),this.pWidget.addClass("widget-gridbox"),this.pWidget.removeClass("widget-box")},e}(v);e.GridBoxView=w;var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return d.extend(t.prototype.defaults.call(this),{_view_name:"GridBoxView",_model_name:"GridBoxModel"})},e}(_);e.GridBoxModel=x},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(12),a=n(29),l=n(2),u=n(20),c=n(186),h=n(0),d=n(13);n(432);var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return h.extend(t.prototype.defaults.call(this),{_model_name:"IntModel",value:0})},e}(s.CoreDescriptionModel);e.IntModel=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return h.extend(t.prototype.defaults.call(this),{_model_name:"BoundedIntModel",max:100,min:0})},e}(f);e.BoundedIntModel=p;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"SliderStyleModel"})},e.styleProperties=o({},a.DescriptionStyleModel.styleProperties,{handle_color:{selector:".ui-slider-handle",attribute:"background-color",default:null}}),e}(a.DescriptionStyleModel);e.SliderStyleModel=_;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return h.extend(t.prototype.defaults.call(this),{_model_name:"IntSliderModel",_view_name:"IntSliderView",step:1,orientation:"horizontal",readout:!0,readout_format:"d",continuous_update:!0,style:null,disabled:!1})},e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()},e.prototype.update_readout_format=function(){this.readout_formatter=c.format(this.get("readout_format"))},e}(p);e.IntSliderModel=g;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(g);e.IntRangeSliderModel=m;var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parse_value=parseInt,e}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-slider"),this.el.classList.add("widget-hslider"),(this.$slider=d("<div />")).slider({slide:this.handleSliderChange.bind(this),stop:this.handleSliderChanged.bind(this)}).addClass("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider[0]),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.contentEditable="true",this.readout.style.display="none",this.update()},e.prototype.update=function(e){if(void 0===e||e.updated_view!==this){var n=this;n.$slider.slider({}),["step","disabled"].forEach(function(t){var e=n.model.get(t);void 0!==e&&n.$slider.slider("option",t,e)}),this.model.get("disabled")?this.readout.contentEditable="false":this.readout.contentEditable="true";var i=this.model.get("max"),r=this.model.get("min");r<=i&&(void 0!==i&&this.$slider.slider("option","max",i),void 0!==r&&this.$slider.slider("option","min",r));var o=this.model.get("orientation");this.$slider.slider("option","orientation",o),"vertical"===o?(this.el.classList.remove("widget-hslider"),this.el.classList.add("widget-vslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.add("widget-hslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-inline-hbox")),this.model.get("readout")?(this.readout.style.display="",this.displayed.then(function(){n.readout_overflow()?n.readout.classList.add("overflow"):n.readout.classList.remove("overflow")})):this.readout.style.display="none"}return t.prototype.update.call(this)},e.prototype.readout_overflow=function(){return this.readout.scrollWidth>this.readout.clientWidth},e.prototype.events=function(){return{slide:"handleSliderChange",slidestop:"handleSliderChanged","blur [contentEditable=true]":"handleTextChange","keydown [contentEditable=true]":"handleKeyDown"}},e.prototype.handleKeyDown=function(t){13===t.keyCode&&(t.preventDefault(),this.handleTextChange())},e.prototype._validate_slide_value=function(t){return Math.floor(t)},e}(a.DescriptionView);e.BaseIntSliderView=v;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._range_regex=/^\s*([+-]?\d+)\s*[-:]\s*([+-]?\d+)/,e}return r(e,t),e.prototype.update=function(e){t.prototype.update.call(this,e),this.$slider.slider("option","range",!0);var n=this.model.get("value");this.$slider.slider("option","values",n.slice()),this.readout.textContent=this.valueToString(n),this.model.get("value")!==n&&(this.model.set("value",n,{updated_view:this}),this.touch())},e.prototype.valueToString=function(t){var e=this.model.readout_formatter;return t.map(function(t){return e(t)}).join("  ")},e.prototype.stringToValue=function(t){var e=this._range_regex.exec(t);return e?[this._parse_value(e[1]),this._parse_value(e[2])]:null},e.prototype.handleTextChange=function(){var t=this.stringToValue(this.readout.textContent),e=this.model.get("min"),n=this.model.get("max");null===t||isNaN(t[0])||isNaN(t[1])||t[0]>t[1]?this.readout.textContent=this.valueToString(this.model.get("value")):(t=[Math.max(Math.min(t[0],n),e),Math.max(Math.min(t[1],n),e)])[0]!==this.model.get("value")[0]||t[1]!==this.model.get("value")[1]?(this.readout.textContent=this.valueToString(t),this.model.set("value",t,{updated_view:this}),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value"))},e.prototype.handleSliderChange=function(t,e){var n=e.values.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.model.get("continuous_update")&&this.handleSliderChanged(t,e)},e.prototype.handleSliderChanged=function(t,e){var n=e.values.map(this._validate_slide_value);this.model.set("value",n,{updated_view:this}),this.touch()},e}(v);e.IntRangeSliderView=y;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(e){t.prototype.update.call(this,e);var n=this.model.get("min"),i=this.model.get("max"),r=this.model.get("value");r>i?r=i:r<n&&(r=n),this.$slider.slider("option","value",r),this.readout.textContent=this.valueToString(r),this.model.get("value")!==r&&(this.model.set("value",r,{updated_view:this}),this.touch())},e.prototype.valueToString=function(t){return(0,this.model.readout_formatter)(t)},e.prototype.stringToValue=function(t){return this._parse_value(t)},e.prototype.handleTextChange=function(){var t=this.stringToValue(this.readout.textContent),e=this.model.get("min"),n=this.model.get("max");isNaN(t)?this.readout.textContent=this.valueToString(this.model.get("value")):(t=Math.max(Math.min(t,n),e))!==this.model.get("value")?(this.readout.textContent=this.valueToString(t),this.model.set("value",t,{updated_view:this}),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value"))},e.prototype.handleSliderChange=function(t,e){var n=this._validate_slide_value(e.value);this.readout.textContent=this.valueToString(n),this.model.get("continuous_update")&&this.handleSliderChanged(t,e)},e.prototype.handleSliderChanged=function(t,e){var n=this._validate_slide_value(e.value);this.model.set("value",n,{updated_view:this}),this.touch()},e}(v);e.IntSliderView=b;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return h.extend(t.prototype.defaults.call(this),{_model_name:"IntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1})},e}(f);e.IntTextModel=w;var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return h.extend(t.prototype.defaults.call(this),{_model_name:"BoundedIntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1,step:1})},e}(p);e.BoundedIntTextModel=x;var k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parse_value=parseInt,e._default_step="1",e}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.type="number",this.textbox.required=!0,this.textbox.id=this.label.htmlFor=u.uuid(),this.el.appendChild(this.textbox),this.update()},e.prototype.update=function(e){if(void 0===e||e.updated_view!==this){var n=this.model.get("value");this._parse_value(this.textbox.value)!==n&&(this.textbox.value=n.toString()),void 0!==this.model.get("min")&&(this.textbox.min=this.model.get("min")),void 0!==this.model.get("max")&&(this.textbox.max=this.model.get("max")),void 0!==this.model.get("step")&&null!==this.model.get("step")?this.textbox.step=this.model.get("step"):this.textbox.step=this._default_step,this.textbox.disabled=this.model.get("disabled")}return t.prototype.update.call(this)},e.prototype.events=function(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input input":"handleChanging","change input":"handleChanged"}},e.prototype.handleKeyDown=function(t){t.stopPropagation()},e.prototype.handleKeypress=function(t){t.stopPropagation()},e.prototype.handleChanging=function(t){var e=t.target.value.trim();""===e||["-","-.",".","+.","+"].indexOf(e)>=0||this.model.get("continuous_update")&&this.handleChanged(t)},e.prototype.handleChanged=function(t){var e=this._parse_value(t.target.value);if(isNaN(e))t.target.value=this.model.get("value");else{var n=e;void 0!==this.model.get("max")&&(n=Math.min(this.model.get("max"),n)),void 0!==this.model.get("min")&&(n=Math.max(this.model.get("min"),n)),n!==e&&(t.target.value=n,e=n),e!==this.model.get("value")&&(this.model.set("value",e,{updated_view:this}),this.touch())}},e}(a.DescriptionView);e.IntTextView=k;var M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"ProgressStyleModel"})},e.styleProperties=o({},a.DescriptionStyleModel.styleProperties,{bar_color:{selector:".progress-bar",attribute:"background-color",default:null}}),e}(a.DescriptionStyleModel);e.ProgressStyleModel=M;var E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return h.extend(t.prototype.defaults.call(this),{_model_name:"IntProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})},e}(p);e.IntProgressModel=E;var j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),this.listenTo(this.model,"change:bar_style",this.update_bar_style),this.pWidget.addClass("jupyter-widgets")},e.prototype.render=function(){t.prototype.render.call(this);var e="horizontal"===this.model.get("orientation")?"widget-hprogress":"widget-vprogress";this.el.classList.add(e),this.progress=document.createElement("div"),this.progress.classList.add("progress"),this.progress.style.position="relative",this.el.appendChild(this.progress),this.bar=document.createElement("div"),this.bar.classList.add("progress-bar"),this.bar.style.position="absolute",this.bar.style.bottom="0px",this.bar.style.left="0px",this.progress.appendChild(this.bar),this.update(),this.set_bar_style()},e.prototype.update=function(){var e=this.model.get("value"),n=this.model.get("max"),i=this.model.get("min"),r=100*(e-i)/(n-i);return"horizontal"===this.model.get("orientation")?(this.el.classList.remove("widget-inline-vbox"),this.el.classList.remove("widget-vprogress"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-hprogress"),this.bar.style.width=r+"%",this.bar.style.height="100%"):(this.el.classList.remove("widget-inline-hbox"),this.el.classList.remove("widget-hprogress"),this.el.classList.add("widget-inline-vbox"),this.el.classList.add("widget-vprogress"),this.bar.style.width="100%",this.bar.style.height=r+"%"),t.prototype.update.call(this)},e.prototype.update_bar_style=function(){this.update_mapped_classes(e.class_map,"bar_style",this.bar)},e.prototype.set_bar_style=function(){this.set_mapped_classes(e.class_map,"bar_style",this.bar)},e.class_map={success:["progress-bar-success"],info:["progress-bar-info"],warning:["progress-bar-warning"],danger:["progress-bar-danger"]},e}(a.DescriptionView);e.ProgressView=j;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return h.extend(t.prototype.defaults.call(this),{_model_name:"PlayModel",_view_name:"PlayView",_playing:!1,_repeat:!1,show_repeat:!0,interval:100,step:1,disabled:!1})},e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n)},e.prototype.loop=function(){if(this.get("_playing")){var t=this.get("value")+this.get("step");t<=this.get("max")?(this.set("value",t),this.schedule_next()):this.get("_repeat")?(this.set("value",this.get("min")),this.schedule_next()):this.set("_playing",!1),this.save_changes()}},e.prototype.schedule_next=function(){window.setTimeout(this.loop.bind(this),this.get("interval"))},e.prototype.stop=function(){this.set("_playing",!1),this.set("value",this.get("min")),this.save_changes()},e.prototype.pause=function(){this.set("_playing",!1),this.save_changes()},e.prototype.play=function(){this.set("_playing",!0),this.get("value")==this.get("max")?(this.set("value",this.get("min")),this.schedule_next(),this.save_changes()):this.loop()},e.prototype.repeat=function(){this.set("_repeat",!this.get("_repeat")),this.save_changes()},e}(p);e.PlayModel=S;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-play"),this.playButton=document.createElement("button"),this.pauseButton=document.createElement("button"),this.stopButton=document.createElement("button"),this.repeatButton=document.createElement("button"),this.playButton.className="jupyter-button",this.pauseButton.className="jupyter-button",this.stopButton.className="jupyter-button",this.repeatButton.className="jupyter-button",this.el.appendChild(this.playButton),this.el.appendChild(this.pauseButton),this.el.appendChild(this.stopButton),this.el.appendChild(this.repeatButton);var e=document.createElement("i");e.className="fa fa-play",this.playButton.appendChild(e);var n=document.createElement("i");n.className="fa fa-pause",this.pauseButton.appendChild(n);var i=document.createElement("i");i.className="fa fa-stop",this.stopButton.appendChild(i);var r=document.createElement("i");r.className="fa fa-retweet",this.repeatButton.appendChild(r),this.playButton.onclick=this.model.play.bind(this.model),this.pauseButton.onclick=this.model.pause.bind(this.model),this.stopButton.onclick=this.model.stop.bind(this.model),this.repeatButton.onclick=this.model.repeat.bind(this.model),this.listenTo(this.model,"change:_playing",this.update_playing),this.listenTo(this.model,"change:_repeat",this.update_repeat),this.listenTo(this.model,"change:show_repeat",this.update_repeat),this.update_playing(),this.update_repeat(),this.update()},e.prototype.update=function(){var t=this.model.get("disabled");this.playButton.disabled=t,this.pauseButton.disabled=t,this.stopButton.disabled=t,this.repeatButton.disabled=t,this.update_playing()},e.prototype.update_playing=function(){var t=this.model.get("_playing"),e=this.model.get("disabled");t?(e||(this.pauseButton.disabled=!1),this.playButton.classList.add("mod-active")):(e||(this.pauseButton.disabled=!0),this.playButton.classList.remove("mod-active"))},e.prototype.update_repeat=function(){var t=this.model.get("_repeat");this.repeatButton.style.display=this.model.get("show_repeat")?this.playButton.style.display:"none",t?this.repeatButton.classList.add("mod-active"):this.repeatButton.classList.remove("mod-active")},e}(l.DOMWidgetView);e.PlayView=C},function(t,e,n){var i,r,o;
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[n(13),n(47)],void 0===(o="function"==typeof(i=function(t){var e,n=0,i=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,i){var r,o,s,a={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,function(e,i){t.isFunction(i)?a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}():a[e]=i}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,r,o=i.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])r=o[s][n],o[s].hasOwnProperty(n)&&void 0!==r&&(t.isPlainObject(r)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):e[n]=r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=i.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var n,i=t.data(this,r);return"instance"===o?(l=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new n(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function r(r,o){var s,a;for(a=0;a<r.length;a++)s=i.classesElementLookup[r[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),i.classesElementLookup[r[a]]=s,n.push(r[a]),o&&e.classes[r[a]]&&n.push(e.classes[r[a]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,a):n.on(u,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){var s;"string"==typeof r&&(r={effect:r});var a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(450)),i(n(166)),i(n(169)),i(n(96)),i(n(167)),i(n(168))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(16),s=n(26),a=function(t){function e(e){return void 0===e&&(e={}),t.call(this,{itemCmp:o.JSONExt.deepEqual,values:e.values})||this}return r(e,t),e.prototype.toJSON=function(){for(var t=Object.create(null),e=0,n=this.keys();e<n.length;e++){var i=n[e],r=this.get(i);void 0!==r&&(t[i]=o.JSONExt.deepCopy(r))}return t},e}(n(96).ObservableMap);e.ObservableJSON=a,function(t){var e=function(t){function e(e){var n=t.call(this,"jsonvalue-changed")||this;return n.args=e,n}return r(e,t),e}(s.Message);t.ChangeMessage=e}(a=e.ObservableJSON||(e.ObservableJSON={})),e.ObservableJSON=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(){function t(t){void 0===t&&(t=""),this._text="",this._isDisposed=!1,this._changed=new i.Signal(this),this._text=t}return Object.defineProperty(t.prototype,"type",{get:function(){return"String"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){t.length===this._text.length&&t===this._text||(this._text=t,this._changed.emit({type:"set",start:0,end:t.length,value:t}))},enumerable:!0,configurable:!0}),t.prototype.insert=function(t,e){this._text=this._text.slice(0,t)+e+this._text.slice(t),this._changed.emit({type:"insert",start:t,end:t+e.length,value:e})},t.prototype.remove=function(t,e){var n=this._text.slice(t,e);this._text=this._text.slice(0,t)+this._text.slice(e),this._changed.emit({type:"remove",start:t,end:e,value:n})},t.prototype.clear=function(){this.text=""},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,i.Signal.clearData(this),this.clear())},t}();e.ObservableString=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=function(t){function e(e){var n=t.call(this)||this;return n._inCompound=!1,n._isUndoable=!0,n._madeCompoundChange=!1,n._index=-1,n._stack=[],n._serializer=e,n.changed.connect(n._onListChanged,n),n}return r(e,t),Object.defineProperty(e.prototype,"canRedo",{get:function(){return this._index<this._stack.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canUndo",{get:function(){return this._index>=0},enumerable:!0,configurable:!0}),e.prototype.beginCompoundOperation=function(t){this._inCompound=!0,this._isUndoable=!1!==t,this._madeCompoundChange=!1},e.prototype.endCompoundOperation=function(){this._inCompound=!1,this._isUndoable=!0,this._madeCompoundChange&&this._index++},e.prototype.undo=function(){if(this.canUndo){var t=this._stack[this._index];this._isUndoable=!1;for(var e=0,n=t.reverse();e<n.length;e++){var i=n[e];this._undoChange(i)}this._isUndoable=!0,this._index--}},e.prototype.redo=function(){if(this.canRedo){this._index++;var t=this._stack[this._index];this._isUndoable=!1;for(var e=0,n=t;e<n.length;e++){var i=n[e];this._redoChange(i)}this._isUndoable=!0}},e.prototype.clearUndo=function(){this._index=-1,this._stack=[]},e.prototype._onListChanged=function(t,e){if(!this.isDisposed&&this._isUndoable){this._inCompound&&this._madeCompoundChange||(this._stack=this._stack.slice(0,this._index+1));var n=this._copyChange(e);this._stack[this._index+1]?this._stack[this._index+1].push(n):this._stack.push([n]),this._inCompound?this._madeCompoundChange=!0:this._index++}},e.prototype._undoChange=function(t){var e=this,n=0,i=this._serializer;switch(t.type){case"add":o.each(t.newValues,function(){e.remove(t.newIndex)});break;case"set":n=t.oldIndex,o.each(t.oldValues,function(t){e.set(n++,i.fromJSON(t))});break;case"remove":n=t.oldIndex,o.each(t.oldValues,function(t){e.insert(n++,i.fromJSON(t))});break;case"move":this.move(t.newIndex,t.oldIndex);break;default:return}},e.prototype._redoChange=function(t){var e=this,n=0,i=this._serializer;switch(t.type){case"add":n=t.newIndex,o.each(t.newValues,function(t){e.insert(n++,i.fromJSON(t))});break;case"set":n=t.newIndex,o.each(t.newValues,function(n){e.set(t.newIndex++,i.fromJSON(n))});break;case"remove":o.each(t.oldValues,function(){e.remove(t.oldIndex)});break;case"move":this.move(t.oldIndex,t.newIndex);break;default:return}},e.prototype._copyChange=function(t){var e=this,n=[];o.each(t.oldValues,function(t){n.push(e._serializer.toJSON(t))});var i=[];return o.each(t.newValues,function(t){i.push(e._serializer.toJSON(t))}),{type:t.type,oldIndex:t.oldIndex,newIndex:t.newIndex,oldValues:n,newValues:i}},e}(n(169).ObservableList);e.ObservableUndoableList=s,function(t){var e=function(){function t(){}return t.prototype.toJSON=function(t){return t},t.prototype.fromJSON=function(t){return t},t}();t.IdentitySerializer=e}(s=e.ObservableUndoableList||(e.ObservableUndoableList={})),e.ObservableUndoableList=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(7),o=n(6),s=function(){function t(t){void 0===t&&(t={});var e=this;this._array=[],this._isDisposed=!1,this._changed=new o.Signal(this),void 0!==t.values&&r.each(t.values,function(t){e._array.push(t)}),this._itemCmp=t.itemCmp||i.itemCmp}return Object.defineProperty(t.prototype,"type",{get:function(){return"List"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._array.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,o.Signal.clearData(this),this.clear())},t.prototype.iter=function(){return new r.ArrayIterator(this._array)},t.prototype.get=function(t){return this._array[t]},t.prototype.set=function(t,e){var n=this._array[t];if(void 0===e)throw new Error("Cannot set an undefined item");(0,this._itemCmp)(n,e)||(this._array[t]=e,this._changed.emit({type:"set",oldIndex:t,newIndex:t,oldValues:[n],newValues:[e]}))},t.prototype.push=function(t){var e=this._array.push(t);return this._changed.emit({type:"add",oldIndex:-1,newIndex:this.length-1,oldValues:[],newValues:[t]}),e},t.prototype.insert=function(t,e){r.ArrayExt.insert(this._array,t,e),this._changed.emit({type:"add",oldIndex:-1,newIndex:t,oldValues:[],newValues:[e]})},t.prototype.removeValue=function(t){var e=this._itemCmp,n=r.ArrayExt.findFirstIndex(this._array,function(n){return e(n,t)});return this.remove(n),n},t.prototype.remove=function(t){var e=r.ArrayExt.removeAt(this._array,t);if(void 0!==e)return this._changed.emit({type:"remove",oldIndex:t,newIndex:-1,newValues:[],oldValues:[e]}),e},t.prototype.clear=function(){var t=this._array.slice();this._array.length=0,this._changed.emit({type:"remove",oldIndex:0,newIndex:0,newValues:[],oldValues:t})},t.prototype.move=function(t,e){if(!(this.length<=1||t===e)){var n=[this._array[t]];r.ArrayExt.move(this._array,t,e),this._changed.emit({type:"move",oldIndex:t,newIndex:e,oldValues:n,newValues:n})}},t.prototype.pushAll=function(t){var e=this,n=this.length;return r.each(t,function(t){e._array.push(t)}),this._changed.emit({type:"add",oldIndex:-1,newIndex:n,oldValues:[],newValues:r.toArray(t)}),this.length},t.prototype.insertAll=function(t,e){var n=this,i=t;r.each(e,function(e){r.ArrayExt.insert(n._array,t++,e)}),this._changed.emit({type:"add",oldIndex:-1,newIndex:i,oldValues:[],newValues:r.toArray(e)})},t.prototype.removeRange=function(t,e){for(var n=this._array.slice(t,e),i=t;i<e;i++)r.ArrayExt.removeAt(this._array,t);return this._changed.emit({type:"remove",oldIndex:t,newIndex:-1,oldValues:n,newValues:[]}),this.length},t}();e.ObservableList=s,function(t){t.itemCmp=function(t,e){return t===e}}(i||(i={}))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),s=n(171),a=function(t){function e(e){var n=t.call(this)||this;return n.mimeType=e.mimeType,n.sanitizer=e.sanitizer,n.resolver=e.resolver,n.linkHandler=e.linkHandler,n.latexTypesetter=e.latexTypesetter,n.node.dataset.mimeType=n.mimeType,n}return r(e,t),e.prototype.renderModel=function(t){return this.toggleClass("jp-mod-trusted",t.trusted),this.render(t)},e}(o.Widget);e.RenderedCommon=a;var l=function(t){function e(e){var n=t.call(this,e)||this;return n.addClass("jp-RenderedHTMLCommon"),n}return r(e,t),e}(a);e.RenderedHTMLCommon=l;var u=function(t){function e(e){var n=t.call(this,e)||this;return n.addClass("jp-RenderedHTML"),n}return r(e,t),e.prototype.render=function(t){return s.renderHTML({host:this.node,source:String(t.data[this.mimeType]),trusted:t.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})},e.prototype.onAfterAttach=function(t){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)},e}(l);e.RenderedHTML=u;var c=function(t){function e(e){var n=t.call(this,e)||this;return n.addClass("jp-RenderedLatex"),n}return r(e,t),e.prototype.render=function(t){return s.renderLatex({host:this.node,source:String(t.data[this.mimeType]),shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})},e.prototype.onAfterAttach=function(t){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)},e}(a);e.RenderedLatex=c;var h=function(t){function e(e){var n=t.call(this,e)||this;return n.addClass("jp-RenderedImage"),n}return r(e,t),e.prototype.render=function(t){var e=t.metadata[this.mimeType];return s.renderImage({host:this.node,mimeType:this.mimeType,source:String(t.data[this.mimeType]),width:e&&e.width,height:e&&e.height,unconfined:e&&e.unconfined})},e}(a);e.RenderedImage=h;var d=function(t){function e(e){var n=t.call(this,e)||this;return n.addClass("jp-RenderedMarkdown"),n}return r(e,t),e.prototype.render=function(t){return s.renderMarkdown({host:this.node,source:String(t.data[this.mimeType]),trusted:t.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})},e.prototype.onAfterAttach=function(t){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)},e}(l);e.RenderedMarkdown=d;var f=function(t){function e(e){var n=t.call(this,e)||this;return n.addClass("jp-RenderedSVG"),n}return r(e,t),e.prototype.render=function(t){var e=t.metadata[this.mimeType];return s.renderSVG({host:this.node,source:String(t.data[this.mimeType]),trusted:t.trusted,resolver:this.resolver,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,unconfined:e&&e.unconfined,latexTypesetter:this.latexTypesetter})},e.prototype.onAfterAttach=function(t){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)},e}(a);e.RenderedSVG=f;var p=function(t){function e(e){var n=t.call(this,e)||this;return n.addClass("jp-RenderedText"),n}return r(e,t),e.prototype.render=function(t){return s.renderText({host:this.node,source:String(t.data[this.mimeType])})},e}(a);e.RenderedText=p;var _=function(t){function e(e){var n=t.call(this,e)||this;return n.addClass("jp-RenderedJavaScript"),n}return r(e,t),e.prototype.render=function(t){return s.renderText({host:this.node,source:"JavaScript output is disabled in JupyterLab"})},e}(a);e.RenderedJavaScript=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(454),o=n(455),s=n(5),a=n(19),l=n(172);e.renderHTML=function(t){var e=t.host,n=t.source,r=t.trusted,o=t.sanitizer,s=t.resolver,a=t.linkHandler,l=t.shouldTypeset,u=t.latexTypesetter;return n?(r||(n=o.sanitize(n)),e.innerHTML=n,e.getElementsByTagName("script").length>0&&console.warn("JupyterLab does not execute inline JavaScript in HTML output"),i.handleDefaults(e),(s?i.handleUrls(e,s,a):Promise.resolve(void 0)).then(function(){l&&u&&u.typeset(e)})):(e.textContent="",Promise.resolve(void 0))},e.renderImage=function(t){var e=t.host,n=t.mimeType,i=t.source,r=t.width,o=t.height,s=t.unconfined;e.textContent="";var a=document.createElement("img");return a.src="data:"+n+";base64,"+i,"number"==typeof o&&(a.height=o),"number"==typeof r&&(a.width=r),!0===s&&a.classList.add("jp-mod-unconfined"),e.appendChild(a),Promise.resolve(void 0)},e.renderLatex=function(t){var e=t.host,n=t.source,i=t.shouldTypeset,r=t.latexTypesetter;return e.textContent=n,i&&r&&r.typeset(e),Promise.resolve(void 0)},e.renderMarkdown=function(t){var e=t.host,n=t.source,r=t.trusted,o=t.sanitizer,s=t.resolver,a=t.linkHandler,u=t.latexTypesetter,c=t.shouldTypeset;if(!n)return e.textContent="",Promise.resolve(void 0);var h=l.removeMath(n);return i.renderMarked(h.text).then(function(t){return t=l.replaceMath(t,h.math),r||(t=o.sanitize(t)),e.innerHTML=t,e.getElementsByTagName("script").length>0&&console.warn("JupyterLab does not execute inline JavaScript in HTML output"),i.handleDefaults(e),i.headerAnchors(e),s?i.handleUrls(e,s,a):Promise.resolve(void 0)}).then(function(){c&&u&&u.typeset(e)})},e.renderSVG=function(t){var e=t.host,n=t.source,r=t.trusted,o=t.resolver,s=t.linkHandler,a=t.shouldTypeset,l=t.latexTypesetter,u=t.unconfined;return n?r?(e.innerHTML=n,!0===u&&e.classList.add("jp-mod-unconfined"),(o?i.handleUrls(e,o,s):Promise.resolve(void 0)).then(function(){a&&l&&l.typeset(e)})):(e.textContent="Cannot display an untrusted SVG. Maybe you need to run the cell?",Promise.resolve(void 0)):(e.textContent="",Promise.resolve(void 0))},e.renderText=function(t){var e=t.host,n=t.source,i=r.escape_for_html(n),o=r.ansi_to_html(i,{use_classes:!0});return e.innerHTML="<pre>"+o+"</pre>",Promise.resolve(void 0)},function(t){function e(t,e,n){var i=t.getAttribute(e);return i&&"data:"!==a.URLExt.parse(i).protocol?(t.setAttribute(e,""),n.resolveUrl(i).then(function(t){return n.getDownloadUrl(t)}).then(function(n){t.setAttribute(e,n)}).catch(function(n){t.setAttribute(e,"")})):Promise.resolve(void 0)}function n(t,e,n){var i=t.getAttribute("href");if(!i||-1!==i.indexOf("://")&&0===i.indexOf("//"))return Promise.resolve(void 0);var r=t.hash;if(r){if(r===i)return t.target="_self",Promise.resolve(void 0);i=i.replace(r,"")}return e.resolveUrl(i).then(function(i){return n&&a.URLExt.isLocal(i)&&n.handleLink(t,i),e.getDownloadUrl(i)}).then(function(e){t.href=e+r}).catch(function(e){t.href=""})}t.renderMarked=function(t){return i||(i=!0,o.setOptions({gfm:!0,sanitize:!1,tables:!0,langPrefix:"cm-s-"+s.CodeMirrorEditor.defaultConfig.theme+" language-",highlight:function(t,e,n){var i=function(t,e){return n&&n(t,e),e};return e?(s.Mode.ensure(e).then(function(n){var r=document.createElement("div");if(!n)return console.log("No CodeMirror mode: "+e),i(null,t);try{return s.Mode.run(t,n.mime,r),i(null,r.innerHTML)}catch(n){return console.log("Failed to highlight "+e+" code",n),i(n,t)}}).catch(function(n){return console.log("No CodeMirror mode: "+e),console.log("Require CodeMirror mode error: "+n),i(null,t)}),t):i(null,t)}})),new Promise(function(e,n){o(t,function(t,i){t?n(t):e(i)})})},t.handleDefaults=function(t){for(var e=t.getElementsByTagName("a"),n=0;n<e.length;n++){var i=e[n].href;a.URLExt.isLocal(i)?e[n].target="_self":e[n].target="_blank"}var r=t.getElementsByTagName("img");for(n=0;n<r.length;n++)r[n].alt||(r[n].alt="Image")},t.handleUrls=function(t,i,r){for(var o=[],s=t.querySelectorAll("*[src]"),a=0;a<s.length;a++)o.push(e(s[a],"src",i));var l=t.getElementsByTagName("a");for(a=0;a<l.length;a++)o.push(n(l[a],i,r));var u=t.getElementsByTagName("link");for(a=0;a<u.length;a++)o.push(e(u[a],"href",i));return Promise.all(o).then(function(){})},t.headerAnchors=function(t){for(var e=0,n=["h1","h2","h3","h4","h5","h6"];e<n.length;e++)for(var i=n[e],r=t.getElementsByTagName(i),o=0;o<r.length;o++){var s=r[o];s.id=s.innerHTML.replace(/ /g,"-");var a=document.createElement("a");a.target="_self",a.textContent="",a.href="#"+s.id,a.classList.add("jp-InternalAnchorLink"),s.appendChild(a)}};var i=!1}(i||(i={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="$",r=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;function o(t,e,n,i,r){var o=r.slice(t,e+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&"Microsoft Internet Explorer"===navigator.appName&&(o=o.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));e>t;)r[e]="",e--;return r[t]="@@"+i.length+"@@",n&&(o=n(o)),i.push(o),r}e.removeMath=function(t){var e,n=[],s=null,a=null,l=null,u=0;/`/.test(t)?(t=t.replace(/~/g,"~T").replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,function(t){return t.replace(/\$/g,"~D")}),e=function(t){return t.replace(/~([TD])/g,function(t,e){return"T"===e?"~":i})}):e=function(t){return t};for(var c=t.replace(/\r\n?/g,"\n").split(r),h=1,d=c.length;h<d;h+=2){var f=c[h];"@"===f.charAt(0)?(c[h]="@@"+n.length+"@@",n.push(f)):null!==s?f===a?u?l=h:(c=o(s,h,e,n,c),s=null,a=null,l=null):f.match(/\n.*\n/)?(null!==l&&(c=o(s,h=l,e,n,c)),s=null,a=null,l=null,u=0):"{"===f?u++:"}"===f&&u&&u--:f===i||"$$"===f?(s=h,a=f,u=0):"\\\\("===f||"\\\\["===f?(s=h,a="("===f.slice(-1)?"\\\\)":"\\\\]",u=0):"begin"===f.substr(1,5)&&(s=h,a="\\end"+f.substr(6),u=0)}return null!==s&&null!==l&&(c=o(s,l,e,n,c),s=null,a=null,l=null),{text:e(c.join("")),math:n}},e.replaceMath=function(t,e){return t.replace(/@@(\d+)@@/g,function(t,n){var i=e[n];return"\\\\("===i.substr(0,3)&&"\\\\)"===i.substr(i.length-3)?i="\\("+i.substring(3,i.length-3)+"\\)":"\\\\["===i.substr(0,3)&&"\\\\]"===i.substr(i.length-3)&&(i="\\["+i.substring(3,i.length-3)+"\\]"),i})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t){void 0===t&&(t={}),this.trusted=!!t.trusted,this._data=t.data||{},this._metadata=t.metadata||{},this._callback=t.callback||i.noOp}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._metadata},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){this._data=t.data||this._data,this._metadata=t.metadata||this._metadata,this._callback(t)},t}();e.MimeModel=r,function(t){t.noOp=function(){}}(i||(i={}))},function(t,e,n){var i=n(2),r=n(1),o=n(0),s=n(9);Math.log10=Math.log10||function(t){return Math.log(t)/Math.LN10};var a=["em","ex","px"],l=i.WidgetView.extend({initialize:function(){this.setElement(document.createElementNS(r.ns.prefix.svg,"g")),this.d3el=r.select(this.el),l.__super__.initialize.apply(this,arguments)},render:function(){this.d3el.style("display",this.model.get("visible")?"inline":"none"),this.parent=this.options.parent,this.margin=this.parent.margin,this.vertical="vertical"===this.model.get("orientation"),this.height=this.parent.height-(this.margin.top+this.margin.bottom),this.width=this.parent.width-(this.margin.left+this.margin.right);var t=this.set_scale(this.model.get("scale"));this.side=this.model.get("side"),this.padding=this.model.get("padding"),this.num_ticks=this.model.get("num_ticks"),this.label_loc=this.model.get("label_location"),this.label_offset=this.extract_label_offset(this.model.get("label_offset"));var e=this.get_offset(),n=this;Promise.all([t,e]).then(function(){n.create_listeners(),n.tick_format=n.generate_tick_formatter(),n.set_scales_range(),n.append_axis()})},create_listeners:function(){this.listenTo(this.model,"change:scale",function(t,e){this.update_scale(t.previous("scale"),e),this.axis.scale(this.axis_scale.scale),this.rescale_axis()},this),this.listenTo(this.model,"change:tick_values",this.set_tick_values,this),this.listenTo(this.model,"change:tick_format",this.tickformat_changed,this),this.listenTo(this.model,"change:num_ticks",function(t,e){this.num_ticks=e,this.set_tick_values()},this),this.listenTo(this.model,"change:color",this.update_color,this),this.model.on_some_change(["label","label_color"],this.update_label,this),this.model.on_some_change(["grid_color","grid_lines"],this.update_grid_lines,this),this.listenTo(this.model,"change:label_location",this.update_label_location,this),this.listenTo(this.model,"change:label_offset",this.update_label_offset,this),this.listenTo(this.model,"change:visible",this.update_visibility,this),this.model.on_some_change(["side","orientation"],this.update_display,this),this.listenTo(this.model,"change:offset",function(){var t=this.get_offset(),e=this;t.then(function(){e.set_scales_range(),e.update_offset_scale_domain(),e.g_axisline.attr("transform",e.get_axis_transform()),e.update_grid_lines()})},this),this.parent.on("margin_updated",this.parent_margin_updated,this)},update_display:function(){this.side=this.model.get("side"),this.vertical="vertical"===this.model.get("orientation"),this.vertical?this.axis.orient("right"===this.side?"right":"left"):this.axis.orient("top"===this.side?"top":"bottom"),this.label_offset=this.extract_label_offset(this.model.get("label_offset")),this.rescale_axis()},set_tick_values:function(t){var e=this.model.get_typed_field("tick_values"),n=[];if(null!=e&&e.length>0)this.axis.tickValues(this.get_ticks_from_array_or_length(e));else if(void 0!==this.num_ticks&&null!==this.num_ticks)this.axis.tickValues(this.get_ticks_from_array_or_length());else if("ordinal"===this.axis_scale.model.type)this.axis.tickValues(this.axis_scale.scale.domain());else if("log"===this.axis_scale.model.type){var i,r,o=this.axis_scale.scale.ticks(),s=Math.abs(Math.log10(this.axis_scale.scale.domain()[1]/this.axis_scale.scale.domain()[0]));if(s<2)this.axis.tickValues(o);else if(s<7){for(n=[],i=0;i<o.length;i++)r=Math.abs(Math.log10(o[i])%1),(Math.abs(r)<.001||Math.abs(r-1)<.001||Math.abs(r-.30103)<.001||Math.abs(r-.69897)<.001)&&n.push(o[i]);this.axis.tickValues(n)}else{n=[];var a=Math.round(s/10);for(i=0;i<o.length;i++)r=Math.abs(Math.log10(o[i])%a),(Math.abs(r)<.001||Math.abs(r-a)<.001)&&n.push(o[i]);this.axis.tickValues(n)}}else this.axis.tickValues(this.axis_scale.scale.ticks());null!==this.model.get("tick_format")&&void 0!==this.model.get("tick_format")||"ordinal"!==this.axis_scale.type&&(this.tick_format=this.guess_tick_format(this.axis.tickValues())),this.axis.tickFormat(this.tick_format),this.g_axisline&&this.g_axisline.transition("set_tick_values").duration(!0===t?this.parent.model.get("animation_duration"):0).call(this.axis)},tickformat_changed:function(){this.tick_format=this.generate_tick_formatter(),this.axis.tickFormat(this.tick_format),this.g_axisline&&this.g_axisline.call(this.axis)},update_axis_domain:function(){var t=this.vertical?this.parent.padded_range("y",this.axis_scale.model):this.parent.padded_range("x",this.axis_scale.model),e=this.vertical?this.parent.range("y"):this.parent.range("x");this.axis_scale.expand_domain(t,e),this.axis.scale(this.axis_scale.scale)},update_offset_scale_domain:function(){if(this.offset_scale){var t=this.vertical?this.parent.padded_range("x",this.offset_scale.model):this.parent.padded_range("y",this.offset_scale.model),e=this.vertical?this.parent.range("x"):this.parent.range("y");this.offset_scale.expand_domain(t,e)}},generate_tick_formatter:function(){if("date"===this.axis_scale.model.type||"date_color_linear"===this.axis_scale.model.type)return this.model.get("tick_format")?r.time.format(this.model.get("tick_format")):this.guess_tick_format();if("ordinal"===this.axis_scale.model.type){var t=this.model.get("tick_format");return t?s.is_valid_time_format(t)?r.time.format(t):r.format(t):function(t){return t}}return this.model.get("tick_format")?r.format(this.model.get("tick_format")):this.guess_tick_format()},set_scales_range:function(){this.axis_scale.set_range(this.vertical?[this.height,0]:[0,this.width]),this.offset_scale&&this.offset_scale.set_range(this.vertical?[0,this.width]:[this.height,0])},create_axis_line:function(){this.vertical?this.axis=r.svg.axis().scale(this.axis_scale.scale).orient("right"===this.side?"right":"left"):this.axis=r.svg.axis().scale(this.axis_scale.scale).orient("top"===this.side?"top":"bottom")},append_axis:function(){this.create_axis_line(),this.update_axis_domain(),this.update_offset_scale_domain(),this.g_axisline=this.d3el.append("g").attr("class","axis").attr("transform",this.get_axis_transform()).call(this.axis),this.g_axisline.append("text").attr("class","axislabel").attr(this.get_label_attributes()).style(this.get_text_styling()).text(this.model.get("label")),this.set_tick_values(),this.update_grid_lines(),this.update_color(),this.update_label()},get_offset:function(){var t=this,e=Promise.resolve(),n=this.model.get("offset");if(void 0!==n.value&&null!==n.value){if(void 0===n.scale)this.offset_scale=this.vertical?this.parent.scale_x:this.parent.scale_y;else{var i=n.scale;e=this.create_child_view(i).then(function(e){t.offset_scale=e,"ordinal"!==t.offset_scale.model.type&&t.offset_scale.scale.clamp(!0),t.offset_scale.on("domain_changed",function(){this.update_offset_scale_domain(),this.g_axisline.attr("transform",this.get_axis_transform()),this.update_grid_lines()},t)})}this.offset_value=n.value}else this.offset_scale=this.offset_value=void 0;return e},highlight:function(){this.g_axisline.classed("axisbold",!0)},unhighlight:function(){this.g_axisline.classed("axisbold",!1)},get_basic_transform:function(){return this.vertical?"right"===this.side?this.width:0:"top"===this.side?0:this.height},get_axis_transform:function(){return this.vertical?"translate("+this.process_offset()+", 0)":"translate(0, "+this.process_offset()+")"},process_offset:function(){if(void 0===this.offset_scale||null===this.offset_scale)return this.get_basic_transform();var t=this.offset_scale.scale(this.offset_value);return t=void 0===t?this.get_basic_transform():t,this.offset_scale.offset+t},get_label_attributes:function(){var t=0;return this.vertical?("start"===this.label_loc?t=-this.height:"middle"===this.label_loc&&(t=-this.height/2),"right"===this.side?{transform:"rotate(-90)",x:t,y:this.label_offset,dy:"1ex",dx:"0em"}:{transform:"rotate(-90)",x:t,y:this.label_offset,dy:"0em",dx:"0em"}):("middle"===this.label_loc?t=this.width/2:"end"===this.label_loc&&(t=this.width),"top"===this.side?{x:t,y:this.label_offset,dy:"0.75ex",dx:"0em",transform:""}:{x:t,y:this.label_offset,dy:"0.25ex",dx:"0em",transform:""})},get_text_styling:function(){return"start"===this.label_loc?{"text-anchor":"start"}:"end"===this.label_loc?{"text-anchor":"end"}:{"text-anchor":"middle"}},update_label:function(){this.g_axisline.select("text.axislabel").text(this.model.get("label")),this.d3el.selectAll(".axislabel").selectAll("text"),""!==this.model.get("label_color")&&null!==this.model.get("label_color")&&(this.g_axisline.select("text.axislabel").style("fill",this.model.get("label_color")),this.d3el.selectAll(".axislabel").selectAll("text").style("fill",this.model.get("label_color")))},update_label_location:function(t,e){this.label_loc=e,this.g_axisline.select("text.axislabel").attr(this.get_label_attributes()).style(this.get_text_styling())},update_label_offset:function(t,e){this.label_offset=this.extract_label_offset(e),this.g_axisline.select("text.axislabel").attr("y",this.label_offset)},extract_label_offset:function(t){t||(t=this.vertical?"4ex":"2em");for(var e=-1,n=0;n<a.length&&-1===e;n++)e=t.indexOf(a[n]);if(-1===e)return t;if("top"===this.side||"left"===this.side){var i=-1*parseInt(t.substring(0,e));t=i+t.substring(e)}return t},update_grid_lines:function(t){var e=this.model.get("grid_lines"),n=this.model.get("side"),i=this.model.get("orientation"),r="vertical"!==i,o=!0===t?this.parent.model.get("animation_duration"):0,s="vertical"===i?-this.width:-this.height,a=0;if(this.offset_scale){var l=this.offset_scale.scale(this.offset_value);"bottom"===n||"right"==n?(s=-l,a=r?this.height-l:this.width-l):(s+=l,a=-l)}"none"!==e?this.axis.innerTickSize(s).outerTickSize(6):this.axis.tickSize(6),this.g_axisline.selectAll(".tick").classed("short","none"===e),this.g_axisline.transition("update_grid_lines").duration(o).call(this.axis).selectAll(".tick line").attr(r?"y1":"x1",this.offset_scale&&"none"!==e?a:null).style("stroke-dasharray","dashed"===e?"5, 5":null),this.model.get("grid_color")&&this.g_axisline.selectAll(".tick line").style("stroke",this.model.get("grid_color"))},update_color:function(){this.model.get("color")&&(this.d3el.selectAll(".tick").selectAll("text").style("fill",this.model.get("color")),this.d3el.selectAll(".domain").style("stroke",this.model.get("color")))},redraw_axisline:function(){this.update_axis_domain(),this.update_offset_scale_domain();this.set_tick_values(!0),this.update_grid_lines(!0)},rescale_axis:function(){this.set_scales_range(),this.update_axis_domain(),this.update_offset_scale_domain(),this.g_axisline.attr("transform",this.get_axis_transform()),this.g_axisline.call(this.axis),this.g_axisline.select("text.axislabel").attr(this.get_label_attributes()).style(this.get_text_styling()),this.set_tick_values(),this.update_grid_lines()},parent_margin_updated:function(){this.margin=this.parent.margin,this.width=this.parent.width-this.margin.left-this.margin.right,this.height=this.parent.height-this.margin.top-this.margin.bottom,this.rescale_axis()},update_visibility:function(t,e){this.d3el.style("display",e?"inline":"none")},get_ticks_from_array_or_length:function(t){var e,n;if("ordinal"===this.axis_scale.model.type&&(t=this.axis_scale.scale.domain()),void 0!==this.num_ticks&&null!==this.num_ticks&&this.num_ticks<2)return[];if(t)return null==this.num_ticks||null==this.num_ticks||t.length<=this.num_ticks?t:(e=Math.floor(t.length/(this.num_ticks-1)),o.range(0,t.length,e).map(function(e){return t[e]}));var i=this.axis_scale.scale.domain(),r=this.axis_scale.scale.domain().length-1;return e=(i[r]-i[0])/(this.num_ticks-1),"date"===this.axis_scale.model.type||"date_color_linear"===this.axis_scale.model.type?(i[0]=i[0].getTime(),i[r]=i[r].getTime(),n=i[r]+.5*e,o.range(i[0],n,e).map(function(t){return new Date(t)})):(n=i[r]+.5*e,o.range(i[0],n,e))},set_scale:function(t){var e=this;return this.axis_scale&&this.axis_scale.remove(),this.create_child_view(t).then(function(t){e.displayed.then(function(){t.trigger("displayed")}),e.axis_scale=t,e.axis_scale.on("domain_changed",e.redraw_axisline,e),e.axis_scale.on("highlight_axis",e.highlight,e),e.axis_scale.on("unhighlight_axis",e.unhighlight,e)})},update_scale:function(t,e){this.axis_scale.off(),this.set_scale(e)},_get_digits:function(t){return 0===t?1:Math.floor(Math.log10(Math.abs(t)))+1},_replace_trailing_zeros:function(t){var e=t.search("e");return-1!=e?t.substring(0,e).replace(/(\.[0-9]*?)0+$/gi,"$1").replace(/\.$/,"")+t.substring(e):t.replace(/(\.[0-9]*?)0+$/gi,"$1").replace(/\.$/,"")},get_format_func:function(t){if(0===t)return function(t){return r.format("d")(Math.round(t))};var e=-1==t?"":"."+t,n=this;return function(t){var i=r.format(e+"g")(t);if(i.replace(/-|\.|e/gi,"").length<6)return n._replace_trailing_zeros(i);if(""===e){var o=r.format(e+"e")(t);return o.length>=7&&(o=r.format(".6e")(t)),n._replace_trailing_zeros(o)}return n._replace_trailing_zeros(r.format(e+"e")(t))}},_linear_scale_precision:function(t){t=null==t?this.axis_scale.scale.ticks():t;var e=Math.abs(t[1]-t[0]),n=Math.max(Math.abs(t[0]),Math.abs(t[t.length-1])),i=this._get_digits(n),r=this._get_digits(e),o=Math.abs(i-r);return i>=0&&r>0?i<=6?0:Math.min(o,6)+1:r<=0?Math.min(Math.abs(r)+i,6)+1:void 0},linear_sc_format:function(t){return this.get_format_func(this._linear_scale_precision(t))},date_sc_format:function(t){t=null==t?this.axis_scale.scale.ticks():t;var e=Math.abs(t[1]-t[0]),n=1e3;return 0===Math.floor(e/n)?[[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return!0}]]:0===Math.floor(e/(n*=60))?[[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return!0}]]:0===Math.floor(e/(n*=60))?[["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return!0}]]:0===Math.floor(e/(n*=24))?[["%I %p",function(t){return t.getHours()}],["%b %d",function(t){return!0}]]:0===Math.floor(e/(n*=27))?[["%b %d",function(t){return 1!==t.getDate()}],["%b %Y",function(t){return!0}]]:0===Math.floor(e/(n*=12))?[["%b %d",function(t){return 1!==t.getDate()}],["%b %Y",function(){return!0}]]:[["%b %d",function(t){return 1!==t.getDate()}],["%b %Y",function(t){return t.getMonth()}],["%Y",function(){return!0}]]},log_sc_format:function(t){return this.get_format_func(this._log_sc_precision(t))},_log_sc_precision:function(t){return t=null==t?this.axis_scale.scale.ticks():t,Math.abs(Math.log10(t[1]/t[0]))>=.301?-1:3},guess_tick_format:function(t){return"linear"==this.axis_scale.model.type||"color_linear"==this.axis_scale.model.type?this.linear_sc_format(t):"date"==this.axis_scale.model.type||"date_color_linear"==this.axis_scale.model.type?r.time.format.multi(this.date_sc_format(t)):"log"==this.axis_scale.model.type?this.log_sc_format(t):void 0}});t.exports={Axis:l}},function(t,e,n){var i=n(1),r=n(0),o=n(64).Scale.extend({render:function(){this.scale=i.scale.ordinal(),this.scale.domain(this.model.domain),this.offset=0,this.create_event_listeners()},set_range:function(t,e){e=void 0===e?0:e,this.scale.rangeBands(t,e,e/2),this.offset=0===this.scale.domain().length?0:this.scale.rangeBand()/2},expand_domain:function(t,e){var n=this.scale.copy();n.rangeBands(t);var i=n.range().length>0?Math.abs((e[1]-t[1])/n.rangeBand()):0;this.scale.rangeBands(e,0,i)},invert:function(t){var e=this,n=this.scale.domain(),r=n.map(function(t){return e.scale(t)+e.scale.rangeBand()/2}).map(function(e){return Math.abs(t-e)});return n[r.indexOf(i.min(r))]},invert_range:function(t){var e=this,n=this.scale.domain(),i=n.map(function(t){return e.scale(t)+e.scale.rangeBand()/2});return r.range(i.length).filter(function(e){return i[e]>=t[0]&&i[e]<=t[1]}).map(function(t){return n[t]})}});t.exports={OrdinalScale:o}},function(t,e){t.exports={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}}},function(t,e,n){var i=n(1),r=n(0),o=n(9),s=n(14),a=s.Mark.extend({render:function(){var t=a.__super__.render.apply(this),e=this;return this.drag_listener=i.behavior.drag().on("dragstart",function(t,n){return e.drag_start(t,n,this)}).on("drag",function(t,n){return e.on_drag(t,n,this)}).on("dragend",function(t,n){return e.drag_ended(t,n,this)}),this.selected_style=this.model.get("selected_style"),this.unselected_style=this.model.get("unselected_style"),this.selected_indices=this.model.get("selected"),this.hovered_style=this.model.get("hovered_style"),this.unhovered_style=this.model.get("unhovered_style"),this.hovered_index=this.model.get("hovered_point")?[this.model.get("hovered_point")]:null,this.display_el_classes=["dot","legendtext"],this.event_metadata={mouse_over:{msg_name:"hover",lookup_data:!1,hit_test:!0},legend_clicked:{msg_name:"legend_click",hit_test:!0},element_clicked:{msg_name:"element_click",lookup_data:!1,hit_test:!0},parent_clicked:{msg_name:"background_click",hit_test:!1}},this.displayed.then(function(){e.parent.tooltip_div.node().appendChild(e.tooltip_div.node()),e.create_tooltip()}),t.then(function(){e.event_listeners={},e.process_interactions(),e.create_listeners(),e.compute_view_padding(),e.draw()})},set_ranges:function(){var t=this.scales.x,e=this.scales.y,n=this.scales.size,r=this.scales.opacity,o=this.scales.skew,s=this.scales.rotation;if(t&&t.set_range(this.parent.padded_range("x",t.model)),e&&e.set_range(this.parent.padded_range("y",e.model)),n){var a=n.scale.domain(),l=i.min(a)/i.max(a);n.set_range([i.max([this.model.get("default_size")*l,10]),this.model.get("default_size")])}r&&r.set_range([.2,1]),o&&o.set_range([0,1]),s&&s.set_range([0,180])},set_positional_scales:function(){this.x_scale=this.scales.x,this.y_scale=this.scales.y,this.x_scale||(this.x_scale=this.parent.scale_x),this.y_scale||(this.y_scale=this.parent.scale_y),this.listenTo(this.x_scale,"domain_changed",function(){if(!this.model.dirty){this.update_position(!0)}}),this.listenTo(this.y_scale,"domain_changed",function(){if(!this.model.dirty){this.update_position(!0)}})},initialize_additional_scales:function(){var t=this.scales.color,e=this.scales.size,n=this.scales.opacity,i=this.scales.skew,r=this.scales.rotation;t&&(this.listenTo(t,"domain_changed",function(){this.color_scale_updated(!0)}),t.on("color_scale_range_changed",this.color_scale_updated,this)),e&&this.listenTo(e,"domain_changed",function(){this.update_default_size(!0)}),n&&this.listenTo(n,"domain_changed",function(){this.update_default_opacities(!0)}),i&&this.listenTo(i,"domain_changed",function(){this.update_default_skew(!0)}),r&&this.listenTo(r,"domain_changed",function(){this.update_position(!0)})},create_listeners:function(){a.__super__.create_listeners.apply(this),this.d3el.on("mouseover",r.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",r.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"data_updated",function(){this.draw(!0)},this),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.listenTo(this.model,"change:enable_hover",function(){this.hide_tooltip()},this),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.model,"change:enable_move",this.set_drag_behavior),this.listenTo(this.model,"change:selected",this.update_selected),this.listenTo(this.model,"change:hovered_point",this.update_hovered),this.listenTo(this.model,"change:hovered_style",this.hovered_style_updated,this),this.listenTo(this.model,"change:unhovered_style",this.unhovered_style_updated,this),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")})},get_element_color:function(t,e){var n=this.scales.color,i=this.model.get("colors"),r=i.length;return n&&void 0!==t.color&&null!==t.color?n.scale(t.color):i[e%r]},get_element_size:function(t){var e=this.scales.size;return e&&void 0!==t.size?e.scale(t.size):this.model.get("default_size")},get_element_opacity:function(t,e){var n=this.scales.opacity,i=this.model.get("default_opacities"),r=i.length;return n&&void 0!==t.opacity?n.scale(t.opacity):i[e%r]},get_element_skew:function(t){var e=this.scales.skew;return e&&void 0!==t.skew?e.scale(t.skew):this.model.get("default_skew")},get_element_rotation:function(t){var e=this.scales.rotation;return e&&t.rotation?"rotate("+e.scale(t.rotation)+")":""},relayout:function(){this.set_ranges(),this.update_position()},update_position:function(t){var e=this.scales.x,n=this.scales.y,i=this,r=!0===t?this.parent.model.get("animation_duration"):0;this.d3el.selectAll(".object_grp").transition("update_position").duration(r).attr("transform",function(t){return"translate("+(e.scale(t.x)+e.offset)+","+(n.scale(t.y)+n.offset)+")"+i.get_element_rotation(t)}),this.x_pixels=this.model.mark_data.map(function(t){return e.scale(t.x)+e.offset}),this.y_pixels=this.model.mark_data.map(function(t){return n.scale(t.y)+n.offset})},draw:function(t){this.set_ranges();this.scales.x,this.scales.y,this.model.get("fill"),!0===t&&this.parent.model.get("animation_duration");var e=this.d3el.selectAll(".object_grp").data(this.model.mark_data,function(t){return t.unique_id}),n=e.enter().append("g").attr("class","object_grp");this.update_position(t),this.set_drag_behavior(),e.on("click",r.bind(function(t,e){this.event_dispatcher("element_clicked",{data:t,index:e})},this)),e.on("mouseover",r.bind(function(t,e){this.scatter_hover_handler({data:t,index:e})},this)),e.on("mouseout",r.bind(function(){this.reset_hover()},this)),this.draw_elements(t,n),e.exit().remove()},draw_elements:function(t,e){},process_interactions:function(){var t=this.model.get("interactions");r.isEmpty(t)?this.reset_interactions():(void 0!==t.click&&null!==t.click?"tooltip"===t.click?(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"add"===t.click?(this.event_listeners.parent_clicked=this.add_element,this.event_listeners.element_clicked=function(){}):"select"==t.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.element_clicked=this.scatter_click_handler):this.reset_click(),void 0!==t.hover&&null!==t.hover?"tooltip"===t.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover(),void 0!==t.legend_click&&null!==t.legend_click?"tooltip"===t.legend_click&&(this.event_listeners.legend_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):this.event_listeners.legend_clicked=function(){},void 0!==t.legend_hover&&null!==t.legend_hover?"highlight_axes"===t.legend_hover&&(this.event_listeners.legend_mouse_over=r.bind(this.highlight_axes,this),this.event_listeners.legend_mouse_out=r.bind(this.unhighlight_axes,this)):this.reset_legend_hover())},reset_hover:function(){this.model.set("hovered_point",null),this.hovered_index=null,this.touch()},scatter_hover_handler:function(t){t.data;var e=t.index;this.model.set("hovered_point",e,{updated_view:this}),this.touch()},reset_selection:function(){this.model.set("selected",null),this.selected_indices=null,this.touch()},scatter_click_handler:function(t){t.data;var e=t.index,n=this.model.get("selected"),r=n?o.deepCopy(n):[],s=r.indexOf(e),a=i.event.ctrlKey||i.event.metaKey;s>-1&&a?r.splice(s,1):a?r.push(e):(r=[]).push(e),this.model.set("selected",0===r.length?null:r,{updated_view:this}),this.touch(),i.event||(i.event=window.event);var l=i.event;void 0!==l.cancelBubble&&(l.cancelBubble=!0),l.stopPropagation&&l.stopPropagation(),l.preventDefault()},hovered_style_updated:function(t,e){this.hovered_style=e,this.clear_style(t.previous("hovered_style"),this.hovered_index),this.style_updated(e,this.hovered_index)},unhovered_style_updated:function(t,e){this.unhovered_style=e;var n=this.hovered_index,i=n?r.range(this.model.mark_data.length).filter(function(t){return-1===n.indexOf(t)}):[];this.clear_style(t.previous("unhovered_style"),i),this.style_updated(e,i)},draw_legend:function(t,e,n,o,s){this.legend_el=t.selectAll(".legend"+this.uuid).data([this.model.mark_data[0]]);var a=this.model.get("colors"),l=a.length,u=this,c=.8*s,h=this.legend_el.enter().append("g").attr("class","legend"+this.uuid).attr("transform",function(t,e){return"translate(0, "+(e*s+n)+")"}).on("mouseover",r.bind(function(){this.event_dispatcher("legend_mouse_over")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("legend_mouse_out")},this)).on("click",r.bind(function(){this.event_dispatcher("legend_clicked")},this));this.draw_legend_elements(h,c),this.legend_el.append("text").attr("class","legendtext").attr("x",1.2*c).attr("y",c/2).attr("dy","0.35em").text(function(t,e){return u.model.get("labels")[e]}).style("fill",function(t,e){return a[e%l]});var d=i.max(this.model.get("labels"),function(t){return t.length});return this.legend_el.exit().remove(),[1,d]},draw_legend_elements:function(t,e){},invert_point:function(t){if(void 0===t)return this.model.set("selected",null),void this.touch();this.scales.x;var e=this.x_pixels.map(function(e){return Math.abs(e-t)}),n=e.indexOf(i.min(e));this.model.set("selected",[n]),this.touch()},invert_range:function(t,e){if(void 0===t||void 0===e)return this.model.set("selected",null),this.touch(),[];this.scales.x;var n=this,i=r.range(this.model.mark_data.length),o=r.filter(i,function(i){var r=n.x_pixels[i];return r>=t&&r<=e});this.model.set("selected",o),this.touch()},invert_2d_range:function(t,e,n,i){if(!e)return this.model.set("selected",null),this.touch(),r.range(this.model.mark_data.length);this.scales.x,this.scales.y;var o=r.range(this.model.mark_data.length),s=this,a=r.filter(o,function(r){var o=s.x_pixels[r],a=s.y_pixels[r];return o>=t&&o<=e&&a<=n&&a>=i});return this.model.set("selected",a),this.touch(),a},update_selected:function(t,e){this.selected_indices=e,this.apply_styles()},update_hovered:function(t,e){this.hovered_index=null===e?e:[e],this.apply_styles()},apply_styles:function(t){void 0!==t&&null!=t||(t=[this.selected_style,this.unselected_style,this.hovered_style,this.unhovered_style]),a.__super__.apply_styles.apply(this,[t]);var e=r.range(this.model.mark_data.length);this.set_style_on_elements(this.hovered_style,this.hovered_index);var n=this.hovered_index?r.difference(e,this.hovered_index):[];this.set_style_on_elements(this.unhovered_style,n)},clear_style:function(t,e){var n=this.d3el.selectAll(".element");e&&(n=n.filter(function(t,n){return-1!==e.indexOf(n)}));var i={};for(var r in t)i[r]=null;n.style(i)},set_style_on_elements:function(t,e){if(e&&0!==e.length&&0!==Object.keys(t).length){var n=this.d3el.selectAll(".element");(n=n.filter(function(t,n){return-1!==e.indexOf(n)})).style(t)}},compute_view_padding:function(){var t=Math.sqrt(this.model.get("default_size"))/2+1;t===this.x_padding&&t===this.y_padding||(this.x_padding=t,this.y_padding=t,this.trigger("mark_padding_updated"))},update_selected_in_lasso:function(t,e,n){var i=this.scales.x,s=this.scales.y,a=this.model.get("selected"),l=a?o.deepCopy(a):[],u=!1;if(null!==e&&e.length>0){var c=r.range(this.model.mark_data.length),h=this,d=r.filter(c,function(t){var r=h.model.mark_data[t],o=[i.scale(r.x),s.scale(r.y)];return n(o,e)});(u=d.length>0)&&(this.update_selected(d),l.push({lasso_name:t,indices:d}),this.model.set("selected",l),this.touch())}else{var f=r.filter(l,function(e){return e.lasso_name===t});this.update_selected(f.indices),this.model.set("selected",r.filter(l,function(e){return e.lasso_name!==t})),this.touch()}return u},update_array:function(t,e){var n=this.scales.x,i=this.scales.y;if(!this.model.get("restrict_y")){var r=[];this.model.get_typed_field("x").forEach(function(t){r.push(t)}),r[e]=n.scale.invert(t[0]),this.model.set_typed_field("x",r)}if(!this.model.get("restrict_x")){var o=[];this.model.get_typed_field("y").forEach(function(t){o.push(t)}),o[e]=i.scale.invert(t[1]),this.model.set_typed_field("y",o)}this.touch()},set_drag_behavior:function(){var t=this.d3el.selectAll(".object_grp");this.model.get("enable_move")?t.call(this.drag_listener):t.on(".drag",null)},set_drag_style:function(t,e,n){},reset_drag_style:function(t,e,n){},drag_start:function(t,e,n){var i=this.scales.x,r=this.scales.y;t[0]=i.scale(t.x)+i.offset,t[1]=r.scale(t.y)+r.offset,this.set_drag_style(t,e,n),this.send({event:"drag_start",point:{x:t.x,y:t.y},index:e})},on_drag:function(t,e,n){var r=this.scales.x,o=this.scales.y,s=this.model.get("restrict_x"),a=this.model.get("restrict_y");s&&a||(a||(t[0]=i.event.x),s||(t[1]=i.event.y),i.select(n).attr("transform",function(){return"translate("+t[0]+","+t[1]+")"}),this.send({event:"drag",origin:{x:t.x,y:t.y},point:{x:r.invert(t[0]),y:o.invert(t[1])},index:e}),this.model.get("update_on_move")&&this.update_array(t,e))},drag_ended:function(t,e,n){var i=this.scales.x,r=this.scales.y;this.reset_drag_style(t,e,n),this.update_array(t,e),this.send({event:"drag_end",point:{x:i.invert(t[0]),y:r.invert(t[1])},index:e})},selected_deleter:function(){i.event.stopPropagation()},add_element:function(){var t=i.mouse(this.el),e=[t[0],t[1]],n=this.scales.x,r=this.scales.y,o=[];this.model.get_typed_field("x").forEach(function(t){o.push(t)});var s=[];this.model.get_typed_field("y").forEach(function(t){s.push(t)}),o.push(n.scale.invert(e[0])),s.push(r.scale.invert(e[1])),this.model.set_typed_field("x",o),this.model.set_typed_field("y",s),this.touch()}});t.exports={ScatterBase:a}},function(t,e,n){n(1);var i=n(0),r=n(17),o=r.MarkModel.extend({defaults:function(){return i.extend({},r.MarkModel.prototype.defaults,{_model_name:"ScatterBaseModel",_view_name:"ScatterBase",x:[],y:[],color:null,opacity:null,size:null,rotation:null,hovered_point:null,scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"},color:{dimension:"color"},size:{dimension:"size"},opacity:{dimension:"opacity"},rotation:{dimension:"rotation"}},colors:[],default_opacities:[],enable_move:!1,enable_delete:!1,restrict_x:!1,restrict_y:!1,update_on_move:!1})},initialize:function(){o.__super__.initialize.apply(this,arguments),this.on_some_change(["x","y","color","opacity","size","rotation"],this.update_data,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data()},update_mark_data:function(){var t=this.get_typed_field("x"),e=this.get_typed_field("y"),n=this.get("scales"),i=(n.x,n.y,n.color);if(0===t.length||0===e.length)this.mark_data=[];else{var r=Math.min(t.length,e.length);t=t.slice(0,r);var o=this.get_typed_field("color"),s=this.get_typed_field("size"),a=this.get_typed_field("opacity"),l=this.get_typed_field("rotation");i&&(this.get("preserve_domain").color?i.del_domain([],this.model_id+"_color"):i.compute_and_set_domain(o,this.model_id+"_color")),this.mark_data=t.map(function(t,n){return{x:t,y:e[n],color:o[n],size:s[n],opacity:a[n],rotation:l[n],index:n}})}},update_data:function(){this.dirty=!0,this.update_mark_data(),this.update_unique_ids(),this.update_domains(),this.dirty=!1,this.trigger("data_updated")},update_unique_ids:function(){},get_data_dict:function(t,e){return t},update_domains:function(){if(this.mark_data){var t=this.get("scales");for(var e in t)if(t.hasOwnProperty(e)&&"color"!=e){var n=t[e];this.get("preserve_domain")[e]?n.del_domain([],this.model_id+e):n.compute_and_set_domain(this.mark_data.map(function(t){return t[e]}),this.model_id+e)}}}});t.exports={ScatterBaseModel:o}},function(t,e){t.exports={point_in_lasso:function(t,e){for(var n,i,r,o,s=t[0],a=t[1],l=!1,u=0,c=e.length-1;u<e.length;c=u++)n=e[u][0],r=e[u][1],i=e[c][0],r>a!=(o=e[c][1])>a&&s<(i-n)*(a-r)/(o-r)+n&&(l=!l);return l}}},function(t,e,n){n(0);var i=n(64),r=n(65),o=i.Scale.extend({render:function(){this.scale=d3.scale.linear(),this.model.domain.length>0&&this.scale.domain(this.model.domain),this.offset=0,0===this.model.get("colors").length?this.divergent=this.model.divergent=r.is_divergent(this.model.get("scheme")):this.divergent=this.model.divergent=this.model.get("colors").length>2,this.create_event_listeners(),this.set_range()},create_event_listeners:function(){o.__super__.create_event_listeners.apply(this),this.model.on_some_change(["colors","scheme"],this.colors_changed,this)},set_range:function(){if(this.model.get("colors").length>0){var t=this.model.get("colors");this.divergent?this.scale.range([t[0],t[1],t[2]]):this.scale.range([t[0],t[1]])}else this.scale.range(r.get_linear_scale_range(this.model.get("scheme")));this.model.update_domain()},colors_changed:function(){0===this.model.get("colors").length?this.divergent=this.model.divergent=r.is_divergent(this.model.get("scheme")):this.divergent=this.model.divergent=this.model.get("colors").length>2,this.set_range(),this.trigger("color_scale_range_changed")}});t.exports={ColorScale:o}},function(t,e,n){n(1);var i=n(0),r=n(67),o=r.LinearScaleModel.extend({defaults:function(){return i.extend(r.LinearScaleModel.prototype.defaults(),{_model_name:"DateScaleModel",_view_name:"DateScale"})},initialize:function(){o.__super__.initialize.apply(this,arguments)},set_init_state:function(){this.type="date",this.global_min=(new Date).setTime(0),this.global_max=new Date},min_max_changed:function(){this.min=this.get_date_elem("min"),this.max=this.get_date_elem("max"),this.min_from_data=null===this.min,this.max_from_data=null===this.max,this.update_domain()}});t.exports={DateScaleModel:o}},function(t,e,n){var i=n(0),r=n(1),o=n(14),s=n(98),a=n(9),l=s.symbol,u=o.Mark.extend({render:function(){var t=u.__super__.render.apply(this),e=this;return this.dot=l().size(this.model.get("marker_size")),this.model.get("marker")&&this.dot.type(this.model.get("marker")),this.displayed.then(function(){e.parent.tooltip_div.node().appendChild(e.tooltip_div.node()),e.create_tooltip()}),this.display_el_classes=["line","legendtext","dot"],t.then(function(){e.event_listeners={},e.process_interactions(),e.create_listeners(),e.compute_view_padding(),e.draw()})},set_ranges:function(){var t=this.scales.x;t&&t.set_range(this.parent.padded_range("x",t.model));var e=this.scales.y;e&&e.set_range(this.parent.padded_range("y",e.model))},set_positional_scales:function(){var t=this.scales.x,e=this.scales.y;this.listenTo(t,"domain_changed",function(){this.model.dirty||this.update_line_xy()}),this.listenTo(e,"domain_changed",function(){this.model.dirty||this.update_line_xy()})},initialize_additional_scales:function(){var t=this.scales.color;t&&(this.listenTo(t,"domain_changed",function(){this.update_style()}),t.on("color_scale_range_changed",this.update_style,this))},create_listeners:function(){u.__super__.create_listeners.apply(this),this.d3el.on("mouseover",i.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",i.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",i.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.listenTo(this.model,"change:interpolation",this.update_path_style,this),this.listenTo(this.model,"change:close_path",this.update_path_style,this),this.listenTo(this.model,"change:colors",this.update_style,this),this.listenTo(this.model,"change:opacities",this.update_style,this),this.listenTo(this.model,"change:fill_opacities",this.update_style,this),this.listenTo(this.model,"change:fill_colors",this.update_style,this),this.listenTo(this.model,"change:fill",this.update_fill,this),this.listenTo(this.model,"data_updated",function(){this.draw(!0)},this),this.listenTo(this.model,"labels_updated",this.update_labels,this),this.listenTo(this.model,"change:stroke_width",this.update_stroke_width,this),this.listenTo(this.model,"change:labels_visibility",this.update_legend_labels,this),this.listenTo(this.model,"change:curves_subset",this.update_curves_subset,this),this.listenTo(this.model,"change:line_style",this.update_line_style,this),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")}),this.listenTo(this.model,"change:marker",this.update_marker,this),this.listenTo(this.model,"change:marker_size",this.update_marker_size,this)},update_legend_labels:function(){"none"===this.model.get("labels_visibility")?(this.d3el.selectAll(".legend").attr("display","none"),this.d3el.selectAll(".curve_label").attr("display","none")):"label"===this.model.get("labels_visibility")?(this.d3el.selectAll(".legend").attr("display","none"),this.d3el.selectAll(".curve_label").attr("display","inline")):(this.d3el.selectAll(".legend").attr("display","inline"),this.d3el.selectAll(".curve_label").attr("display","none"))},update_labels:function(){this.d3el.selectAll(".curve").data(this.model.mark_data).select(".curve_label").text(function(t){return t.name})},get_line_style:function(){switch(this.model.get("line_style")){case"solid":return"none";case"dashed":return"10,10";case"dotted":return"2,10";case"dash_dotted":return"10,5,2,5"}},update_line_style:function(){this.d3el.selectAll(".curve").select(".line").style("stroke-dasharray",i.bind(this.get_line_style,this)),this.legend_el&&this.legend_el.select("path").style("stroke-dasharray",i.bind(this.get_line_style,this))},update_stroke_width:function(t,e){this.compute_view_padding(),this.d3el.selectAll(".curve").select(".line").style("stroke-width",e),this.legend_el&&this.legend_el.select("path").style("stroke-width",e)},update_style:function(){var t=this,e=this.model.get("fill"),n=this.model.get("fill_colors"),i=this.model.get("opacities"),r=this.model.get("fill_opacities"),o=this.d3el.selectAll(".curve");o.select(".line").style("opacity",function(t,e){return i[e]}).style("stroke",function(e,i){return t.get_element_color(e,i)||n[i]}).style("fill",function(n,i){return"inside"===e?t.get_fill_color(n,i):""}),o.select(".area").style("fill",function(e,n){return t.get_fill_color(e,n)}).style("opacity",function(t,e){return r[e]}),this.update_marker_style(),this.legend_el&&(this.legend_el.select(".line").style("stroke",function(e,i){return t.get_element_color(e,i)||n[i]}).style("opacity",function(t,e){return i[e]}).style("fill",function(e,n){return"none"===t.model.get("fill")?"":t.get_fill_color(e,n)}),this.legend_el.select(".dot").style("stroke",function(e,i){return t.get_element_color(e,i)||n[i]}).style("opacity",function(t,e){return i[e]}).style("fill",function(e,i){return t.get_element_color(e,i)||n[i]}),this.legend_el.select("text").style("fill",function(e,i){return t.get_element_color(e,i)||n[i]}).style("opacity",function(t,e){return i[e]})),this.update_stroke_width(this.model,this.model.get("stroke_width")),this.update_line_style()},path_closure:function(){return this.model.get("close_path")?"Z":""},update_path_style:function(){var t=this.model.get("interpolation");this.line.interpolate(t),this.area.interpolate(t);var e=this;this.d3el.selectAll(".curve").select(".line").attr("d",function(t){return e.line(t.values)+e.path_closure()}),this.d3el.selectAll(".curve").select(".area").transition("update_path_style").duration(0).attr("d",function(t){return e.area(t.values)}),this.legend_el&&(this.legend_line.interpolate(t),this.legend_el.selectAll("path").attr("d",this.legend_line(this.legend_path_data)+this.path_closure()))},relayout:function(){this.set_ranges(),this.update_line_xy()},invert_range:function(t,e){if(void 0===t||void 0===e)return this.model.set("selected",null),this.touch(),[];this.scales.x;var n=i.range(this.x_pixels.length),r=this,o=i.filter(n,function(n){var i=r.x_pixels[n];return i>=t&&i<=e});this.model.set("selected",o),this.touch()},invert_point:function(t){if(void 0===t)return this.model.set("selected",null),void this.touch();this.scales.x;var e=Math.min(this.bisect(this.x_pixels,t),Math.max(this.x_pixels.length-1,0));this.model.set("selected",[e]),this.touch()},update_multi_range:function(t){this.scales.x,this.scales.y;var e=t[0],n=t[1],i=this.model.x_data[0]instanceof Array?this.model.x_data[0]:this.model.x_data,r=this.bisect(i,e),o=Math.min(this.bisect(i,n),Math.max(i.length-1,0));this.selector_model.set("selected",[r,o]),this.selector.touch()},draw_legend:function(t,e,n,o,s){var a=this.model.get_labels(),l=this.model.mark_data.map(function(t){return{index:t.index,name:t.name,color:t.color}});this.legend_el=t.selectAll(".legend"+this.uuid).data(l);var u=this,c=.8*s,h=this.model.get("fill_colors"),d=this.model.get("opacities");this.legend_line=r.svg.line().interpolate(this.model.get("interpolation")).x(function(t){return t[0]}).y(function(t){return t[1]}),this.legend_path_data=[[0,c],[c/2,0],[c,c/2]];var f=this.legend_el.enter().append("g").attr("class","legend"+this.uuid).attr("transform",function(t,e){return"translate(0, "+(e*s+n)+")"}).on("mouseover",i.bind(function(){this.event_dispatcher("legend_mouse_over")},this)).on("mouseout",i.bind(function(){this.event_dispatcher("legend_mouse_out")},this)).on("click",i.bind(function(){this.event_dispatcher("legend_clicked")},this));f.append("path").attr("class","line").attr("fill","none").attr("d",this.legend_line(this.legend_path_data)+this.path_closure()).style("stroke",function(t,e){return u.get_element_color(t,e)||h[e]}).style("fill",function(t,e){return"none"===u.model.get("fill")?"":u.get_fill_color(t,e)}).style("opacity",function(t,e){return d[e]}).style("stroke-width",this.model.get("stroke_width")).style("stroke-dasharray",i.bind(this.get_line_style,this)),this.model.get("marker")&&f.append("path").attr("class","dot").attr("transform","translate("+c/2+",0)").attr("d",u.dot.size(25)).style("fill",function(t,e){return u.get_element_color(t,e)}),this.legend_el.append("text").attr("class","legendtext").attr("x",1.2*c).attr("y",c/2).attr("dy","0.35em").text(function(t,e){return a[e]}).style("fill",function(t,e){return u.get_element_color(t,e)||h[e]}).style("opacity",function(t,e){return d[e]});var p=r.max(a,function(t){return t.length});return this.legend_el.exit().remove(),[this.model.mark_data.length,p]},update_curves_subset:function(){var t="label"===this.model.get("labels_visibility"),e=this.model.get("curves_subset");e.length>0?(this.d3el.selectAll(".curve").attr("display",function(t,n){return-1!==e.indexOf(n)?"inline":"none"}).select(".curve_label").attr("display",function(n,i){return-1!==e.indexOf(i)&&t?"inline":"none"}),this.legend_el&&this.legend_el.attr("display",function(t,n){return-1!==e.indexOf(n)?"inline":"none"}),this.d3el.selectAll(".curve")):(this.d3el.selectAll(".curve").attr("display","inline").select(".curve_label").attr("display",function(e){return t?"inline":"none"}),this.legend_el&&this.legend_el.attr("display","inline"))},update_fill:function(){var t=this.model.get("fill"),e="top"===t||"bottom"===t;this.area.y0("bottom"===t?this.parent.plotarea_height:0).defined(function(t){return e&&null!==t.y});var n=this;this.d3el.selectAll(".curve").select(".area").attr("d",function(t){return n.area(t.values)}),this.d3el.selectAll(".curve").select(".line").style("fill",function(e,i){return"inside"===t?n.get_fill_color(e,i):""}),this.legend_el&&this.legend_el.select("path").style("fill",function(e,i){return"none"===t?"":n.get_fill_color(e,i)})},get_element_color:function(t,e){var n=this.scales.color;return n&&void 0!==t.color&&null!==t.color?n.scale(t.color):this.get_colors(e)},get_fill_color:function(t,e){var n=this.model.get("fill_colors");return 0===n.length?this.get_element_color(t,e):n[e]},update_line_xy:function(t){var e=this.scales.x,n=this.scales.y,i=!0===t?this.parent.model.get("animation_duration"):0;this.line.x(function(t){return e.scale(t.x)+e.offset}).y(function(t){return n.scale(t.y)+n.offset});var r=this.model.get("fill");this.area.x(function(t){return e.scale(t.x)+e.offset}).y0("bottom"===r?this.parent.plotarea_height:0).y1(function(t){return n.scale(t.y)+n.offset});var o=this,s=this.d3el.selectAll(".curve");s.select(".line").transition("update_line_xy").duration(i).attr("d",function(t){return o.line(t.values)+o.path_closure()}),s.select(".area").transition("update_line_xy").duration(i).attr("d",function(t){return o.area(t.values)}),s.select(".curve_label").transition("update_line_xy").duration(i).attr("transform",function(t){var i=t.values[t.values.length-1];return"translate("+e.scale(i.x)+","+n.scale(i.y)+")"}),this.update_dots_xy(t),this.x_pixels=this.model.mark_data.length>0?this.model.mark_data[0].values.map(function(t){return e.scale(t.x)+e.offset}):[]},draw:function(t){this.set_ranges();var e=this.d3el.selectAll(".curve").data(this.model.mark_data),n=this.scales.y,o=e.enter().append("g").attr("class","curve");o.append("path").attr("class","line").attr("fill","none"),o.append("path").attr("class","area"),o.append("text").attr("class","curve_label").attr("x",3).attr("dy",".35em").attr("display","label"!==this.model.get("labels_visibility")?"none":"inline").text(function(t){return t.name});var s=this.model.get("fill"),a="top"===s||"bottom"===s;e.select(".line").attr("id",function(t,e){return"curve"+(e+1)}).on("click",i.bind(function(){this.event_dispatcher("element_clicked")},this)),this.draw_dots(),this.line=r.svg.line().interpolate(this.model.get("interpolation")).defined(function(t){return null!==t.y&&isFinite(n.scale(t.y))}),this.area=r.svg.area().interpolate(this.model.get("interpolation")).defined(function(t){return a&&null!==t.y&&isFinite(n.scale(t.y))}),e.exit().remove(),this.update_line_xy(t),this.update_style(),this.update_curves_subset()},draw_dots:function(){if(this.model.get("marker")){var t=this.d3el.selectAll(".curve").selectAll(".dot").data(function(t,e){return t.values.map(function(t){return{x:t.x,y:t.y,sub_index:t.sub_index}})});t.enter().append("path").attr("class","dot"),t.exit().remove()}},update_dots_xy:function(t){if(this.model.get("marker")){var e=this.scales.x,n=this.scales.y,i=!0===t?this.parent.model.get("animation_duration"):0;this.d3el.selectAll(".curve").selectAll(".dot").transition("update_dots_xy").duration(i).attr("transform",function(t){return"translate("+(e.scale(t.x)+e.offset)+","+(n.scale(t.y)+n.offset)+")"}).attr("d",this.dot.size(this.model.get("marker_size")).type(this.model.get("marker")))}},compute_view_padding:function(){var t;if(this.model.get("marker")){var e=Math.sqrt(this.model.get("marker_size"))/2+1,n=this.model.get("stroke_width")/2;t=Math.max(e,n)}else t=this.model.get("stroke_width")/2;var i=t;t===this.x_padding&&i===this.y_padding||(this.x_padding=t,this.y_padding=i,this.trigger("mark_padding_updated"))},update_marker_style:function(){var t=this,e=this.model.get("fill_colors"),n=this.model.get("opacities");this.d3el.selectAll(".curve").each(function(i,o){r.select(this).selectAll(".dot").style("opacity",n[o]).style("fill",t.get_element_color(i,o)||e[o])})},update_marker:function(t,e){e?(this.draw_dots(),this.update_dots_xy(),this.update_marker_style(),this.legend_el&&this.legend_el.select(".dot").attr("d",this.dot.type(e).size(25))):(this.d3el.selectAll(".dot").remove(),this.legend_el&&this.legend_el.select(".dot").attr("d",this.dot.size(0)))},update_marker_size:function(t,e){this.compute_view_padding(),this.d3el.selectAll(".dot").attr("d",this.dot.size(e))},update_selected_in_lasso:function(t,e,n){var r=this.scales.x,o=this.scales.y,s=this.model.get("selected"),l=s?a.deepCopy(s):[],u=!1;return null!==e&&e.length>0?(i.each(this.model.mark_data,function(s){var a=s.name,c=s.values,h=i.range(c.length),d=i.filter(h,function(t){var i=c[t],s=[r.scale(i.x),o.scale(i.y)];return n(s,e)});d.length>0&&(u=!0,l.push({line_name:a,lasso_name:t,indices:d}))}),this.model.set("selected",l),this.touch()):(this.model.set("selected",i.filter(l,function(e){return e.lasso_name!==t})),this.touch()),u},process_interactions:function(){var t=this.model.get("interactions");i.isEmpty(t)?this.reset_interactions():(void 0!==t.click&&null!==t.click?"tooltip"===t.click&&(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):this.reset_click(),void 0!==t.hover&&null!==t.hover?"tooltip"===t.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover(),void 0!==t.legend_hover&&null!==t.legend_hover?"highlight_axes"===t.legend_hover&&(this.event_listeners.legend_mouse_over=i.bind(this.highlight_axes,this),this.event_listeners.legend_mouse_out=i.bind(this.unhighlight_axes,this)):this.reset_legend_hover())}});t.exports={Lines:u}},function(t,e,n){var i=n(2),r=n(1),o=n(0),s=n(184),a=n(185);a.__esModule&&(a=a.default);var l=i.DOMWidgetView.extend({initialize:function(){this.el.classList.add("bqplot"),this.el.classList.add("figure"),this.el.classList.add("jupyter-widgets");var t=document.createElementNS(r.ns.prefix.svg,"svg");this.el.appendChild(t),this.svg=r.select(t),l.__super__.initialize.apply(this,arguments)},_get_height_width:function(t,e){var n=this.model.get("max_aspect_ratio"),i=this.model.get("min_aspect_ratio"),r={},o=void 0===e||isNaN(e)||e<=0,s=void 0===t||isNaN(t)||e<=0;o&&s?(t=480,e=640):s?t=e/i:o&&(e=t*i);var a=e/t;return a<=n&&a>=i?(r.width=e,r.height=t):a>n?(r.height=t,r.width=t*n):(r.width=e,r.height=e/i),r},render:function(){var t=String(this.model.get("layout").get("min_width")),e=String(this.model.get("layout").get("min_height")),n=this._get_height_width(e.slice(0,-2),t.slice(0,-2));this.width=n.width,this.height=n.height,this.id=i.uuid(),this.x_pad_dict={},this.y_pad_dict={},this.x_padding_arr={},this.y_padding_arr={},this.figure_padding_x=this.model.get("padding_x"),this.figure_padding_y=this.model.get("padding_y"),this.clip_id="clip_path_"+this.id,this.margin=this.model.get("fig_margin"),this.update_plotarea_dimensions(),this.fig=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.tooltip_div=r.select(document.createElement("div")).attr("class","tooltip_div"),this.popper_reference=new s.PositionReference({x:0,y:0,width:20,height:20}),this.popper=new a(this.popper_reference,this.tooltip_div.node(),{placement:"auto"}),this.bg=this.fig.append("rect").attr("class","plotarea_background").attr("x",0).attr("y",0).attr("width",this.plotarea_width).attr("height",this.plotarea_height).on("click",function(){l.trigger("bg_clicked")}).style("pointer-events","all").style(this.model.get("background_style")),this.fig_axes=this.fig.append("g"),this.fig_marks=this.fig.append("g"),this.interaction=this.fig.append("g"),this.clip_path=this.svg.append("svg:defs").append("svg:clipPath").attr("id",this.clip_id).append("rect").attr("x",0).attr("y",0).attr("width",this.plotarea_width).attr("height",this.plotarea_height),this.title=this.fig.append("text").attr("class","mainheading").attr({x:.5*this.plotarea_width,y:-this.margin.top/2,dy:"1em"}).text(this.model.get("title")).style(this.model.get("title_style")),this.model.on("save_png",this.save_png,this);var o=this.create_figure_scales(),l=this;o.then(function(){l.mark_views=new i.ViewList(l.add_mark,l.remove_mark,l),l.mark_views.update(l.model.get("marks")),Promise.all(l.mark_views.views).then(function(t){l.replace_dummy_nodes(t),l.update_marks(t),l.update_legend(),l.set_interaction(l.model.get("interaction"))}),l.axis_views=new i.ViewList(l.add_axis,null,l),l.axis_views.update(l.model.get("axes")),l.model.on_some_change(["fig_margin","min_aspect_ration","max_aspect_ratio","preserve_aspect"],l.relayout,l),l.model.on_some_change(["padding_x","padding_y"],function(){this.figure_padding_x=this.model.get("padding_x"),this.figure_padding_y=this.model.get("padding_y"),this.trigger("margin_updated")},l),l.model.on("change:axes",function(t,e,n){this.axis_views.update(e)},l),l.model.on("change:marks",function(t,e,n){this.mark_views.update(e),Promise.all(this.mark_views.views).then(function(t){l.replace_dummy_nodes(t),l.update_marks(t),l.update_legend()})},l),l.model.on("change:legend_location",l.update_legend,l),l.model.on("change:title",l.update_title,l),l.model.on("change:interaction",function(t,e){this.set_interaction(e)},l),l.displayed.then(function(t){document.body.appendChild(l.tooltip_div.node()),l.create_listeners(),void 0!==t&&!0===t.add_to_dom_only||l.relayout(),l.model.on("msg:custom",l.handle_custom_messages,l)})})},handle_custom_messages:function(t){"save_png"===t.type&&this.save_png()},replace_dummy_nodes:function(t){o.each(t,function(t){null!==t.dummy_node&&(t.dummy_node.parentNode.replaceChild(t.el,t.dummy_node),t.dummy_node=null,this.displayed.then(function(){t.trigger("displayed")}))},this)},create_listeners:function(){this.listenTo(this.model,"change:title_style",this.title_style_updated,this),this.listenTo(this.model,"change:background_style",this.background_style_updated,this),this.listenTo(this.model,"change:layout",this.change_layout,this),this.listenTo(this.model,"change:legend_style",this.legend_style_updated,this),this.listenTo(this.model,"change:legend_text",this.legend_text_updated,this)},title_style_updated:function(){this.title.style(this.model.get("title_style"))},background_style_updated:function(){this.bg.style(this.model.get("background_style"))},legend_style_updated:function(){this.fig_marks.selectAll(".g_legend").selectAll(".axis").selectAll("rect").style(this.model.get("legend_style"))},legend_text_updated:function(){this.fig_marks.selectAll(".g_legend").selectAll("text.legendtext").style(this.model.get("legend_text"))},create_figure_scales:function(){var t=this,e=this.create_child_view(this.model.get("scale_x")).then(function(e){t.scale_x=e,t.scale_x.scale.clamp(!0),t.scale_x.set_range([0,t.plotarea_width])}),n=this.create_child_view(this.model.get("scale_y")).then(function(e){t.scale_y=e,t.scale_y.scale.clamp(!0),t.scale_y.set_range([t.plotarea_height,0])});return Promise.all([e,n])},padded_range:function(t,e){var n,i;if(!e.get("allow_padding"))return this.range(t);var r=e.model_id;return"x"===t?(n=void 0!==this.x_padding_arr[r]?this.x_padding_arr[r]:0,[(i=this.plotarea_width*this.figure_padding_x)+n,this.plotarea_width-i-n]):"y"===t?(n=void 0!==this.y_padding_arr[r]?this.y_padding_arr[r]:0,i=this.plotarea_height*this.figure_padding_y,[this.plotarea_height-n-i,n+i]):void 0},range:function(t){return"x"===t?[0,this.plotarea_width]:"y"===t?[this.plotarea_height,0]:void 0},get_mark_plotarea_height:function(t){if(!t.get("allow_padding"))return this.plotarea_height;var e=t.model_id,n=void 0!==this.y_padding_arr[e]?this.y_padding_arr[e]:0;return this.plotarea_height*(1-this.figure_padding_y)-n-n},get_mark_plotarea_width:function(t){if(!t.get("allow_padding"))return this.plotarea_width;var e=t.model_id,n=void 0!==this.x_padding_arr[e]?this.x_padding_arr[e]:0;return this.plotarea_width*(1-this.figure_padding_x)-n-n},add_axis:function(t){var e=this;return this.create_child_view(t).then(function(t){return e.fig_axes.node().appendChild(t.el),e.displayed.then(function(){t.trigger("displayed")}),t})},remove_from_padding_dict:function(t,e,n){if(null!=n){var i=n.model_id;void 0!==t[i]&&(delete t[i][e.model.model_id+"_"+e.cid],0===Object.keys(t[i]).length&&delete t[i])}},update_padding_dict:function(t,e,n,i){var r=n.model_id;t[r]||(t[r]={}),t[r][e.model.model_id+"_"+e.cid]=i},mark_scales_updated:function(t){var e=t.model,n=e.previous("scales");this.remove_from_padding_dict(this.x_pad_dict,t,n[e.get_key_for_orientation("horizontal")]),this.remove_from_padding_dict(this.y_pad_dict,t,n[e.get_key_for_orientation("vertical")]);var i=e.get("scales");this.update_padding_dict(this.x_pad_dict,t,i[e.get_key_for_orientation("horizontal")],t.x_padding),this.update_padding_dict(this.y_pad_dict,t,i[e.get_key_for_orientation("vertical")],t.y_padding),this.update_paddings()},mark_padding_updated:function(t){var e=t.model,n=e.get("scales");this.update_padding_dict(this.x_pad_dict,t,n[e.get_key_for_orientation("horizontal")],t.x_padding),this.update_padding_dict(this.y_pad_dict,t,n[e.get_key_for_orientation("vertical")],t.y_padding),this.update_paddings()},update_marks:function(t){this.update_paddings()},remove_mark:function(t){var e=t.model;e.off("redraw_legend",null,this),e.off("data_updated",null,this),e.off("scales_updated",null,this),e.off("mark_padding_updated",null,this);var n=e.get("scales");this.remove_from_padding_dict(this.x_pad_dict,t,n[e.get_key_for_orientation("horizontal")]),this.remove_from_padding_dict(this.y_pad_dict,t,n[e.get_key_for_orientation("vertical")]),t.remove()},add_mark:function(t){var e=this;t.state_change.then(function(){t.on("data_updated redraw_legend",e.update_legend,e)});var n=e.fig_marks.node().appendChild(document.createElementNS(r.ns.prefix.svg,"g"));return e.create_child_view(t,{clip_id:e.clip_id}).then(function(t){t.dummy_node=n,t.on("mark_padding_updated",function(){e.mark_padding_updated(t)},e),t.on("mark_scales_updated",function(){e.mark_scales_updated(t)},e);var i=t.model.get("scales")[t.model.get_key_for_dimension("x")],r=t.model.get("scales")[t.model.get_key_for_dimension("y")];return void 0===i&&(i=e.scale_x.model),void 0===r&&(r=e.scale_y.model),e.update_padding_dict(e.x_pad_dict,t,i,t.x_padding),e.update_padding_dict(e.y_pad_dict,t,r,t.y_padding),t})},update_paddings:function(){var t=0;this.x_padding_arr={},this.y_padding_arr={};var e=this;o.forEach(this.x_pad_dict,function(n,i){t=0,o.forEach(n,function(e,n){t=Math.max(t,e)}),e.x_padding_arr[i]=t}),o.forEach(this.y_pad_dict,function(n,i){t=0,o.forEach(n,function(e,n){t=Math.max(t,e)}),e.y_padding_arr[i]=t}),this.trigger("margin_updated")},update_plotarea_dimensions:function(){this.plotarea_width=this.width-this.margin.left-this.margin.right,this.plotarea_height=this.height-this.margin.top-this.margin.bottom},processPhosphorMessage:function(t){switch(l.__super__.processPhosphorMessage.apply(this,arguments),t.type){case"resize":case"after-show":this.relayout()}},relayout:function(){var t=this,e=this._get_height_width(this.el.clientHeight,this.el.clientWidth);t.width=e.width,t.height=e.height,window.requestAnimationFrame(function(){t.margin=t.model.get("fig_margin"),t.update_plotarea_dimensions(),void 0!==t.scale_x&&null!==t.scale_x&&t.scale_x.set_range([0,t.plotarea_width]),void 0!==t.scale_y&&null!==t.scale_y&&t.scale_y.set_range([t.plotarea_height,0]),t.fig.attr("transform","translate("+t.margin.left+","+t.margin.top+")"),t.title.attr({x:.5*t.plotarea_width,y:-t.margin.top/2,dy:"1em"}),t.bg.attr("width",t.plotarea_width).attr("height",t.plotarea_height),t.clip_path.attr("width",t.plotarea_width).attr("height",t.plotarea_height),t.trigger("margin_updated"),t.update_legend()})},update_legend:function(){this.fig_marks.selectAll(".g_legend").remove();this.model.get("marks").length;var t=this.model.get("legend_location"),e=this.fig_marks.append("g").attr("class","g_legend"),n=this,i=1,r=1;void 0!==this.mark_views&&null!==this.mark_views&&Promise.all(this.mark_views.views).then(function(o){o.forEach(function(t){if(t.model.get("display_legend")){var n=t.draw_legend(e,0,16*i,0,16);i+=n[0],r=n[1]?Math.max(r,n[1]):r}});var s=n.get_legend_coords(t,24,16*(i+1),0);1!==i&&e.insert("g",":first-child").attr("class","axis").append("rect").attr({y:8,x:-8}).attr("width",r+2+"em").attr("height",16*i),r="top-right"===t||"right"===t||"bottom-right"===t?-(r+2):1;e.attr("transform","translate("+String(s[0]+16*r)+" "+String(s[1])+") "),e.selectAll("text.legendtext").style(n.model.get("legend_text")),e.selectAll(".axis").selectAll("rect").style(n.model.get("legend_style"))})},get_legend_coords:function(t,e,n,i){var r=0,o=0,s=this.plotarea_width,a=this.plotarea_height;switch(t){case"top":r=.5*s-e,o=0;break;case"top-right":r=s-i,o=0;break;case"right":r=s-i,o=.5*a-n;break;case"bottom-right":r=s-i,o=a-n;break;case"bottom":r=.5*s-e,o=a-n;break;case"bottom-left":r=0,o=a-n;break;case"left":r=0,o=.5*a-n;break;default:r=0,o=0}return[r,o]},set_interaction:function(t){if(t){var e=this;t.state_change.then(function(){e.create_child_view(t).then(function(t){e.interaction_view&&e.interaction_view.remove(),e.interaction_view=t,e.interaction.node().appendChild(t.el),e.displayed.then(function(){t.trigger("displayed")})})})}else this.interaction_view&&this.interaction_view.remove()},update_title:function(t,e){this.title.text(this.model.get("title"))},remove:function(){return void 0!==this.mark_views&&null!==this.mark_views&&this.mark_views.remove(),void 0!==this.axis_views&&null!==this.axis_views&&this.axis_views.remove(),void 0!==this.tooltip_div&&this.tooltip_div.remove(),l.__super__.remove.apply(this,arguments)},save_png:function(){var t,e,n,i,r=function(t){var e=t.cloneNode(!0);e.setAttribute("version","1.1"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.style.background=window.getComputedStyle(document.body).background;var n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML="<![CDATA[\n"+function(t,e){for(var n,i,r,o="",s=document.styleSheets,a=0;a<s.length;a++){var l=s[a].cssRules;if(l)for(var u=0;u<l.length;u++){var c=l[u];if(void 0!==c.style){var h=null;try{h=t.querySelectorAll(c.selectorText)}catch(t){console.warn("Invalid CSS selector '"+c.selectorText+"'",t)}if(h){if(t.querySelectorAll(c.selectorText).length>0){n=c.selectorText;for(var d=0;d<e.length;d++)i=e[d],r="",n=n.replace(new RegExp(i,"g"),r);o+=n+" { "+c.style.cssText+" }\n"}}else c.cssText.match(/^@font-face/)&&(o+=c.cssText+"\n")}}}return o+="svg { font-size: 10px; }\n"}(t,[".theme-dark",".theme-light",".bqplot > "])+"\n]]>";var i=document.createElement("defs");return i.appendChild(n),e.insertBefore(i,e.firstChild),e.outerHTML}(this.svg.node());t=r,e=this.width,n=this.height,(i=new Image).onload=function(){var t=document.createElement("canvas");t.classList.add("bqplot"),t.width=e,t.height=n,t.getContext("2d").drawImage(i,0,0);var r=document.createElement("a");r.download="image.png",r.href=t.toDataURL("image/png"),document.body.appendChild(r),r.click()},i.src="data:image/svg+xml;base64,"+btoa(t)}});t.exports={Figure:l}},function(t,e){var n=function(){function t(t){this.elt=t}return t.prototype.getBoundingClientRect=function(){return this.elt.getBoundingClientRect()},Object.defineProperty(t.prototype,"clientWidth",{get:function(){return this.elt.clientWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientHeight",{get:function(){return this.elt.clientHeight},enumerable:!0,configurable:!0}),t}(),i=function(){function t(t){var e=t.x,n=t.y,i=t.width,r=t.height;this.x=e,this.y=n,this.width=i,this.height=r}return t.prototype.getBoundingClientRect=function(){var t=this.width/2,e=this.height/2;return{left:this.x-t,right:this.x+t,top:this.y-e,bottom:this.y+e,width:this.width,height:this.height}},Object.defineProperty(t.prototype,"clientWidth",{get:function(){return this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientHeight",{get:function(){return this.height},enumerable:!0,configurable:!0}),t}();t.exports={ElementReference:n,PositionReference:i}},function(t,e,n){"use strict";n.r(e),function(t){for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.14.6
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document,i=["Edge","Trident","Firefox"],r=0,o=0;o<i.length;o+=1)if(n&&navigator.userAgent.indexOf(i[o])>=0){r=1;break}var s=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},r))}};function a(t){return t&&"[object Function]"==={}.toString.call(t)}function l(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function u(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function c(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=l(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:c(u(t))}var h=n&&!(!window.MSInputMethodContext||!document.documentMode),d=n&&/MSIE 10/.test(navigator.userAgent);function f(t){return 11===t?h:10===t?d:h||d}function p(t){if(!t)return document.documentElement;for(var e=f(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===l(n,"position")?p(n):n:t?t.ownerDocument.documentElement:document.documentElement}function _(t){return null!==t.parentNode?_(t.parentNode):t}function g(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,l=o.commonAncestorContainer;if(t!==l&&e!==l||i.contains(r))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&p(s.firstElementChild)!==s?p(l):l;var u=_(t);return u.host?g(u.host,e):g(t,_(e).host)}function m(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function v(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function y(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],f(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function b(t){var e=t.body,n=t.documentElement,i=f(10)&&getComputedStyle(n);return{height:y("Height",e,n,i),width:y("Width",e,n,i)}}var w=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),k=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function E(t){return M({},t,{right:t.left+t.width,bottom:t.top+t.height})}function j(t){var e={};try{if(f(10)){e=t.getBoundingClientRect();var n=m(t,"top"),i=m(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?b(t.ownerDocument):{},s=o.width||t.clientWidth||r.right-r.left,a=o.height||t.clientHeight||r.bottom-r.top,u=t.offsetWidth-s,c=t.offsetHeight-a;if(u||c){var h=l(t);u-=v(h,"x"),c-=v(h,"y"),r.width-=u,r.height-=c}return E(r)}function S(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=f(10),r="HTML"===e.nodeName,o=j(t),s=j(e),a=c(t),u=l(e),h=parseFloat(u.borderTopWidth,10),d=parseFloat(u.borderLeftWidth,10);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=E({top:o.top-s.top-h,left:o.left-s.left-d,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!i&&r){var _=parseFloat(u.marginTop,10),g=parseFloat(u.marginLeft,10);p.top-=h-_,p.bottom-=h-_,p.left-=d-g,p.right-=d-g,p.marginTop=_,p.marginLeft=g}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=m(e,"top"),r=m(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(p,e)),p}function C(t){if(!t||!t.parentElement||f())return document.documentElement;for(var e=t.parentElement;e&&"none"===l(e,"transform");)e=e.parentElement;return e||document.documentElement}function A(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?C(t):g(t,e);if("viewport"===i)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=S(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:m(n),a=e?0:m(n,"left");return E({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}(s,r);else{var a=void 0;"scrollParent"===i?"BODY"===(a=c(u(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===i?t.ownerDocument.documentElement:i;var h=S(a,s,r);if("HTML"!==a.nodeName||function t(e){var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===l(e,"position")||t(u(e)))}(s))o=h;else{var d=b(t.ownerDocument),f=d.height,p=d.width;o.top+=h.top-h.marginTop,o.bottom=f+h.top,o.left+=h.left-h.marginLeft,o.right=p+h.left}}var _="number"==typeof(n=n||0);return o.left+=_?n:n.left||0,o.top+=_?n:n.top||0,o.right-=_?n:n.right||0,o.bottom-=_?n:n.bottom||0,o}function O(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=A(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(t){return M({key:t},a[t],{area:(e=a[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),u=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,h=t.split("-")[1];return c+(h?"-"+h:"")}function T(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return S(n,i?C(e):g(e,n),i)}function P(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function D(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function L(t,e,n){n=n.split("-")[0];var i=P(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return r[s]=e[s]+e[l]/2-i[l]/2,r[a]=n===a?e[a]-i[u]:e[D(a)],r}function R(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function I(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=R(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&a(n)&&(e.offsets.popper=E(e.offsets.popper),e.offsets.reference=E(e.offsets.reference),e=n(e,t))}),e}function B(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function N(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function z(t){var e=t.ownerDocument;return e?e.defaultView:window}function F(t,e,n,i){n.updateBound=i,z(t).addEventListener("resize",n.updateBound,{passive:!0});var r=c(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,s=o?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0}),o||t(c(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function q(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,z(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function U(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function H(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&U(e[n])&&(i="px"),t.style[n]=e[n]+i})}var W=n&&/Firefox/i.test(navigator.userAgent);function V(t,e,n){var i=R(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var K=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$=K.slice(3);function G(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=$.indexOf(t),i=$.slice(n+1).concat($.slice(0,n));return e?i.reverse():i}var Y={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function J(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=s.indexOf(R(s,function(t){return-1!==t.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(u=u.map(function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return E(a)[e]/100*o}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){U(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}var X={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",u=a?"width":"height",c={start:k({},l,o[l]),end:k({},l,o[l]+o[u]-s[u])};t.offsets.popper=M({},s,c[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],l=void 0;return l=U(+n)?[+n,0]:J(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||p(t.instance.popper);t.instance.reference===n&&(n=p(n));var i=N("transform"),r=t.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=A(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=s,r[i]=a,e.boundaries=l;var u=e.priority,c=t.offsets.popper,h={primary:function(t){var n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),k({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),k({},n,i)}};return u.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=M({},c,h[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return n[a]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[u]),n[l]>o(i[a])&&(t.offsets.popper[l]=o(i[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!V(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,u=-1!==["left","right"].indexOf(r),c=u?"height":"width",h=u?"Top":"Left",d=h.toLowerCase(),f=u?"left":"top",p=u?"bottom":"right",_=P(i)[c];a[p]-_<s[d]&&(t.offsets.popper[d]-=s[d]-(a[p]-_)),a[d]+_>s[p]&&(t.offsets.popper[d]+=a[d]+_-s[p]),t.offsets.popper=E(t.offsets.popper);var g=a[d]+a[c]/2-_/2,m=l(t.instance.popper),v=parseFloat(m["margin"+h],10),y=parseFloat(m["border"+h+"Width"],10),b=g-t.offsets.popper[d]-v-y;return b=Math.max(Math.min(s[c]-_,b),0),t.arrowElement=i,t.offsets.arrow=(k(n={},d,Math.round(b)),k(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(B(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=A(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=D(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case Y.FLIP:s=[i,r];break;case Y.CLOCKWISE:s=G(i);break;case Y.COUNTERCLOCKWISE:s=G(i,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],r=D(i);var u=t.offsets.popper,c=t.offsets.reference,h=Math.floor,d="left"===i&&h(u.right)>h(c.left)||"right"===i&&h(u.left)<h(c.right)||"top"===i&&h(u.bottom)>h(c.top)||"bottom"===i&&h(u.top)<h(c.bottom),f=h(u.left)<h(n.left),p=h(u.right)>h(n.right),_=h(u.top)<h(n.top),g=h(u.bottom)>h(n.bottom),m="left"===i&&f||"right"===i&&p||"top"===i&&_||"bottom"===i&&g,v=-1!==["top","bottom"].indexOf(i),y=!!e.flipVariations&&(v&&"start"===o&&f||v&&"end"===o&&p||!v&&"start"===o&&_||!v&&"end"===o&&g);(d||m||y)&&(t.flipped=!0,(d||m)&&(i=s[l+1]),y&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=M({},t.offsets.popper,L(t.instance.popper,t.offsets.reference,t.placement)),t=I(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=D(e),t.offsets.popper=E(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!V(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=R(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=R(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=p(t.instance.popper),l=j(a),u={position:r.position},c=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=-1!==["left","right"].indexOf(t.placement),s=-1!==t.placement.indexOf("-"),a=r.width%2==i.width%2,l=r.width%2==1&&i.width%2==1,u=function(t){return t},c=e?o||s||a?Math.round:Math.floor:u,h=e?Math.round:u;return{left:c(l&&!s&&e?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:c(i.right)}}(t,window.devicePixelRatio<2||!W),h="bottom"===n?"top":"bottom",d="right"===i?"left":"right",f=N("transform"),_=void 0,g=void 0;if(g="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+c.bottom:-l.height+c.bottom:c.top,_="right"===d?"HTML"===a.nodeName?-a.clientWidth+c.right:-l.width+c.right:c.left,s&&f)u[f]="translate3d("+_+"px, "+g+"px, 0)",u[h]=0,u[d]=0,u.willChange="transform";else{var m="bottom"===h?-1:1,v="right"===d?-1:1;u[h]=g*m,u[d]=_*v,u.willChange=h+", "+d}var y={"x-placement":t.placement};return t.attributes=M({},y,t.attributes),t.styles=M({},u,t.styles),t.arrowStyles=M({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return H(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&H(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=T(r,e,t,n.positionFixed),s=O(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),H(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Z=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=s(this.update.bind(this)),this.options=M({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(M({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=M({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return M({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&a(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return x(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=T(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=O(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=L(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=I(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,B(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[N("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return q.call(this)}}]),t}();Z.Utils=("undefined"!=typeof window?window:t).PopperUtils,Z.placements=K,Z.Defaults=X,e.default=Z}.call(this,n(10))},function(t,e,n){"use strict";n.r(e);var i=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},r=function(t){return(t=i(Math.abs(t)))?t[1]:NaN},o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(t){return new a(t)}function a(t){if(!(e=o.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}s.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var l,u,c,h,d=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(r>0){if(!+t[i])break t;r=0}}return r>0?t.slice(0,r)+t.slice(e+1):t},f=function(t,e){var n=i(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")},p={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return f(100*t,e)},r:f,s:function(t,e){var n=i(t,e);if(!n)return t+"";var r=n[0],o=n[1],s=o-(l=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+i(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},_=function(t){return t},g=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],m=function(t){var e,n,i=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,i){for(var r=t.length,o=[],s=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[s=(s+1)%e.length];return o.reverse().join(n)}):_,o=t.currency,a=t.decimal,u=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):_,c=t.percent||"%";function h(t){var e=(t=s(t)).fill,n=t.align,r=t.sign,h=t.symbol,f=t.zero,_=t.width,m=t.comma,v=t.precision,y=t.trim,b=t.type;"n"===b?(m=!0,b="g"):p[b]||(null==v&&(v=12),y=!0,b="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var w="$"===h?o[0]:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===h?o[1]:/[%p]/.test(b)?c:"",k=p[b],M=/[defgprs%]/.test(b);function E(t){var o,s,c,h=w,p=x;if("c"===b)p=k(t)+p,t="";else{var E=(t=+t)<0;if(t=k(Math.abs(t),v),y&&(t=d(t)),E&&0==+t&&(E=!1),h=(E?"("===r?r:"-":"-"===r||"("===r?"":r)+h,p=("s"===b?g[8+l/3]:"")+p+(E&&"("===r?")":""),M)for(o=-1,s=t.length;++o<s;)if(48>(c=t.charCodeAt(o))||c>57){p=(46===c?a+t.slice(o+1):t.slice(o))+p,t=t.slice(0,o);break}}m&&!f&&(t=i(t,1/0));var j=h.length+t.length+p.length,S=j<_?new Array(_-j+1).join(e):"";switch(m&&f&&(t=i(S+t,S.length?_-p.length:1/0),S=""),n){case"<":t=h+t+p+S;break;case"=":t=h+S+t+p;break;case"^":t=S.slice(0,j=S.length>>1)+h+t+p+S.slice(j);break;default:t=S+h+t+p}return u(t)}return v=null==v?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),E.toString=function(){return t+""},E}return{format:h,formatPrefix:function(t,e){var n=h(((t=s(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(r(e)/3))),o=Math.pow(10,-i),a=g[8+i/3];return function(t){return n(o*t)+a}}}};function v(t){return u=m(t),c=u.format,h=u.formatPrefix,u}v({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var y=function(t){return Math.max(0,-r(Math.abs(t)))},b=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(r(e)/3)))-r(Math.abs(t)))},w=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,r(e)-r(t))+1};n.d(e,"formatDefaultLocale",function(){return v}),n.d(e,"format",function(){return c}),n.d(e,"formatPrefix",function(){return h}),n.d(e,"formatLocale",function(){return m}),n.d(e,"formatSpecifier",function(){return s}),n.d(e,"precisionFixed",function(){return y}),n.d(e,"precisionPrefix",function(){return b}),n.d(e,"precisionRound",function(){return w})},function(t,e,n){(function(e){var n="Expected a function",i=NaN,r="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,d=c||h||Function("return this")(),f=Object.prototype.toString,p=Math.max,_=Math.min,g=function(){return d.Date.now()};function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&f.call(t)==r}(t))return i;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=a.test(t);return n||l.test(t)?u(t.slice(2),n?2:8):s.test(t)?i:+t}t.exports=function(t,e,i){var r,o,s,a,l,u,c=0,h=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError(n);function y(e){var n=r,i=o;return r=o=void 0,c=e,a=t.apply(i,n)}function b(t){var n=t-u;return void 0===u||n>=e||n<0||d&&t-c>=s}function w(){var t=g();if(b(t))return x(t);l=setTimeout(w,function(t){var n=e-(t-u);return d?_(n,s-(t-c)):n}(t))}function x(t){return l=void 0,f&&r?y(t):(r=o=void 0,a)}function k(){var t=g(),n=b(t);if(r=arguments,o=this,u=t,n){if(void 0===l)return function(t){return c=t,l=setTimeout(w,e),h?y(t):a}(u);if(d)return l=setTimeout(w,e),y(u)}return void 0===l&&(l=setTimeout(w,e)),a}return e=v(e)||0,m(i)&&(h=!!i.leading,s=(d="maxWait"in i)?p(v(i.maxWait)||0,e):s,f="trailing"in i?!!i.trailing:f),k.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=u=o=l=void 0},k.flush=function(){return void 0===l?a:x(g())},k}}).call(this,n(10))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(322)),e.version=n(462).version,e.generateEmbedScript=function(t,e){return["<img src="+e+' class="jupyter-widget">','<script type="application/vnd.jupyter.widgets-state+json">'+JSON.stringify(t)+"<\/script>"].join("\n")}},function(t,e,n){t.exports={};var i=[n(174),n(463),n(14),n(464),n(465),n(17),n(466),n(467),n(468),n(469),n(470),n(471),n(27),n(472),n(473),n(474),n(475),n(476),n(477),n(63),n(175),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(179),n(485),n(176),n(180),n(486),n(65),n(487),n(488),n(489),n(97),n(64),n(490),n(67),n(66),n(491),n(182),n(492),n(181),n(493),n(494),n(495),n(496),n(48),n(183),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(506),n(98),n(9),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515)];for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];for(var s in o)o.hasOwnProperty(s)&&(t.exports[s]=o[s])}t.exports.version=n(18).version},function(t,e,n){var i=n(21),r=n(69),o=n(194),s=[].slice,a=/MSIE .\./.test(o),l=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&s.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*a,{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},function(t,e,n){t.exports=!n(51)&&!n(100)(function(){return 7!=Object.defineProperty(n(74)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(73);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(21).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){var i=n(69),r=n(196);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){var i,r,o,s=n(102),a=n(197),l=n(103),u=n(74),c=n(21),h=c.process,d=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,_=c.Dispatch,g=0,m={},v=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){v.call(t.data)};d&&f||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){a("function"==typeof t?t:Function(t),e)},i(g),g},f=function(t){delete m[t]},"process"==n(104)(h)?i=function(t){h.nextTick(s(v,t,1))}:_&&_.now?i=function(t){_.now(s(v,t,1))}:p?(o=(r=new p).port2,r.port1.onmessage=y,i=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",y,!1)):i="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),v.call(t)}}:function(t){setTimeout(s(v,t,1),0)}),t.exports={set:d,clear:f}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){for(var i=n(199),r=n(108),o=n(75),s=n(21),a=n(30),l=n(77),u=n(35),c=u("iterator"),h=u("toStringTag"),d=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),_=0;_<p.length;_++){var g,m=p[_],v=f[m],y=s[m],b=y&&y.prototype;if(b&&(b[c]||a(b,c,d),b[h]||a(b,h,m),l[m]=d,v))for(g in i)b[g]||o(b,g,i[g],!0)}},function(t,e,n){"use strict";var i=n(200),r=n(201),o=n(77),s=n(78);t.exports=n(203)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var i=n(35)("unscopables"),r=Array.prototype;null==r[i]&&n(30)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var i=n(104);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var i=n(106),r=n(69),o=n(75),s=n(30),a=n(77),l=n(204),u=n(111),c=n(211),h=n(35)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,p,_,g,m){l(n,e,p);var v,y,b,w=function(t){if(!d&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",k="values"==_,M=!1,E=t.prototype,j=E[h]||E["@@iterator"]||_&&E[_],S=j||w(_),C=_?k?w("entries"):S:void 0,A="Array"==e&&E.entries||j;if(A&&(b=c(A.call(new t)))!==Object.prototype&&b.next&&(u(b,x,!0),i||"function"==typeof b[h]||s(b,h,f)),k&&j&&"values"!==j.name&&(M=!0,S=function(){return j.call(this)}),i&&!m||!d&&!M&&E[h]||s(E,h,S),a[e]=S,a[x]=f,_)if(v={values:k?S:w("values"),keys:g?S:w("keys"),entries:C},m)for(y in v)y in E||o(E,y,v[y]);else r(r.P+r.F*(d||M),e,v);return v}},function(t,e,n){"use strict";var i=n(205),r=n(101),o=n(111),s={};n(30)(s,n(35)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(72),r=n(206),o=n(110),s=n(79)("IE_PROTO"),a=function(){},l=function(){var t,e=n(74)("iframe"),i=o.length;for(e.style.display="none",n(103).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[o[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(71),r=n(72),o=n(108);t.exports=n(51)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,l=0;a>l;)i.f(t,n=s[l++],e[n]);return t}},function(t,e,n){var i=n(52),r=n(78),o=n(208)(!1),s=n(79)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;e.length>l;)i(a,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var i=n(78),r=n(209),o=n(210);t.exports=function(t){return function(e,n,s){var a,l=i(e),u=r(l.length),c=o(s,u);if(t&&n!=n){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var i=n(109),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(109),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(52),r=n(212),o=n(79)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var i=n(107);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(214);"string"==typeof i&&(i=[[t.i,i,""]]);var r={transform:void 0};n(36)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(23)(!1)).push([t.i,"/*\n * This file is converted from bqplot.less so we don't have to so LESS\n * transpilation ourselves.\n */\n.theme-light .bqplot {\n  box-sizing: border-box;\n  display: flex;\n  width: 640px;\n  height: 480px;\n}\n.theme-light .bqplot > svg {\n  font: 11px sans-serif;\n  user-select: none;\n  -ms-user-select: none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n  flex-grow: 1;\n}\n.theme-light .bqplot > svg .axis line {\n  shape-rendering: crispEdges;\n  font: 10px sans-serif;\n  stroke-width: 1px;\n}\n.theme-light .bqplot > svg .axis path,\n.theme-light .bqplot > svg .axis line {\n  fill: none;\n}\n.theme-light .bqplot > svg .axis text.axislabel,\n.theme-light .bqplot > svg .axis tspan.axislabel {\n  text-anchor: end;\n  font: 14px sans-serif;\n}\n.theme-light .bqplot > svg .axis .tick text {\n  cursor: default;\n}\n.theme-light .bqplot > svg .axis.axisbold path {\n  stroke-width: 3px;\n}\n.theme-light .bqplot > svg .axis.axisbold text,\n.theme-light .bqplot > svg .axis.axisbold text.axislabel {\n  font-weight: bolder;\n}\n.theme-light .bqplot > svg text.mainheading {\n  text-anchor: middle;\n  font: 16px sans-serif;\n}\n.theme-light .bqplot > svg .zeroLine {\n  shape-rendering: crispEdges;\n}\n.theme-light .bqplot > svg .brushintsel,\n.theme-light .bqplot > svg .intsel {\n  pointer-events: none;\n}\n.theme-light .bqplot > svg .indsel {\n  stroke: red;\n}\n.theme-light .bqplot > svg .brushintsel,\n.theme-light .bqplot > svg .intsel {\n  fill-opacity: 0.2;\n}\n.theme-light .bqplot > svg .intselmouse {\n  visibility: hidden;\n  pointer-events: all;\n}\n.theme-light .bqplot > svg text.legendtext {\n  text-anchor: start;\n  font: 14px sans-serif;\n}\n.theme-light .bqplot > svg .multiselector .active {\n  pointer-events: all !important;\n  stroke: green;\n}\n.theme-light .bqplot > svg .multiselector .inactive {\n  pointer-events: none !important;\n  stroke: red;\n}\n.theme-light .bqplot > svg .multiselector .visible {\n  pointer-events: visible !important;\n  stroke: red;\n}\n.theme-light .bqplot > svg .lassoselector .selected {\n  opacity: 0.3;\n}\n.theme-light .bqplot > svg .lassoselector path {\n  fill: none;\n  stroke: orange;\n  stroke-width: 4;\n}\n.theme-light .tooltip_div {\n  z-index: 1001;\n}\n.theme-light .mark_tooltip {\n  pointer-events: none;\n  z-index: 1001;\n}\n.theme-light .mark_tooltip table {\n  border-radius: 5px;\n}\n.theme-light .mark_tooltip .tooltiptext {\n  text-align: center;\n  padding: 0.5em;\n}\n.theme-light .world_map .hovered {\n  fill: Orange;\n  stroke: Orange;\n  stroke-width: 2.5px;\n}\n.theme-light .world_map #container {\n  margin: 10px 10%;\n  border: 2px solid #000;\n  border-radius: 5px;\n  height: 100%;\n  overflow: hidden;\n  background: #F0F8FF;\n}\n.theme-light .world_map .graticule {\n  fill: none;\n  stroke: #bbb;\n  stroke-width: .5px;\n  stroke-opacity: .5;\n}\n.theme-light .g_legend {\n  fill: none;\n}\n.theme-light .bqplot > svg .axis rect {\n  stroke: white;\n  opacity: 1.0;\n}\n.theme-light .bqplot > svg .axis .tick line {\n  stroke: white;\n  stroke-width: 1;\n  opacity: 1.0;\n}\n.theme-light .bqplot > svg .axis .tick.short line {\n  stroke: #8B8B8B;\n}\n.theme-light .bqplot > svg .axis .tick text {\n  fill: #8B8B8B;\n  font: 12px sans-serif;\n}\n.theme-light .bqplot > svg .stick,\n.theme-light .bqplot > svg .zeroLine {\n  stroke: black;\n  fill: black;\n}\n.theme-light .bqplot > svg .bargroup rect,\n.theme-light .bqplot > svg .bargroup path,\n.theme-light .bqplot > svg .bargroup line,\n.theme-light .bqplot > svg .boxplot rect,\n.theme-light .bqplot > svg .boxplot path,\n.theme-light .bqplot > svg .boxplot line,\n.theme-light .bqplot > svg .slice rect,\n.theme-light .bqplot > svg .slice path,\n.theme-light .bqplot > svg .slice line {\n  stroke: black;\n}\n.theme-light .bqplot > svg .sticktext {\n  fill: black;\n}\n.theme-light .bqplot > svg .brushintsel,\n.theme-light .bqplot > svg .intsel {\n  fill: #000000;\n}\n.theme-light .bqplot > svg text.axislabel,\n.theme-light .bqplot > svg tspan.axislabel {\n  fill: black;\n  font: serif;\n}\n.theme-light .bqplot > svg text.mainheading {\n  fill: black;\n  font: serif;\n  font-size: large;\n}\n.theme-light .bqplot > svg .plotarea_background {\n  fill: #F7F7F7;\n}\n.theme-light .mark_tooltip {\n  border: 2px solid black;\n  border-radius: 5px;\n  box-shadow: 1px 1px 2px rgba(10,10,10,0.8);\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  background-color: #FCFCFC;\n}\n.theme-light .mark_tooltip td {\n  border: thin solid black;\n}\n.theme-light .mark_tooltip table {\n  background: #ececec;\n}\n.theme-light .world_map path {\n  stroke: #FFF;\n  stroke-width: 0.25px;\n  fill: dodgerblue;\n}\n.theme-light .pie polyline {\n  opacity: .3;\n  stroke: black;\n  stroke-width: 1px;\n  fill: none;\n}\n.theme-light .network .node .element {\n  fill: #ccc;\n  stroke: #000;\n  stroke-width: 1.5px;\n}\n.theme-light .network .link {\n  fill: none;\n  stroke: #666;\n  stroke-width: 1.5px;\n}\n.theme-light .network .node .label {\n  font: 12px sans-serif;\n  pointer-events: none;\n  text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff;\n}\n.theme-light .linkarrow {\n  fill: #000;\n}\n.bqplot {\n  box-sizing: border-box;\n  display: flex;\n  width: 640px;\n  height: 480px;\n}\n.bqplot > svg {\n  font: 11px sans-serif;\n  user-select: none;\n  -ms-user-select: none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n  flex-grow: 1;\n}\n.bqplot > svg .axis line {\n  shape-rendering: crispEdges;\n  font: 10px sans-serif;\n  stroke-width: 1px;\n}\n.bqplot > svg .axis path,\n.bqplot > svg .axis line {\n  fill: none;\n}\n.bqplot > svg .axis text.axislabel,\n.bqplot > svg .axis tspan.axislabel {\n  text-anchor: end;\n  font: 14px sans-serif;\n}\n.bqplot > svg .axis .tick text {\n  cursor: default;\n}\n.bqplot > svg .axis.axisbold path {\n  stroke-width: 3px;\n}\n.bqplot > svg .axis.axisbold text,\n.bqplot > svg .axis.axisbold text.axislabel {\n  font-weight: bolder;\n}\n.bqplot > svg text.mainheading {\n  text-anchor: middle;\n  font: 16px sans-serif;\n}\n.bqplot > svg .zeroLine {\n  shape-rendering: crispEdges;\n}\n.bqplot > svg .brushintsel,\n.bqplot > svg .intsel {\n  pointer-events: none;\n}\n.bqplot > svg .indsel {\n  stroke: red;\n}\n.bqplot > svg .brushintsel,\n.bqplot > svg .intsel {\n  fill-opacity: 0.2;\n}\n.bqplot > svg .intselmouse {\n  visibility: hidden;\n  pointer-events: all;\n}\n.bqplot > svg text.legendtext {\n  text-anchor: start;\n  font: 14px sans-serif;\n}\n.bqplot > svg .multiselector .active {\n  pointer-events: all !important;\n  stroke: green;\n}\n.bqplot > svg .multiselector .inactive {\n  pointer-events: none !important;\n  stroke: red;\n}\n.bqplot > svg .multiselector .visible {\n  pointer-events: visible !important;\n  stroke: red;\n}\n.bqplot > svg .lassoselector .selected {\n  opacity: 0.3;\n}\n.bqplot > svg .lassoselector path {\n  fill: none;\n  stroke: orange;\n  stroke-width: 4;\n}\n.tooltip_div {\n  z-index: 1001;\n}\n.mark_tooltip {\n  pointer-events: none;\n  z-index: 1001;\n}\n.mark_tooltip table {\n  border-radius: 5px;\n}\n.mark_tooltip .tooltiptext {\n  text-align: center;\n  padding: 0.5em;\n}\n.world_map .hovered {\n  fill: Orange;\n  stroke: Orange;\n  stroke-width: 2.5px;\n}\n.world_map #container {\n  margin: 10px 10%;\n  border: 2px solid #000;\n  border-radius: 5px;\n  height: 100%;\n  overflow: hidden;\n  background: #F0F8FF;\n}\n.world_map .graticule {\n  fill: none;\n  stroke: #bbb;\n  stroke-width: .5px;\n  stroke-opacity: .5;\n}\n.g_legend {\n  fill: none;\n}\n.bqplot > svg .axis rect {\n  stroke: white;\n  opacity: 1.0;\n}\n.bqplot > svg .axis .tick line {\n  stroke: white;\n  stroke-width: 1;\n  opacity: 1.0;\n}\n.bqplot > svg .axis .tick.short line {\n  stroke: #8B8B8B;\n}\n.bqplot > svg .axis .tick text {\n  fill: #8B8B8B;\n  font: 12px sans-serif;\n}\n.bqplot > svg .stick,\n.bqplot > svg .zeroLine {\n  stroke: black;\n  fill: black;\n}\n.bqplot > svg .bargroup rect,\n.bqplot > svg .bargroup path,\n.bqplot > svg .bargroup line,\n.bqplot > svg .boxplot rect,\n.bqplot > svg .boxplot path,\n.bqplot > svg .boxplot line,\n.bqplot > svg .slice rect,\n.bqplot > svg .slice path,\n.bqplot > svg .slice line {\n  stroke: black;\n}\n.bqplot > svg .sticktext {\n  fill: black;\n}\n.bqplot > svg .brushintsel,\n.bqplot > svg .intsel {\n  fill: #000000;\n}\n.bqplot > svg text.axislabel,\n.bqplot > svg tspan.axislabel {\n  fill: black;\n  font: serif;\n}\n.bqplot > svg text.mainheading {\n  fill: black;\n  font: serif;\n  font-size: large;\n}\n.bqplot > svg .plotarea_background {\n  fill: #F7F7F7;\n}\n.mark_tooltip {\n  border: 2px solid black;\n  border-radius: 5px;\n  box-shadow: 1px 1px 2px rgba(10,10,10,0.8);\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  background-color: #FCFCFC;\n}\n.mark_tooltip td {\n  border: thin solid black;\n}\n.mark_tooltip table {\n  background: #ececec;\n}\n.world_map path {\n  stroke: #FFF;\n  stroke-width: 0.25px;\n  fill: dodgerblue;\n}\n.pie polyline {\n  opacity: .3;\n  stroke: black;\n  stroke-width: 1px;\n  fill: none;\n}\n.network .node .element {\n  fill: #ccc;\n  stroke: #000;\n  stroke-width: 1.5px;\n}\n.network .link {\n  fill: none;\n  stroke: #666;\n  stroke-width: 1.5px;\n}\n.network .node .label {\n  font: 12px sans-serif;\n  pointer-events: none;\n  text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff;\n}\n.linkarrow {\n  fill: #000;\n}\n.theme-dark .bqplot {\n  box-sizing: border-box;\n  display: flex;\n  width: 640px;\n  height: 480px;\n}\n.theme-dark .bqplot > svg {\n  font: 11px sans-serif;\n  user-select: none;\n  -ms-user-select: none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n  flex-grow: 1;\n}\n.theme-dark .bqplot > svg .axis line {\n  shape-rendering: crispEdges;\n  font: 10px sans-serif;\n  stroke-width: 1px;\n}\n.theme-dark .bqplot > svg .axis path,\n.theme-dark .bqplot > svg .axis line {\n  fill: none;\n}\n.theme-dark .bqplot > svg .axis text.axislabel,\n.theme-dark .bqplot > svg .axis tspan.axislabel {\n  text-anchor: end;\n  font: 14px sans-serif;\n}\n.theme-dark .bqplot > svg .axis .tick text {\n  cursor: default;\n}\n.theme-dark .bqplot > svg .axis.axisbold path {\n  stroke-width: 3px;\n}\n.theme-dark .bqplot > svg .axis.axisbold text,\n.theme-dark .bqplot > svg .axis.axisbold text.axislabel {\n  font-weight: bolder;\n}\n.theme-dark .bqplot > svg text.mainheading {\n  text-anchor: middle;\n  font: 16px sans-serif;\n}\n.theme-dark .bqplot > svg .zeroLine {\n  shape-rendering: crispEdges;\n}\n.theme-dark .bqplot > svg .brushintsel,\n.theme-dark .bqplot > svg .intsel {\n  pointer-events: none;\n}\n.theme-dark .bqplot > svg .indsel {\n  stroke: red;\n}\n.theme-dark .bqplot > svg .brushintsel,\n.theme-dark .bqplot > svg .intsel {\n  fill-opacity: 0.2;\n}\n.theme-dark .bqplot > svg .intselmouse {\n  visibility: hidden;\n  pointer-events: all;\n}\n.theme-dark .bqplot > svg text.legendtext {\n  text-anchor: start;\n  font: 14px sans-serif;\n}\n.theme-dark .bqplot > svg .multiselector .active {\n  pointer-events: all !important;\n  stroke: green;\n}\n.theme-dark .bqplot > svg .multiselector .inactive {\n  pointer-events: none !important;\n  stroke: red;\n}\n.theme-dark .bqplot > svg .multiselector .visible {\n  pointer-events: visible !important;\n  stroke: red;\n}\n.theme-dark .bqplot > svg .lassoselector .selected {\n  opacity: 0.3;\n}\n.theme-dark .bqplot > svg .lassoselector path {\n  fill: none;\n  stroke: orange;\n  stroke-width: 4;\n}\n.theme-dark .tooltip_div {\n  z-index: 1001;\n}\n.theme-dark .mark_tooltip {\n  pointer-events: none;\n  z-index: 1001;\n}\n.theme-dark .mark_tooltip table {\n  border-radius: 5px;\n}\n.theme-dark .mark_tooltip .tooltiptext {\n  text-align: center;\n  padding: 0.5em;\n}\n.theme-dark .world_map .hovered {\n  fill: Orange;\n  stroke: Orange;\n  stroke-width: 2.5px;\n}\n.theme-dark .world_map #container {\n  margin: 10px 10%;\n  border: 2px solid #000;\n  border-radius: 5px;\n  height: 100%;\n  overflow: hidden;\n  background: #F0F8FF;\n}\n.theme-dark .world_map .graticule {\n  fill: none;\n  stroke: #bbb;\n  stroke-width: .5px;\n  stroke-opacity: .5;\n}\n.theme-dark .g_legend {\n  fill: none;\n}\n.theme-dark .bqplot > svg {\n  background: #1a1a1a;\n}\n.theme-dark .bqplot > svg .axis rect {\n  stroke: #1A1A1A;\n}\n.theme-dark .bqplot > svg .axis path {\n  stroke: #b3b3b3;\n}\n.theme-dark .bqplot > svg .axis .tick line {\n  stroke: #3b3b3b;\n}\n.theme-dark .bqplot > svg .axis .tick.short line {\n  stroke: #B3B3B3;\n}\n.theme-dark .bqplot > svg .axis .tick text {\n  fill: #B3B3B3;\n}\n.theme-dark .bqplot > svg .stick,\n.theme-dark .bqplot > svg .zeroLine {\n  stroke: white;\n  fill: white;\n}\n.theme-dark .bqplot > svg .bargroup rect,\n.theme-dark .bqplot > svg .bargroup path,\n.theme-dark .bqplot > svg .bargroup line,\n.theme-dark .bqplot > svg .slice rect,\n.theme-dark .bqplot > svg .slice path,\n.theme-dark .bqplot > svg .slice line {\n  stroke: white;\n}\n.theme-dark .bqplot > svg .sticktext {\n  fill: white;\n}\n.theme-dark .bqplot > svg .brushintsel,\n.theme-dark .bqplot > svg .intsel {\n  fill: #ffffff;\n}\n.theme-dark .bqplot > svg text.axislabel,\n.theme-dark .bqplot > svg tspan.axislabel,\n.theme-dark .bqplot > svg text.mainheading {\n  fill: orange;\n}\n.theme-dark .bqplot > svg .plotarea_background {\n  fill: #1a1a1a;\n}\n.theme-dark .mark_tooltip {\n  border: 2px solid whitesmoke;\n  border-radius: 5px;\n  box-shadow: 1px 1px 2px rgba(245,245,245,0.8);\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  background-color: black;\n}\n.theme-dark .mark_tooltip td {\n  border: thin solid whitesmoke;\n}\n.theme-dark .mark_tooltip table {\n  background: black;\n}\n.theme-dark .world_map path {\n  stroke: black;\n  stroke-width: 0.25px;\n  fill: seagreen;\n}\n.theme-dark .pie polyline {\n  opacity: .5;\n  stroke: white;\n  stroke-width: 1px;\n  fill: none;\n}\n.theme-dark .network .node .element {\n  fill: #666;\n  stroke: #000;\n  stroke-width: 1.5px;\n}\n.theme-dark .network .node .element {\n  fill: #666;\n  stroke: #000;\n  stroke-width: 1.5px;\n}\n.theme-dark .network .link {\n  fill: none;\n  stroke: #666;\n  stroke-width: 1.5px;\n}\n.theme-dark .network .node .label {\n  font: 12px sans-serif;\n  pointer-events: none;\n  text-shadow: 0 1px 0 #000, 1px 0 0 #000, 0 -1px 0 #000, -1px 0 0 #000;\n}\n.theme-dark .linkarrow {\n  fill: #ccc;\n}\n",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=n(15),s="api/config";!function(t){t.create=function(t){var e=new a(t);return e.load().then(function(){return e})}}(e.ConfigSection||(e.ConfigSection={}));var a=function(){function t(t){this._url="unknown";var e=this.serverSettings=t.serverSettings||o.ServerConnection.makeSettings();this._url=r.URLExt.join(e.baseUrl,s,encodeURIComponent(t.name))}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.load=function(){var t=this;return o.ServerConnection.makeRequest(this._url,{},this.serverSettings).then(function(t){if(200!==t.status)throw new o.ServerConnection.ResponseError(t);return t.json()}).then(function(e){t._data=e})},t.prototype.update=function(t){var e=this;this._data=i({},this._data,t);var n={method:"PATCH",body:JSON.stringify(t)};return o.ServerConnection.makeRequest(this._url,n,this.serverSettings).then(function(t){if(200!==t.status)throw new o.ServerConnection.ResponseError(t);return t.json()}).then(function(t){return e._data=t,e._data})},t}(),l=function(){function t(t){this._className="",this._section=t.section,this._defaults=t.defaults||{},this._className=t.className||""}return t.prototype.get=function(t){var e=this._classData();return t in e?e[t]:this._defaults[t]},t.prototype.set=function(t,e){var n={};if(n[t]=e,this._className){var i={};return i[this._className]=n,this._section.update(i)}return this._section.update(n)},t.prototype._classData=function(){var t=this._section.data;return this._className&&this._className in t?t[this._className]:t},t}();e.ConfigWithDefaults=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(){function t(t){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new i.Signal(this),t.signal.connect(this._onSignalFired,this),this._timeout=t.timeout||1e3}return Object.defineProperty(t.prototype,"activityStopped",{get:function(){return this._activityStopped},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeout",{get:function(){return this._timeout},set:function(t){this._timeout=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,i.Signal.clearData(this))},t.prototype._onSignalFired=function(t,e){var n=this;clearTimeout(this._timer),this._sender=t,this._args=e,this._timer=window.setTimeout(function(){n._activityStopped.emit({sender:n._sender,args:n._args})},this._timeout)},t}();e.ActivityMonitor=r},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,s,a,l=1,u={},c=!1,h=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,i=function(t){var e=h.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&p(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return u[l]=r,i(l),l++},d.clearImmediate=f}function f(t){delete u[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=u[t];if(e){c=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{f(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(10),n(24))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function e(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r,o=t.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),r=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))<n?i+1+(o-n):i-n+1;for(var s=0;s<r;++s){var a=(n+s)%o;if(t[a]===e)return a}return-1}function n(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r,o=t.length;if(0===o)return-1;r=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(i=i<0?Math.max(0,i+o):Math.min(i,o-1))?n+1+(o-i):n-i+1;for(var s=0;s<r;++s){var a=(n-s+o)%o;if(t[a]===e)return a}return-1}function i(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r,o=t.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),r=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))<n?i+1+(o-n):i-n+1;for(var s=0;s<r;++s){var a=(n+s)%o;if(e(t[a],a))return a}return-1}function r(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r,o=t.length;if(0===o)return-1;r=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(i=i<0?Math.max(0,i+o):Math.min(i,o-1))?n+1+(o-i):n-i+1;for(var s=0;s<r;++s){var a=(n-s+o)%o;if(e(t[a],a))return a}return-1}function o(t,e,n){void 0===e&&(e=0),void 0===n&&(n=-1);var i=t.length;if(!(i<=1))for(e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1);e<n;){var r=t[e],o=t[n];t[e++]=o,t[n--]=r}}function s(t,e){var n=t.length;if(e<0&&(e+=n),!(e<0||e>=n)){for(var i=t[e],r=e+1;r<n;++r)t[r-1]=t[r];return t.length=n-1,i}}t.firstIndexOf=e,t.lastIndexOf=n,t.findFirstIndex=i,t.findLastIndex=r,t.findFirstValue=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var o=i(t,e,n,r);return-1!==o?t[o]:void 0},t.findLastValue=function(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o=r(t,e,n,i);return-1!==o?t[o]:void 0},t.lowerBound=function(t,e,n,i,r){void 0===i&&(i=0),void 0===r&&(r=-1);var o=t.length;if(0===o)return 0;for(var s=i=i<0?Math.max(0,i+o):Math.min(i,o-1),a=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))-i+1;a>0;){var l=a>>1,u=s+l;n(t[u],e)<0?(s=u+1,a-=l+1):a=l}return s},t.upperBound=function(t,e,n,i,r){void 0===i&&(i=0),void 0===r&&(r=-1);var o=t.length;if(0===o)return 0;for(var s=i=i<0?Math.max(0,i+o):Math.min(i,o-1),a=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))-i+1;a>0;){var l=a>>1,u=s+l;n(t[u],e)>0?a=l:(s=u+1,a-=l+1)}return s},t.move=function(t,e,n){var i=t.length;if(!(i<=1)&&(e=e<0?Math.max(0,e+i):Math.min(e,i-1))!==(n=n<0?Math.max(0,n+i):Math.min(n,i-1))){for(var r=t[e],o=e<n?1:-1,s=e;s!==n;s+=o)t[s]=t[s+o];t[n]=r}},t.reverse=o,t.rotate=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=t.length;if(!(r<=1||(n=n<0?Math.max(0,n+r):Math.min(n,r-1))>=(i=i<0?Math.max(0,i+r):Math.min(i,r-1)))){var s=i-n+1;if(e>0?e%=s:e<0&&(e=(e%s+s)%s),0!==e){var a=n+e;o(t,n,a-1),o(t,a,i),o(t,n,i)}}},t.fill=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=t.length;if(0!==r){var o;n=n<0?Math.max(0,n+r):Math.min(n,r-1),o=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s)t[(n+s)%r]=e}},t.insert=function(t,e,n){var i=t.length;e=e<0?Math.max(0,e+i):Math.min(e,i);for(var r=i;r>e;--r)t[r]=t[r-1];t[e]=n},t.removeAt=s,t.removeFirstOf=function(t,n,i,r){void 0===i&&(i=0),void 0===r&&(r=-1);var o=e(t,n,i,r);return-1!==o&&s(t,o),o},t.removeLastOf=function(t,e,i,r){void 0===i&&(i=-1),void 0===r&&(r=0);var o=n(t,e,i,r);return-1!==o&&s(t,o),o},t.removeAllOf=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=t.length;if(0===r)return 0;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1);for(var o=0,s=0;s<r;++s)n<=i&&s>=n&&s<=i&&t[s]===e?o++:i<n&&(s<=i||s>=n)&&t[s]===e?o++:o>0&&(t[s-o]=t[s]);return o>0&&(t.length=r-o),o},t.removeFirstWhere=function(t,e,n,r){var o;void 0===n&&(n=0),void 0===r&&(r=-1);var a=i(t,e,n,r);return-1!==a&&(o=s(t,a)),{index:a,value:o}},t.removeLastWhere=function(t,e,n,i){var o;void 0===n&&(n=-1),void 0===i&&(i=0);var a=r(t,e,n,i);return-1!==a&&(o=s(t,a)),{index:a,value:o}},t.removeAllWhere=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=t.length;if(0===r)return 0;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1);for(var o=0,s=0;s<r;++s)n<=i&&s>=n&&s<=i&&e(t[s],s)?o++:i<n&&(s<=i||s>=n)&&e(t[s],s)?o++:o>0&&(t[s-o]=t[s]);return o>0&&(t.length=r-o),o}}(e.ArrayExt||(e.ArrayExt={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(22);e.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new r(i.iter(t.map(i.iter)))};var r=function(){function t(t){this._cloned=!1,this._source=t,this._active=void 0}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone());return e._active=this._active&&this._active.clone(),e._cloned=!0,this._cloned=!0,e},t.prototype.next=function(){if(void 0===this._active){var t=this._source.next();if(void 0===t)return;this._active=this._cloned?t.clone():t}var e=this._active.next();return void 0!==e?e:(this._active=void 0,this.next())},t}();e.ChainIterator=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.empty=function(){return new i};var i=function(){function t(){}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){},t}();e.EmptyIterator=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(22);e.filter=function(t,e){return new r(i.iter(t),e)};var r=function(){function t(t,e){this._index=0,this._source=t,this._fn=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){for(var t,e=this._fn,n=this._source;void 0!==(t=n.next());)if(e(t,this._index++))return t},t}();e.FilterIterator=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(22);e.find=function(t,e){for(var n,r=0,o=i.iter(t);void 0!==(n=o.next());)if(e(n,r++))return n},e.min=function(t,e){var n=i.iter(t),r=n.next();if(void 0!==r){for(var o=r;void 0!==(r=n.next());)e(r,o)<0&&(o=r);return o}},e.max=function(t,e){var n=i.iter(t),r=n.next();if(void 0!==r){for(var o=r;void 0!==(r=n.next());)e(r,o)>0&&(o=r);return o}},e.minmax=function(t,e){var n=i.iter(t),r=n.next();if(void 0!==r){for(var o=r,s=r;void 0!==(r=n.next());)e(r,o)<0?o=r:e(r,s)>0&&(s=r);return[o,s]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(22);e.map=function(t,e){return new r(i.iter(t),e)};var r=function(){function t(t,e){this._index=0,this._source=t,this._fn=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return this._fn.call(void 0,t,this._index++)},t}();e.MapIterator=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.range=function(t,e,n){return void 0===e?new r(0,t,1):new r(t,e,void 0===n?1:n)};var i,r=function(){function t(t,e,n){this._index=0,this._start=t,this._stop=e,this._step=n,this._length=i.rangeLength(t,e,n)}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._start,this._stop,this._step);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},t}();e.RangeIterator=r,function(t){t.rangeLength=function(t,e,n){return 0===n?1/0:t>e&&n>0?0:t<e&&n<0?0:Math.ceil((e-t)/n)}}(i||(i={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(22);e.reduce=function(t,e,n){var r=0,o=i.iter(t),s=o.next();if(void 0===s&&void 0===n)throw new TypeError("Reduce of empty iterable with no initial value.");if(void 0===s)return n;var a,l,u=o.next();if(void 0===u&&void 0===n)return s;if(void 0===u)return e(n,s,r++);for(a=e(void 0===n?s:e(n,s,r++),u,r++);void 0!==(l=o.next());)a=e(a,l,r++);return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.repeat=function(t,e){return new i(t,e)},e.once=function(t){return new i(t,1)};var i=function(){function t(t,e){this._value=t,this._count=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},t}();e.RepeatIterator=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.retro=function(t){return"function"==typeof t.retro?t.retro():new i(t)};var i=function(){function t(t){this._source=t,this._index=t.length-1}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},t}();e.RetroArrayIterator=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(22);e.topologicSort=function(t){var e=[],n=new Set,r=new Map;return i.each(t,function(t){var e=t[0],n=t[1],i=r.get(n);i?i.push(e):r.set(n,[e])}),r.forEach(function(t,e){o(e)}),e;function o(t){if(!n.has(t)){n.add(t);var i=r.get(t);i&&i.forEach(o),e.push(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(22);e.stride=function(t,e){return new r(i.iter(t),e)};var r=function(){function t(t,e){this._source=t,this._step=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var t=this._source.next(),e=this._step-1;e>0;--e)this._source.next();return t},t}();e.StrideIterator=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function e(t,e,n){void 0===n&&(n=0);for(var i=new Array(e.length),r=0,o=n,s=e.length;r<s;++r,++o){if(-1===(o=t.indexOf(e[r],o)))return null;i[r]=o}return i}t.findIndices=e,t.matchSumOfSquares=function(t,n,i){void 0===i&&(i=0);var r=e(t,n,i);if(!r)return null;for(var o=0,s=0,a=r.length;s<a;++s){var l=r[s]-i;o+=l*l}return{score:o,indices:r}},t.matchSumOfDeltas=function(t,n,i){void 0===i&&(i=0);var r=e(t,n,i);if(!r)return null;for(var o=0,s=i-1,a=0,l=r.length;a<l;++a){var u=r[a];o+=u-s-1,s=u}return{score:o,indices:r}},t.highlight=function(t,e,n){for(var i=[],r=0,o=0,s=e.length;r<s;){for(var a=e[r],l=e[r];++r<s&&e[r]===l+1;)l++;o<a&&i.push(t.slice(o,a)),a<l+1&&i.push(n(t.slice(a,l+1))),o=l+1}return o<t.length&&i.push(t.slice(o)),i}}(e.StringExt||(e.StringExt={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(22);e.take=function(t,e){return new r(i.iter(t),e)};var r=function(){function t(t,e){this._source=t,this._count=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var t=this._source.next();if(void 0!==t)return this._count--,t}},t}();e.TakeIterator=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(22);e.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new r(t.map(i.iter))};var r=function(){function t(t){this._source=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map(function(t){return t.clone()}))},t.prototype.next=function(){for(var t=new Array(this._source.length),e=0,n=this._source.length;e<n;++e){var i=this._source[e].next();if(void 0===i)return;t[e]=i}return t},t}();e.ZipIterator=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.remove=function(t){return Promise.reject(new Error("Removing has not been implemented."))},t.prototype.save=function(t,e){return Promise.reject(new Error("Saving has not been implemented."))},t}();e.DataConnector=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.CODE_BLOCK_MARKER="```";var e=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"],n=function(){return function(t){this.startLine=t,this.code="",this.endLine=-1}}();t.MarkdownCodeBlock=n,t.isMarkdown=function(t){return e.indexOf(t)>-1},t.findMarkdownCodeBlocks=function(e){if(!e||""===e)return[];for(var i=e.split("\n"),r=[],o=null,s=0;s<i.length;s++){var a=i[s],l=0===a.indexOf(t.CODE_BLOCK_MARKER),u=null!=o;if(l||u)if(u)o&&(l?(o.endLine=s-1,r.push(o),o=null):o.code+=a+"\n");else{o=new n(s);var c=a.indexOf(t.CODE_BLOCK_MARKER),h=a.lastIndexOf(t.CODE_BLOCK_MARKER);c!==h&&(o.code=a.substring(c+t.CODE_BLOCK_MARKER.length,h),o.endLine=s,r.push(o),o=null)}}return r}}(e.MarkdownCodeBlocks||(e.MarkdownCodeBlocks={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(16);!function(t){t.MAJOR_VERSION=4,t.MINOR_VERSION=2,t.validateMimeValue=function(t,e){var n="application/json"===t||/^application\/(.*?)+\+json$/.test(t),r=function(t){return"[object String]"===Object.prototype.toString.call(t)};if(Array.isArray(e)){if(n)return!1;var o=!0;return e.forEach(function(t){r(t)||(o=!1)}),o}return r(e)?!n:!!n&&i.JSONExt.isObject(e)},t.isRaw=function(t){return"raw"===t.cell_type},t.isMarkdown=function(t){return"markdown"===t.cell_type},t.isCode=function(t){return"code"===t.cell_type},t.isExecuteResult=function(t){return"execute_result"===t.output_type},t.isDisplayData=function(t){return"display_data"===t.output_type},t.isDisplayUpdate=function(t){return"update_display_data"===t.output_type},t.isStream=function(t){return"stream"===t.output_type},t.isError=function(t){return"error"===t.output_type}}(e.nbformat||(e.nbformat={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function e(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t}function n(t){return Array.isArray(t)}function i(t,r){if(t===r)return!0;if(e(t)||e(r))return!1;var o=n(t),s=n(r);return o===s&&(o&&s?function(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;++n)if(!i(t[n],e[n]))return!1;return!0}(t,r):function(t,e){if(t===e)return!0;for(var n in t)if(!(n in e))return!1;for(var n in e)if(!(n in t))return!1;for(var n in t)if(!i(t[n],e[n]))return!1;return!0}(t,r))}function r(t){return e(t)?t:n(t)?function(t){for(var e=new Array(t.length),n=0,i=t.length;n<i;++n)e[n]=r(t[n]);return e}(t):function(t){var e={};for(var n in t)e[n]=r(t[n]);return e}(t)}t.emptyObject=Object.freeze({}),t.emptyArray=Object.freeze([]),t.isPrimitive=e,t.isArray=n,t.isObject=function(t){return!e(t)&&!n(t)},t.deepEqual=i,t.deepCopy=r}(e.JSONExt||(e.JSONExt={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this._types=[],this._values=[]}return t.prototype.types=function(){return this._types.slice()},t.prototype.hasData=function(t){return-1!==this._types.indexOf(t)},t.prototype.getData=function(t){var e=this._types.indexOf(t);return-1!==e?this._values[e]:void 0},t.prototype.setData=function(t,e){this.clearData(t),this._types.push(t),this._values.push(e)},t.prototype.clearData=function(t){var e=this._types.indexOf(t);-1!==e&&(this._types.splice(e,1),this._values.splice(e,1))},t.prototype.clear=function(){this._types.length=0,this._values.length=0},t}();e.MimeData=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t._resolve=e,t._reject=n})}return t.prototype.resolve=function(t){(0,this._resolve)(t)},t.prototype.reject=function(t){(0,this._reject)(t)},t}();e.PromiseDelegate=i},function(t,e,n){"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=n(31),e.createHash=e.Hash=n(37),e.createHmac=e.Hmac=n(117);var i=n(250),r=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);e.getHashes=function(){return o};var s=n(120);e.pbkdf2=s.pbkdf2,e.pbkdf2Sync=s.pbkdf2Sync;var a=n(252);e.Cipher=a.Cipher,e.createCipher=a.createCipher,e.Cipheriv=a.Cipheriv,e.createCipheriv=a.createCipheriv,e.Decipher=a.Decipher,e.createDecipher=a.createDecipher,e.Decipheriv=a.Decipheriv,e.createDecipheriv=a.createDecipheriv,e.getCiphers=a.getCiphers,e.listCiphers=a.listCiphers;var l=n(269);e.DiffieHellmanGroup=l.DiffieHellmanGroup,e.createDiffieHellmanGroup=l.createDiffieHellmanGroup,e.getDiffieHellman=l.getDiffieHellman,e.createDiffieHellman=l.createDiffieHellman,e.DiffieHellman=l.DiffieHellman;var u=n(274);e.createSign=u.createSign,e.Sign=u.Sign,e.createVerify=u.createVerify,e.Verify=u.Verify,e.createECDH=n(291);var c=n(292);e.publicEncrypt=c.publicEncrypt,e.privateEncrypt=c.privateEncrypt,e.publicDecrypt=c.publicDecrypt,e.privateDecrypt=c.privateDecrypt;var h=n(295);e.randomFill=h.randomFill,e.randomFillSync=h.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?r-1:0,d=n?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,i),o-=u}return(f?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,l,u=8*o-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*l-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+f]=255&a,f+=p,a/=256,r-=8);for(s=s<<r|a,u+=r;u>0;t[n+f]=255&s,f+=p,s/=256,u-=8);t[n+f-p]|=128*_}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,s,a,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(r(n))for(a=Array.prototype.slice.call(arguments,1),s=(u=n.slice()).length,l=0;l<s;l++)u[l].apply(this,a);return!0},n.prototype.addListener=function(t,e){var s;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},n.prototype.removeListener=function(t,e){var n,o,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(n=this._events[t]).length,o=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){var i=n(4),r=n(32),o=n(3).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,r.call(this,64,56)}function u(t){return t<<30|t>>>2}function c(t,e,n,i){return 0===t?e&n|~e&i:2===t?e&n|e&i|n&i:e^n^i}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,a=0|this._d,l=0|this._e,h=0;h<16;++h)n[h]=t.readInt32BE(4*h);for(;h<80;++h)n[h]=n[h-3]^n[h-8]^n[h-14]^n[h-16];for(var d=0;d<80;++d){var f=~~(d/20),p=0|((e=i)<<5|e>>>27)+c(f,r,o,a)+l+n[d]+s[f];l=a,a=o,o=u(r),r=i,i=p}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=l},function(t,e,n){var i=n(4),r=n(32),o=n(3).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,r.call(this,64,56)}function u(t){return t<<5|t>>>27}function c(t){return t<<30|t>>>2}function h(t,e,n,i){return 0===t?e&n|~e&i:2===t?e&n|e&i|n&i:e^n^i}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,a=0|this._d,l=0|this._e,d=0;d<16;++d)n[d]=t.readInt32BE(4*d);for(;d<80;++d)n[d]=(e=n[d-3]^n[d-8]^n[d-14]^n[d-16])<<1|e>>>31;for(var f=0;f<80;++f){var p=~~(f/20),_=u(i)+h(p,r,o,a)+l+n[f]+s[p]|0;l=a,a=o,o=c(r),r=i,i=_}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=l},function(t,e,n){var i=n(4),r=n(115),o=n(32),s=n(3).Buffer,a=new Array(64);function l(){this.init(),this._w=a,o.call(this,64,56)}i(l,r),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=l},function(t,e,n){var i=n(4),r=n(116),o=n(32),s=n(3).Buffer,a=new Array(160);function l(){this.init(),this._w=a,o.call(this,128,112)}i(l,r),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,n,i){t.writeInt32BE(e,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=l},function(t,e,n){"use strict";var i=n(3).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=c,this.end=h,e=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=s(e[i]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=s(e[i]))>=0)return r>0&&(t.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=s(e[i]))>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";var i=n(4),r=n(3).Buffer,o=n(28),s=r.alloc(128),a=64;function l(t,e){o.call(this,"digest"),"string"==typeof e&&(e=r.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=r.concat([e,s],a));for(var n=this._ipad=r.allocUnsafe(a),i=this._opad=r.allocUnsafe(a),l=0;l<a;l++)n[l]=54^e[l],i[l]=92^e[l];this._hash=[n]}i(l,o),l.prototype._update=function(t){this._hash.push(t)},l.prototype._final=function(){var t=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,t]))},t.exports=l},function(t,e,n){t.exports=n(119)},function(t,e,n){(function(e,i){var r,o=n(121),s=n(122),a=n(123),l=n(3).Buffer,u=e.crypto&&e.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function d(t,e,n,i,r){return u.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(t){return u.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:r}},t,i<<3)}).then(function(t){return l.from(t)})}t.exports=function(t,n,f,p,_,g){"function"==typeof _&&(g=_,_=void 0);var m=c[(_=_||"sha1").toLowerCase()];if(!m||"function"!=typeof e.Promise)return i.nextTick(function(){var e;try{e=a(t,n,f,p,_)}catch(t){return g(t)}g(null,e)});if(o(t,n,f,p),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");l.isBuffer(t)||(t=l.from(t,s)),l.isBuffer(n)||(n=l.from(n,s)),function(t,e){t.then(function(t){i.nextTick(function(){e(null,t)})},function(t){i.nextTick(function(){e(t)})})}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==h[t])return h[t];var n=d(r=r||l.alloc(8),r,10,128,t).then(function(){return!0}).catch(function(){return!1});return h[t]=n,n}(m).then(function(e){return e?d(t,n,f,p,m):a(t,n,f,p,_)}),g)}}).call(this,n(10),n(24))},function(t,e,n){var i=n(253),r=n(85),o=n(86),s=n(268),a=n(55);function l(t,e,n){if(t=t.toLowerCase(),o[t])return r.createCipheriv(t,e,n);if(s[t])return new i({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function u(t,e,n){if(t=t.toLowerCase(),o[t])return r.createDecipheriv(t,e,n);if(s[t])return new i({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var n,i;if(t=t.toLowerCase(),o[t])n=o[t].key,i=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");n=8*s[t].key,i=s[t].iv}var r=a(e,!1,n,i);return l(t,r.key,r.iv)},e.createCipheriv=e.Cipheriv=l,e.createDecipher=e.Decipher=function(t,e){var n,i;if(t=t.toLowerCase(),o[t])n=o[t].key,i=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");n=8*s[t].key,i=s[t].iv}var r=a(e,!1,n,i);return u(t,r.key,r.iv)},e.createDecipheriv=e.Decipheriv=u,e.listCiphers=e.getCiphers=function(){return Object.keys(s).concat(r.getCiphers())}},function(t,e,n){var i=n(28),r=n(84),o=n(4),s=n(3).Buffer,a={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};function l(t){i.call(this);var e,n=t.mode.toLowerCase(),r=a[n];e=t.decrypt?"decrypt":"encrypt";var o=t.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=s.concat([o,o.slice(0,8)]));var l=t.iv;s.isBuffer(l)||(l=s.from(l)),this._des=r.create({key:o,iv:l,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=l,o(l,i),l.prototype._update=function(t){return s.from(this._des.update(t))},l.prototype._final=function(){return s.from(this._des.final())}},function(t,e,n){"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},e.ip=function(t,e,n,i){for(var r=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)r<<=1,r|=e>>>a+s&1;for(a=0;a<=24;a+=8)r<<=1,r|=t>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1}n[i+0]=r>>>0,n[i+1]=o>>>0},e.rip=function(t,e,n,i){for(var r=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)r<<=1,r|=e>>>a+s&1,r<<=1,r|=t>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=e>>>a+s&1,o<<=1,o|=t>>>a+s&1;n[i+0]=r>>>0,n[i+1]=o>>>0},e.pc1=function(t,e,n,i){for(var r=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)r<<=1,r|=e>>a+s&1;for(a=0;a<=24;a+=8)r<<=1,r|=t>>a+s&1}for(a=0;a<=24;a+=8)r<<=1,r|=e>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;n[i+0]=r>>>0,n[i+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,n,r){for(var o=0,s=0,a=i.length>>>1,l=0;l<a;l++)o<<=1,o|=t>>>i[l]&1;for(l=a;l<i.length;l++)s<<=1,s|=e>>>i[l]&1;n[r+0]=o>>>0,n[r+1]=s>>>0},e.expand=function(t,e,n){var i=0,r=0;i=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)i<<=6,i|=t>>>o&63;for(o=11;o>=3;o-=4)r|=t>>>o&63,r<<=6;r|=(31&t)<<1|t>>>31,e[n+0]=i>>>0,e[n+1]=r>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var n=0,i=0;i<4;i++){n<<=4,n|=r[64*i+(t>>>18-6*i&63)]}for(i=0;i<4;i++){n<<=4,n|=r[256+64*i+(e>>>18-6*i&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,n=0;n<o.length;n++)e<<=1,e|=t>>>o[n]&1;return e>>>0},e.padSplit=function(t,e,n){for(var i=t.toString(2);i.length<e;)i="0"+i;for(var r=[],o=0;o<e;o+=n)r.push(i.slice(o,o+n));return r.join(" ")}},function(t,e,n){"use strict";var i=n(38);function r(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=r,r.prototype._init=function(){},r.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},r.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),i=0;i<n;i++)this.buffer[this.bufferOff+i]=t[e+i];return this.bufferOff+=n,n},r.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(t){var e=0,n=0,i=(this.bufferOff+t.length)/this.blockSize|0,r=new Array(i*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(r,n)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,r,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return r},r.prototype._updateDecrypt=function(t){for(var e=0,n=0,i=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,r=new Array(i*this.blockSize);i>0;i--)e+=this._buffer(t,e),n+=this._flushBuffer(r,n);return e+=this._buffer(t,e),r},r.prototype.final=function(t){var e,n;return t&&(e=this.update(t)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(n):n},r.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},r.prototype._unpad=function(t){return t},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},function(t,e,n){"use strict";var i=n(38),r=n(4),o=n(84),s=o.utils,a=o.Cipher;function l(){this.tmp=new Array(2),this.keys=null}function u(t){a.call(this,t);var e=new l;this._desState=e,this.deriveKeys(e,t.key)}r(u,a),t.exports=u,u.create=function(t){return new u(t)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(t,e){t.keys=new Array(32),i.equal(e.length,this.blockSize,"Invalid key length");var n=s.readUInt32BE(e,0),r=s.readUInt32BE(e,4);s.pc1(n,r,t.tmp,0),n=t.tmp[0],r=t.tmp[1];for(var o=0;o<t.keys.length;o+=2){var a=c[o>>>1];n=s.r28shl(n,a),r=s.r28shl(r,a),s.pc2(n,r,t.keys,o)}},u.prototype._update=function(t,e,n,i){var r=this._desState,o=s.readUInt32BE(t,e),a=s.readUInt32BE(t,e+4);s.ip(o,a,r.tmp,0),o=r.tmp[0],a=r.tmp[1],"encrypt"===this.type?this._encrypt(r,o,a,r.tmp,0):this._decrypt(r,o,a,r.tmp,0),o=r.tmp[0],a=r.tmp[1],s.writeUInt32BE(n,o,i),s.writeUInt32BE(n,a,i+4)},u.prototype._pad=function(t,e){for(var n=t.length-e,i=e;i<t.length;i++)t[i]=n;return!0},u.prototype._unpad=function(t){for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)i.equal(t[n],e);return t.slice(0,t.length-e)},u.prototype._encrypt=function(t,e,n,i,r){for(var o=e,a=n,l=0;l<t.keys.length;l+=2){var u=t.keys[l],c=t.keys[l+1];s.expand(a,t.tmp,0),u^=t.tmp[0],c^=t.tmp[1];var h=s.substitute(u,c),d=a;a=(o^s.permute(h))>>>0,o=d}s.rip(a,o,i,r)},u.prototype._decrypt=function(t,e,n,i,r){for(var o=n,a=e,l=t.keys.length-2;l>=0;l-=2){var u=t.keys[l],c=t.keys[l+1];s.expand(o,t.tmp,0),u^=t.tmp[0],c^=t.tmp[1];var h=s.substitute(u,c),d=o;o=(a^s.permute(h))>>>0,a=d}s.rip(o,a,i,r)}},function(t,e,n){"use strict";var i=n(38),r=n(4),o={};function s(t){i.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}r(e,t);for(var n=Object.keys(o),i=0;i<n.length;i++){var s=n[i];e.prototype[s]=o[s]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new s(this.options.iv);this._cbcState=t},o._update=function(t,e,n,i){var r=this._cbcState,o=this.constructor.super_.prototype,s=r.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=t[e+a];o._update.call(this,s,0,n,i);for(a=0;a<this.blockSize;a++)s[a]=n[i+a]}else{o._update.call(this,t,e,n,i);for(a=0;a<this.blockSize;a++)n[i+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=t[e+a]}}},function(t,e,n){"use strict";var i=n(38),r=n(4),o=n(84),s=o.Cipher,a=o.DES;function l(t,e){i.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),r=e.slice(8,16),o=e.slice(16,24);this.ciphers="encrypt"===t?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:r}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:n})]}function u(t){s.call(this,t);var e=new l(this.type,this.options.key);this._edeState=e}r(u,s),t.exports=u,u.create=function(t){return new u(t)},u.prototype._update=function(t,e,n,i){var r=this._edeState;r.ciphers[0]._update(t,e,n,i),r.ciphers[1]._update(n,i,n,i),r.ciphers[2]._update(n,i,n,i)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},function(t,e,n){var i=n(86),r=n(127),o=n(3).Buffer,s=n(128),a=n(28),l=n(54),u=n(55);function c(t,e,n){a.call(this),this._cache=new d,this._cipher=new l.AES(e),this._prev=o.from(n),this._mode=t,this._autopadding=!0}n(4)(c,a),c.prototype._update=function(t){var e,n;this._cache.add(t);for(var i=[];e=this._cache.get();)n=this._mode.encrypt(this,e),i.push(n);return o.concat(i)};var h=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function f(t,e,n){var a=i[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=o.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof n&&(n=o.from(n)),"GCM"!==a.mode&&n.length!==a.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===a.type?new s(a.module,e,n):"auth"===a.type?new r(a.module,e,n):new c(a.module,e,n)}c.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},d.prototype.add=function(t){this.cache=o.concat([this.cache,t])},d.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},d.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return o.concat([this.cache,e])},e.createCipheriv=f,e.createCipher=function(t,e){var n=i[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=u(e,!1,n.key,n.iv);return f(t,r.key,r.iv)}},function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},function(t,e,n){var i=n(39);e.encrypt=function(t,e){var n=i(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},e.decrypt=function(t,e){var n=t._prev;t._prev=e;var r=t._cipher.decryptBlock(e);return i(r,n)}},function(t,e,n){var i=n(3).Buffer,r=n(39);function o(t,e,n){var o=e.length,s=r(e,t._cache);return t._cache=t._cache.slice(o),t._prev=i.concat([t._prev,n?e:s]),s}e.encrypt=function(t,e,n){for(var r,s=i.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=i.allocUnsafe(0)),!(t._cache.length<=e.length)){s=i.concat([s,o(t,e,n)]);break}r=t._cache.length,s=i.concat([s,o(t,e.slice(0,r),n)]),e=e.slice(r)}return s}},function(t,e,n){var i=n(3).Buffer;function r(t,e,n){var r=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=i.concat([t._prev.slice(1),i.from([n?e:r])]),r}e.encrypt=function(t,e,n){for(var o=e.length,s=i.allocUnsafe(o),a=-1;++a<o;)s[a]=r(t,e[a],n);return s}},function(t,e,n){var i=n(3).Buffer;function r(t,e,n){for(var i,r,s=-1,a=0;++s<8;)i=e&1<<7-s?128:0,a+=(128&(r=t._cipher.encryptBlock(t._prev)[0]^i))>>s%8,t._prev=o(t._prev,n?i:r);return a}function o(t,e){var n=t.length,r=-1,o=i.allocUnsafe(t.length);for(t=i.concat([t,i.from([e])]);++r<n;)o[r]=t[r]<<1|t[r+1]>>7;return o}e.encrypt=function(t,e,n){for(var o=e.length,s=i.allocUnsafe(o),a=-1;++a<o;)s[a]=r(t,e[a],n);return s}},function(t,e,n){(function(t){var i=n(39);function r(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(e,n){for(;e._cache.length<n.length;)e._cache=t.concat([e._cache,r(e)]);var o=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),i(n,o)}}).call(this,n(8).Buffer)},function(t,e,n){var i=n(3).Buffer,r=i.alloc(16,0);function o(t){var e=i.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function s(t){this.h=t,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}s.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},s.prototype._multiply=function(){for(var t,e,n,i=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],r=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),n=0!=(1&i[3]),e=3;e>0;e--)i[e]=i[e]>>>1|(1&i[e-1])<<31;i[0]=i[0]>>>1,n&&(i[0]=i[0]^225<<24)}this.state=o(r)},s.prototype.update=function(t){var e;for(this.cache=i.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},s.prototype.final=function(t,e){return this.cache.length&&this.ghash(i.concat([this.cache,r],16)),this.ghash(o([0,t,0,e])),this.state},t.exports=s},function(t,e,n){var i=n(127),r=n(3).Buffer,o=n(86),s=n(128),a=n(28),l=n(54),u=n(55);function c(t,e,n){a.call(this),this._cache=new h,this._last=void 0,this._cipher=new l.AES(e),this._prev=r.from(n),this._mode=t,this._autopadding=!0}function h(){this.cache=r.allocUnsafe(0)}function d(t,e,n){var a=o[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=r.from(n)),"GCM"!==a.mode&&n.length!==a.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof e&&(e=r.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===a.type?new s(a.module,e,n,!0):"auth"===a.type?new i(a.module,e,n,!0):new c(a.module,e,n)}n(4)(c,a),c.prototype._update=function(t){var e,n;this._cache.add(t);for(var i=[];e=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,e),i.push(n);return r.concat(i)},c.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},h.prototype.add=function(t){this.cache=r.concat([this.cache,t])},h.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var n=o[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=u(e,!1,n.key,n.iv);return d(t,i.key,i.iv)},e.createDecipheriv=d},function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},function(t,e,n){(function(t){var i=n(129),r=n(272),o=n(273);var s={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(e){var n=new t(r[e].prime,"hex"),i=new t(r[e].gen,"hex");return new o(n,i)},e.createDiffieHellman=e.DiffieHellman=function e(n,r,a,l){return t.isBuffer(r)||void 0===s[r]?e(n,"binary",r,a):(r=r||"binary",l=l||"binary",a=a||new t([2]),t.isBuffer(a)||(a=new t(a,l)),"number"==typeof n?new o(i(n,a),a,!0):(t.isBuffer(n)||(n=new t(n,r)),new o(n,a,!0)))}}).call(this,n(8).Buffer)},function(t,e,n){var i;function r(t){this.rand=t}if(t.exports=function(t){return i||(i=new r(null)),i.generate(t)},t.exports.Rand=r,r.prototype.generate=function(t){return this._rand(t)},r.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(271);if("function"!=typeof o.randomBytes)throw new Error("Not supported");r.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},function(t,e){},function(t){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(t,e,n){(function(e){var i=n(5),r=new(n(130)),o=new i(24),s=new i(11),a=new i(10),l=new i(3),u=new i(7),c=n(129),h=n(31);function d(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._pub=new i(t),this}function f(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._priv=new i(t),this}t.exports=_;var p={};function _(t,e,n){this.setGenerator(e),this.__prime=new i(t),this._prime=i.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=d,this.setPrivateKey=f):this._primeCode=8}function g(t,n){var i=new e(t.toArray());return n?i.toString(n):i}Object.defineProperty(_.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var n=e.toString("hex"),i=[n,t.toString(16)].join("_");if(i in p)return p[i];var h,d=0;if(t.isEven()||!c.simpleSieve||!c.fermatTest(t)||!r.test(t))return d+=1,d+="02"===n||"05"===n?8:4,p[i]=d,d;switch(r.test(t.shrn(1))||(d+=2),n){case"02":t.mod(o).cmp(s)&&(d+=8);break;case"05":(h=t.mod(a)).cmp(l)&&h.cmp(u)&&(d+=8);break;default:d+=4}return p[i]=d,d}(this.__prime,this.__gen)),this._primeCode}}),_.prototype.generateKeys=function(){return this._priv||(this._priv=new i(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},_.prototype.computeSecret=function(t){var n=(t=(t=new i(t)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new e(n.toArray()),o=this.getPrime();if(r.length<o.length){var s=new e(o.length-r.length);s.fill(0),r=e.concat([s,r])}return r},_.prototype.getPublicKey=function(t){return g(this._pub,t)},_.prototype.getPrivateKey=function(t){return g(this._priv,t)},_.prototype.getPrime=function(t){return g(this.__prime,t)},_.prototype.getGenerator=function(t){return g(this._gen,t)},_.prototype.setGenerator=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.__gen=t,this._gen=new i(t),this}}).call(this,n(8).Buffer)},function(t,e,n){(function(e){var i=n(37),r=n(81),o=n(4),s=n(275),a=n(290),l=n(119);function u(t){r.Writable.call(this);var e=l[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function c(t){r.Writable.call(this);var e=l[t];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function h(t){return new u(t)}function d(t){return new c(t)}Object.keys(l).forEach(function(t){l[t].id=new e(l[t].id,"hex"),l[t.toLowerCase()]=l[t]}),o(u,r.Writable),u.prototype._write=function(t,e,n){this._hash.update(t),n()},u.prototype.update=function(t,n){return"string"==typeof t&&(t=new e(t,n)),this._hash.update(t),this},u.prototype.sign=function(t,e){this.end();var n=this._hash.digest(),i=s(n,t,this._hashType,this._signType,this._tag);return e?i.toString(e):i},o(c,r.Writable),c.prototype._write=function(t,e,n){this._hash.update(t),n()},c.prototype.update=function(t,n){return"string"==typeof t&&(t=new e(t,n)),this._hash.update(t),this},c.prototype.verify=function(t,n,i){"string"==typeof n&&(n=new e(n,i)),this.end();var r=this._hash.digest();return a(n,r,t,this._signType,this._tag)},t.exports={Sign:h,Verify:d,createSign:h,createVerify:d}}).call(this,n(8).Buffer)},function(t,e,n){(function(e){var i=n(117),r=n(87),o=n(5).ec,s=n(5),a=n(56),l=n(135);function u(t,n,r,o){if((t=new e(t.toArray())).length<n.byteLength()){var s=new e(n.byteLength()-t.length);s.fill(0),t=e.concat([s,t])}var a=r.length,l=function(t,n){t=(t=c(t,n)).mod(n);var i=new e(t.toArray());if(i.length<n.byteLength()){var r=new e(n.byteLength()-i.length);r.fill(0),i=e.concat([r,i])}return i}(r,n),u=new e(a);u.fill(1);var h=new e(a);return h.fill(0),h=i(o,h).update(u).update(new e([0])).update(t).update(l).digest(),u=i(o,h).update(u).digest(),{k:h=i(o,h).update(u).update(new e([1])).update(t).update(l).digest(),v:u=i(o,h).update(u).digest()}}function c(t,e){var n=new s(t),i=(t.length<<3)-e.bitLength();return i>0&&n.ishrn(i),n}function h(t,n,r){var o,s;do{for(o=new e(0);8*o.length<t.bitLength();)n.v=i(r,n.k).update(n.v).digest(),o=e.concat([o,n.v]);s=c(o,t),n.k=i(r,n.k).update(n.v).update(new e([0])).digest(),n.v=i(r,n.k).update(n.v).digest()}while(-1!==s.cmp(t));return s}function d(t,e,n,i){return t.toRed(s.mont(n)).redPow(e).fromRed().mod(i)}t.exports=function(t,n,i,f,p){var _=a(n);if(_.curve){if("ecdsa"!==f&&"ecdsa/rsa"!==f)throw new Error("wrong private key type");return function(t,n){var i=l[n.curve.join(".")];if(!i)throw new Error("unknown curve "+n.curve.join("."));var r=new o(i).keyFromPrivate(n.privateKey).sign(t);return new e(r.toDER())}(t,_)}if("dsa"===_.type){if("dsa"!==f)throw new Error("wrong private key type");return function(t,n,i){for(var r,o=n.params.priv_key,a=n.params.p,l=n.params.q,f=n.params.g,p=new s(0),_=c(t,l).mod(l),g=!1,m=u(o,l,t,i);!1===g;)r=h(l,m,i),p=d(f,r,a,l),0===(g=r.invm(l).imul(_.add(o.mul(p))).mod(l)).cmpn(0)&&(g=!1,p=new s(0));return function(t,n){t=t.toArray(),n=n.toArray(),128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n));var i=[48,t.length+n.length+4,2,t.length];return i=i.concat(t,[2,n.length],n),new e(i)}(p,g)}(t,_,i)}if("rsa"!==f&&"ecdsa/rsa"!==f)throw new Error("wrong private key type");t=e.concat([p,t]);for(var g=_.modulus.byteLength(),m=[0,1];t.length+m.length+1<g;)m.push(255);m.push(0);for(var v=-1;++v<t.length;)m.push(t[v]);return r(m,_)},t.exports.getKey=u,t.exports.makeKey=h}).call(this,n(8).Buffer)},function(t,e,n){"use strict";var i=n(40);e.certificate=n(287);var r=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});e.RSAPrivateKey=r;var o=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});e.RSAPublicKey=o;var s=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});e.PublicKey=s;var a=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});e.PrivateKey=l;var u=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});e.EncryptedPrivateKey=u;var c=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});e.DSAPrivateKey=c,e.DSAparam=i.define("DSAparam",function(){this.int()});var h=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});e.ECPrivateKey=h;var d=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});e.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(t,e,n){var i=n(40),r=n(4);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){var e;try{e=n(278).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(t){e=function(t){this._initNamed(t)}}return r(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(i.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(i.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}},function(module,exports,__webpack_require__){var indexOf=__webpack_require__(279),Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,n){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(t){return function(t,e,n){t[e]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var n=e.contentWindow,i=n.eval,r=n.execScript;!i&&r&&(r.call(n,"null"),i=n.eval),forEach(Object_keys(t),function(e){n[e]=t[e]}),forEach(globals,function(e){t[e]&&(n[e]=t[e])});var o=Object_keys(n),s=i.call(n,this.code);return forEach(Object_keys(n),function(e){(e in t||-1===indexOf(o,e))&&(t[e]=n[e])}),forEach(globals,function(e){e in t||defineProp(t,e,n[e])}),document.body.removeChild(e),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),n=this.runInContext(e);return forEach(Object_keys(e),function(n){t[n]=e[n]}),n},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var n=Script(e);return n[t].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(n){e[n]=t[n]}),e}},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},function(t,e,n){var i=n(4);function r(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=r,r.prototype.isError=function(t){return t instanceof o},r.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},r.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},r.prototype.enterKey=function(t){return this._reporterState.path.push(t)},r.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},r.prototype.leaveKey=function(t,e,n){var i=this._reporterState;this.exitKey(t),null!==i.obj&&(i.obj[e]=n)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},r.prototype.leaveObject=function(t){var e=this._reporterState,n=e.obj;return e.obj=t,n},r.prototype.error=function(t){var e,n=this._reporterState,i=t instanceof o;if(e=i?t:new o(n.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!n.options.partial)throw e;return i||n.errors.push(e),e},r.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},i(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,n){var i=n(41).Reporter,r=n(41).EncoderBuffer,o=n(41).DecoderBuffer,s=n(38),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(t,e){var n={};this._baseState=n,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=u;var c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var t=this._baseState,e={};c.forEach(function(n){e[n]=t[n]});var n=new this.constructor(e.parent);return n._baseState=e,n},u.prototype._wrap=function(){var t=this._baseState;l.forEach(function(e){this[e]=function(){var n=new this.constructor(this);return t.children.push(n),n[e].apply(n,arguments)}},this)},u.prototype._init=function(t){var e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(t){var e=this._baseState,n=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==n.length&&(s(null===e.children),e.children=n,n.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!=typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach(function(n){n==(0|n)&&(n|=0);var i=t[n];e[i]=n}),e}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){u.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),a.forEach(function(t){u.prototype[t]=function(){var e=this._baseState,n=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(n),this}}),u.prototype.use=function(t){s(t);var e=this._baseState;return s(null===e.use),e.use=t,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(t){var e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},u.prototype.explicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},u.prototype.implicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},u.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},u.prototype.key=function(t){var e=this._baseState;return s(null===e.key),e.key=t,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(t){var e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},u.prototype.contains=function(t){var e=this._baseState;return s(null===e.use),e.contains=t,this},u.prototype._decode=function(t,e){var n=this._baseState;if(null===n.parent)return t.wrapResult(n.children[0]._decode(t,e));var i,r=n.default,s=!0,a=null;if(null!==n.key&&(a=t.enterKey(n.key)),n.optional){var l=null;if(null!==n.explicit?l=n.explicit:null!==n.implicit?l=n.implicit:null!==n.tag&&(l=n.tag),null!==l||n.any){if(s=this._peekTag(t,l,n.any),t.isError(s))return s}else{var u=t.save();try{null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(u)}}if(n.obj&&s&&(i=t.enterObject()),s){if(null!==n.explicit){var c=this._decodeTag(t,n.explicit);if(t.isError(c))return c;t=c}var h=t.offset;if(null===n.use&&null===n.choice){if(n.any)u=t.save();var d=this._decodeTag(t,null!==n.implicit?n.implicit:n.tag,n.any);if(t.isError(d))return d;n.any?r=t.raw(u):t=d}if(e&&e.track&&null!==n.tag&&e.track(t.path(),h,t.length,"tagged"),e&&e.track&&null!==n.tag&&e.track(t.path(),t.offset,t.length,"content"),r=n.any?r:null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),t.isError(r))return r;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(t,e)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var f=new o(r);r=this._getUse(n.contains,t._reporterState.obj)._decode(f,e)}}return n.obj&&s&&(r=t.leaveObject(i)),null===n.key||null===r&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,n.key,r),r},u.prototype._decodeGeneric=function(t,e,n){var i=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,i.args[0],n):/str$/.test(t)?this._decodeStr(e,t,n):"objid"===t&&i.args?this._decodeObjid(e,i.args[0],i.args[1],n):"objid"===t?this._decodeObjid(e,null,null,n):"gentime"===t||"utctime"===t?this._decodeTime(e,t,n):"null_"===t?this._decodeNull(e,n):"bool"===t?this._decodeBool(e,n):"objDesc"===t?this._decodeStr(e,t,n):"int"===t||"enum"===t?this._decodeInt(e,i.args&&i.args[0],n):null!==i.use?this._getUse(i.use,e._reporterState.obj)._decode(e,n):e.error("unknown tag: "+t)},u.prototype._getUse=function(t,e){var n=this._baseState;return n.useDecoder=this._use(t,e),s(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},u.prototype._decodeChoice=function(t,e){var n=this._baseState,i=null,r=!1;return Object.keys(n.choice).some(function(o){var s=t.save(),a=n.choice[o];try{var l=a._decode(t,e);if(t.isError(l))return!1;i={type:o,value:l},r=!0}catch(e){return t.restore(s),!1}return!0},this),r?i:t.error("Choice not matched")},u.prototype._createEncoderBuffer=function(t){return new r(t,this.reporter)},u.prototype._encode=function(t,e,n){var i=this._baseState;if(null===i.default||i.default!==t){var r=this._encodeValue(t,e,n);if(void 0!==r&&!this._skipDefault(r,e,n))return r}},u.prototype._encodeValue=function(t,e,n){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(t,e||new i);var o=null;if(this.reporter=e,r.optional&&void 0===t){if(null===r.default)return;t=r.default}var s=null,a=!1;if(r.any)o=this._createEncoderBuffer(t);else if(r.choice)o=this._encodeChoice(t,e);else if(r.contains)s=this._getUse(r.contains,n)._encode(t,e),a=!0;else if(r.children)s=r.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,e,t);if(null===n._baseState.key)return e.error("Child should have a key");var i=e.enterKey(n._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");var r=n._encode(t[n._baseState.key],e,t);return e.leaveKey(i),r},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return e.error("Too many args for : "+r.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var l=this.clone();l._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(n){var i=this._baseState;return this._getUse(i.args[0],t)._encode(n,e)},l))}else null!==r.use?o=this._getUse(r.use,n)._encode(t,e):(s=this._encodePrimitive(r.tag,t),a=!0);if(!r.any&&null===r.choice){var u=null!==r.implicit?r.implicit:r.tag,c=null===r.implicit?"universal":"context";null===u?null===r.use&&e.error("Tag could be omitted only for .use()"):null===r.use&&(o=this._encodeComposite(u,a,c,s))}return null!==r.explicit&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(t,e){var n=this._baseState,i=n.choice[t.type];return i||s(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(t.value,e)},u.prototype._encodePrimitive=function(t,e){var n=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},u.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},u.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(t)}},function(t,e,n){var i=n(132);e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=i._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=i._reverse(e.tag)},function(t,e,n){var i=e;i.der=n(133),i.pem=n(284)},function(t,e,n){var i=n(4),r=n(8).Buffer,o=n(133);function s(t){o.call(this,t),this.enc="pem"}i(s,o),t.exports=s,s.prototype.decode=function(t,e){for(var n=t.toString().split(/[\r\n]+/g),i=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,l=-1,u=0;u<n.length;u++){var c=n[u].match(s);if(null!==c&&c[2]===i){if(-1!==a){if("END"!==c[1])break;l=u;break}if("BEGIN"!==c[1])break;a=u}}if(-1===a||-1===l)throw new Error("PEM section not found for: "+i);var h=n.slice(a+1,l).join("");h.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new r(h,"base64");return o.prototype.decode.call(this,d,e)}},function(t,e,n){var i=e;i.der=n(134),i.pem=n(286)},function(t,e,n){var i=n(4),r=n(134);function o(t){r.call(this,t),this.enc="pem"}i(o,r),t.exports=o,o.prototype.encode=function(t,e){for(var n=r.prototype.encode.call(this,t).toString("base64"),i=["-----BEGIN "+e.label+"-----"],o=0;o<n.length;o+=64)i.push(n.slice(o,o+64));return i.push("-----END "+e.label+"-----"),i.join("\n")}},function(t,e,n){"use strict";var i=n(40),r=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),a=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),l=i.define("RelativeDistinguishedName",function(){this.setof(o)}),u=i.define("RDNSequence",function(){this.seqof(l)}),c=i.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),h=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(r),this.key("notAfter").use(r))}),d=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(c),this.key("validity").use(h),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),p=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});t.exports=p},function(t){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(t,e,n){(function(e){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,r=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,s=n(55),a=n(85);t.exports=function(t,n){var l,u=t.toString(),c=u.match(i);if(c){var h="aes"+c[1],d=new e(c[2],"hex"),f=new e(c[3].replace(/[\r\n]/g,""),"base64"),p=s(n,d.slice(0,8),parseInt(c[1],10)).key,_=[],g=a.createDecipheriv(h,p,d);_.push(g.update(f)),_.push(g.final()),l=e.concat(_)}else{var m=u.match(o);l=new e(m[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(r)[1],data:l}}}).call(this,n(8).Buffer)},function(t,e,n){(function(e){var i=n(5),r=n(5).ec,o=n(56),s=n(135);function a(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,n,l,u,c){var h=o(l);if("ec"===h.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var i=s[n.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var o=new r(i),a=n.data.subjectPrivateKey.data;return o.verify(e,t,a)}(t,n,h)}if("dsa"===h.type){if("dsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var r=n.data.p,s=n.data.q,l=n.data.g,u=n.data.pub_key,c=o.signature.decode(t,"der"),h=c.s,d=c.r;a(h,s),a(d,s);var f=i.mont(r),p=h.invm(s);return 0===l.toRed(f).redPow(new i(e).mul(p).mod(s)).fromRed().mul(u.toRed(f).redPow(d.mul(p).mod(s)).fromRed()).mod(r).mod(s).cmp(d)}(t,n,h)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");n=e.concat([c,n]);for(var d=h.modulus.byteLength(),f=[1],p=0;n.length+f.length+2<d;)f.push(255),p++;f.push(0);for(var _=-1;++_<n.length;)f.push(n[_]);f=new e(f);var g=i.mont(h.modulus);t=(t=new i(t).toRed(g)).redPow(new i(h.publicExponent)),t=new e(t.fromRed().toArray());var m=p<8?1:0;for(d=Math.min(t.length,f.length),t.length!==f.length&&(m=1),_=-1;++_<d;)m|=t[_]^f[_];return 0===m}}).call(this,n(8).Buffer)},function(t,e,n){(function(e){var i=n(5),r=n(5);t.exports=function(t){return new s(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function a(t,n,i){Array.isArray(t)||(t=t.toArray());var r=new e(t);if(i&&r.length<i){var o=new e(i-r.length);o.fill(0),r=e.concat([o,r])}return n?r.toString(n):r}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,s.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},s.prototype.computeSecret=function(t,n,i){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),a(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),i,this.curveType.byteLength)},s.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[n.length-1]%2?n[0]=7:n[0]=6),a(n,t)},s.prototype.getPrivateKey=function(t){return a(this.keys.getPrivate(),t)},s.prototype.setPublicKey=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.keys._importPublic(t),this},s.prototype.setPrivateKey=function(t,n){n=n||"utf8",e.isBuffer(t)||(t=new e(t,n));var i=new r(t);return i=i.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(i),this}}).call(this,n(8).Buffer)},function(t,e,n){e.publicEncrypt=n(293),e.privateDecrypt=n(294),e.privateEncrypt=function(t,n){return e.publicEncrypt(t,n,!0)},e.publicDecrypt=function(t,n){return e.privateDecrypt(t,n,!0)}},function(t,e,n){var i=n(56),r=n(31),o=n(37),s=n(136),a=n(137),l=n(5),u=n(138),c=n(87),h=n(3).Buffer;t.exports=function(t,e,n){var d;d=t.padding?t.padding:n?1:4;var f,p=i(t);if(4===d)f=function(t,e){var n=t.modulus.byteLength(),i=e.length,u=o("sha1").update(h.alloc(0)).digest(),c=u.length,d=2*c;if(i>n-d-2)throw new Error("message too long");var f=h.alloc(n-i-d-2),p=n-c-1,_=r(c),g=a(h.concat([u,f,h.alloc(1,1),e],p),s(_,p)),m=a(_,s(g,c));return new l(h.concat([h.alloc(1),m,g],n))}(p,e);else if(1===d)f=function(t,e,n){var i,o=e.length,s=t.modulus.byteLength();if(o>s-11)throw new Error("message too long");i=n?h.alloc(s-o-3,255):function(t){var e,n=h.allocUnsafe(t),i=0,o=r(2*t),s=0;for(;i<t;)s===o.length&&(o=r(2*t),s=0),(e=o[s++])&&(n[i++]=e);return n}(s-o-3);return new l(h.concat([h.from([0,n?1:2]),i,h.alloc(1),e],s))}(p,e,n);else{if(3!==d)throw new Error("unknown padding");if((f=new l(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?c(f,p):u(f,p)}},function(t,e,n){var i=n(56),r=n(136),o=n(137),s=n(5),a=n(87),l=n(37),u=n(138),c=n(3).Buffer;t.exports=function(t,e,n){var h;h=t.padding?t.padding:n?1:4;var d,f=i(t),p=f.modulus.byteLength();if(e.length>p||new s(e).cmp(f.modulus)>=0)throw new Error("decryption error");d=n?u(new s(e),f):a(e,f);var _=c.alloc(p-d.length);if(d=c.concat([_,d],p),4===h)return function(t,e){var n=t.modulus.byteLength(),i=l("sha1").update(c.alloc(0)).digest(),s=i.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,s+1),u=e.slice(s+1),h=o(a,r(u,s)),d=o(u,r(h,n-s-1));if(function(t,e){t=c.from(t),e=c.from(e);var n=0,i=t.length;t.length!==e.length&&(n++,i=Math.min(t.length,e.length));var r=-1;for(;++r<i;)n+=t[r]^e[r];return n}(i,d.slice(0,s)))throw new Error("decryption error");var f=s;for(;0===d[f];)f++;if(1!==d[f++])throw new Error("decryption error");return d.slice(f)}(f,d);if(1===h)return function(t,e,n){var i=e.slice(0,2),r=2,o=0;for(;0!==e[r++];)if(r>=e.length){o++;break}var s=e.slice(2,r-1);("0002"!==i.toString("hex")&&!n||"0001"!==i.toString("hex")&&n)&&o++;s.length<8&&o++;if(o)throw new Error("decryption error");return e.slice(r)}(0,d,n);if(3===h)return d;throw new Error("unknown padding")}},function(t,e,n){"use strict";(function(t,i){function r(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(3),s=n(31),a=o.Buffer,l=o.kMaxLength,u=t.crypto||t.msCrypto,c=Math.pow(2,32)-1;function h(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>c||t<0)throw new TypeError("offset must be a uint32");if(t>l||t>e)throw new RangeError("offset out of range")}function d(t,e,n){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>c||t<0)throw new TypeError("size must be a uint32");if(t+e>n||t>l)throw new RangeError("buffer too small")}function f(t,e,n,r){if(i.browser){var o=t.buffer,a=new Uint8Array(o,e,n);return u.getRandomValues(a),r?void i.nextTick(function(){r(null,t)}):t}if(!r)return s(n).copy(t,e),t;s(n,function(n,i){if(n)return r(n);i.copy(t,e),r(null,t)})}u&&u.getRandomValues||!i.browser?(e.randomFill=function(e,n,i,r){if(!(a.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)r=n,n=0,i=e.length;else if("function"==typeof i)r=i,i=e.length-n;else if("function"!=typeof r)throw new TypeError('"cb" argument must be a function');return h(n,e.length),d(i,n,e.length),f(e,n,i,r)},e.randomFillSync=function(e,n,i){void 0===n&&(n=0);if(!(a.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');h(n,e.length),void 0===i&&(i=e.length-n);return d(i,n,e.length),f(e,n,i)}):(e.randomFill=r,e.randomFillSync=r)}).call(this,n(10),n(24))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t){this.name=t,this._tokenStructuralPropertyT=null}}();e.Token=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(112);!function(t){t.uuid4=function(){for(var t=new Uint8Array(16),e=new Array(256),n=0;n<16;++n)e[n]="0"+n.toString(16);for(n=16;n<256;++n)e[n]=n.toString(16);return function(){return i.Random.getRandomValues(t),t[6]=64|15&t[6],t[8]=128|63&t[8],e[t[0]]+e[t[1]]+e[t[2]]+e[t[3]]+"-"+e[t[4]]+e[t[5]]+"-"+e[t[6]]+e[t[7]]+"-"+e[t[8]]+e[t[9]]+"-"+e[t[10]]+e[t[11]]+e[t[12]]+e[t[13]]+e[t[14]]+e[t[15]]}}()}(e.UUID||(e.UUID={}))},function(module,exports,__webpack_require__){"use strict";(function(process){Object.defineProperty(exports,"__esModule",{value:!0});var coreutils_1=__webpack_require__(16),minimist=__webpack_require__(299),url_1=__webpack_require__(139),PageConfig,Private;!function(PageConfig){function getOption(name){if(configData)return configData[name]||Private.getBodyData(name);configData=Object.create(null);var found=!1;if("undefined"!=typeof document){var el=document.getElementById("jupyter-config-data");el&&(configData=JSON.parse(el.textContent||""),found=!0)}if(!found&&void 0!==process)try{var cli=minimist(process.argv.slice(2));if("jupyter-config-data"in cli){var path=__webpack_require__(303),fullPath=path.resolve(cli["jupyter-config-data"]);configData=eval("require")(fullPath)}}catch(t){console.error(t)}if(coreutils_1.JSONExt.isObject(configData))for(var key in configData)configData[key]=String(configData[key]).split("&#39;").join('"');else configData=Object.create(null);return configData[name]||""}function setOption(t,e){var n=getOption(t);return configData[t]=e,n}function getBaseUrl(){var t=getOption("baseUrl");return t&&"/"!==t||(t="undefined"==typeof location?"http://localhost:8888/":location.origin+"/"),url_1.URLExt.parse(t).toString()}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("pageUrl"),"tree")}function getWsUrl(t){var e=getOption("wsUrl");return e||(0!==(t=t||getBaseUrl()).indexOf("http")&&(t="undefined"!=typeof location?url_1.URLExt.join(location.origin,t):url_1.URLExt.join("http://localhost:8888/",t)),e="ws"+t.slice(4)),url_1.URLExt.parse(e).toString()}function getToken(){return getOption("token")||Private.getBodyData("jupyterApiToken")}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getWsUrl=getWsUrl,PageConfig.getToken=getToken;var configData=null}(PageConfig=exports.PageConfig||(exports.PageConfig={})),function(t){t.getBodyData=function(t){if("undefined"==typeof document||!document.body)return"";var e=document.body.dataset[t];return void 0===e?"":decodeURIComponent(e)}}(Private||(Private={}))}).call(this,__webpack_require__(24))},function(t,e){function n(t){return"number"==typeof t||(!!/^0x[0-9a-f]+$/i.test(t)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t))}t.exports=function(t,e){e||(e={});var i={bools:{},strings:{},unknownFn:null};"function"==typeof e.unknown&&(i.unknownFn=e.unknown),"boolean"==typeof e.boolean&&e.boolean?i.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(t){i.bools[t]=!0});var r={};Object.keys(e.alias||{}).forEach(function(t){r[t]=[].concat(e.alias[t]),r[t].forEach(function(e){r[e]=[t].concat(r[t].filter(function(t){return e!==t}))})}),[].concat(e.string).filter(Boolean).forEach(function(t){i.strings[t]=!0,r[t]&&(i.strings[r[t]]=!0)});var o=e.default||{},s={_:[]};Object.keys(i.bools).forEach(function(t){l(t,void 0!==o[t]&&o[t])});var a=[];function l(t,e,o){if(!o||!i.unknownFn||function(t,e){return i.allBools&&/^--[^=]+$/.test(e)||i.strings[t]||i.bools[t]||r[t]}(t,o)||!1!==i.unknownFn(o)){var a=!i.strings[t]&&n(e)?Number(e):e;u(s,t.split("."),a),(r[t]||[]).forEach(function(t){u(s,t.split("."),a)})}}function u(t,e,n){var r=t;e.slice(0,-1).forEach(function(t){void 0===r[t]&&(r[t]={}),r=r[t]});var o=e[e.length-1];void 0===r[o]||i.bools[o]||"boolean"==typeof r[o]?r[o]=n:Array.isArray(r[o])?r[o].push(n):r[o]=[r[o],n]}function c(t){return r[t].some(function(t){return i.bools[t]})}-1!==t.indexOf("--")&&(a=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var h=0;h<t.length;h++){var d=t[h];if(/^--.+=/.test(d)){var f=d.match(/^--([^=]+)=([\s\S]*)$/),p=f[1],_=f[2];i.bools[p]&&(_="false"!==_),l(p,_,d)}else if(/^--no-.+/.test(d)){l(p=d.match(/^--no-(.+)/)[1],!1,d)}else if(/^--.+/.test(d)){p=d.match(/^--(.+)/)[1];void 0===(y=t[h+1])||/^-/.test(y)||i.bools[p]||i.allBools||r[p]&&c(p)?/^(true|false)$/.test(y)?(l(p,"true"===y,d),h++):l(p,!i.strings[p]||"",d):(l(p,y,d),h++)}else if(/^-[^-]+/.test(d)){for(var g=d.slice(1,-1).split(""),m=!1,v=0;v<g.length;v++){var y;if("-"!==(y=d.slice(v+2))){if(/[A-Za-z]/.test(g[v])&&/=/.test(y)){l(g[v],y.split("=")[1],d),m=!0;break}if(/[A-Za-z]/.test(g[v])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(y)){l(g[v],y,d),m=!0;break}if(g[v+1]&&g[v+1].match(/\W/)){l(g[v],d.slice(v+2),d),m=!0;break}l(g[v],!i.strings[g[v]]||"",d)}else l(g[v],y,d)}p=d.slice(-1)[0];m||"-"===p||(!t[h+1]||/^(-|--)[^-]/.test(t[h+1])||i.bools[p]||r[p]&&c(p)?t[h+1]&&/true|false/.test(t[h+1])?(l(p,"true"===t[h+1],d),h++):l(p,!i.strings[p]||"",d):(l(p,t[h+1],d),h++))}else if(i.unknownFn&&!1===i.unknownFn(d)||s._.push(i.strings._||!n(d)?d:Number(d)),e.stopEarly){s._.push.apply(s._,t.slice(h+1));break}}return Object.keys(o).forEach(function(t){var e,n,i;e=s,n=t.split("."),i=e,n.slice(0,-1).forEach(function(t){i=i[t]||{}}),n[n.length-1]in i||(u(s,t.split("."),o[t]),(r[t]||[]).forEach(function(e){u(s,e.split("."),o[t])}))}),e["--"]?(s["--"]=new Array,a.forEach(function(t){s["--"].push(t)})):a.forEach(function(t){s._.push(t)}),s}},function(t,e,n){"use strict";(function(e){var i=n(301),r=n(302),o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function u(t){var n,i={},r=typeof(t=t||e.location||{});if("blob:"===t.protocol)i=new h(unescape(t.pathname),{});else if("string"===r)for(n in i=new h(t,{}),l)delete i[n];else if("object"===r){for(n in t)n in l||(i[n]=t[n]);void 0===i.slashes&&(i.slashes=s.test(t.href))}return i}function c(t){var e=o.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function h(t,e,n){if(!(this instanceof h))return new h(t,e,n);var o,s,l,d,f,p,_=a.slice(),g=typeof e,m=this,v=0;for("object"!==g&&"string"!==g&&(n=e,e=null),n&&"function"!=typeof n&&(n=r.parse),e=u(e),o=!(s=c(t||"")).protocol&&!s.slashes,m.slashes=s.slashes||o&&e.slashes,m.protocol=s.protocol||e.protocol||"",t=s.rest,s.slashes||(_[2]=[/(.*)/,"pathname"]);v<_.length;v++)l=(d=_[v])[0],p=d[1],l!=l?m[p]=t:"string"==typeof l?~(f=t.indexOf(l))&&("number"==typeof d[2]?(m[p]=t.slice(0,f),t=t.slice(f+d[2])):(m[p]=t.slice(f),t=t.slice(0,f))):(f=l.exec(t))&&(m[p]=f[1],t=t.slice(0,f.index)),m[p]=m[p]||o&&d[3]&&e[p]||"",d[4]&&(m[p]=m[p].toLowerCase());n&&(m.query=n(m.query)),o&&e.slashes&&"/"!==m.pathname.charAt(0)&&(""!==m.pathname||""!==e.pathname)&&(m.pathname=function(t,e){for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),i=n.length,r=n[i-1],o=!1,s=0;i--;)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),s++):s&&(0===i&&(o=!0),n.splice(i,1),s--);return o&&n.unshift(""),"."!==r&&".."!==r||n.push(""),n.join("/")}(m.pathname,e.pathname)),i(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(d=m.auth.split(":"),m.username=d[0]||"",m.password=d[1]||""),m.origin=m.protocol&&m.host&&"file:"!==m.protocol?m.protocol+"//"+m.host:"null",m.href=m.toString()}h.prototype={set:function(t,e,n){var o=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||r.parse)(e)),o[t]=e;break;case"port":o[t]=e,i(e,o.protocol)?e&&(o.host=o.hostname+":"+e):(o.host=o.hostname,o[t]="");break;case"hostname":o[t]=e,o.port&&(e+=":"+o.port),o.host=e;break;case"host":o[t]=e,/:\d+$/.test(e)?(e=e.split(":"),o.port=e.pop(),o.hostname=e.join(":")):(o.hostname=e,o.port="");break;case"protocol":o.protocol=e.toLowerCase(),o.slashes=!n;break;case"pathname":o.pathname=e.length&&"/"!==e.charAt(0)?"/"+e:e;break;default:o[t]=e}for(var s=0;s<a.length;s++){var l=a[s];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(t){t&&"function"==typeof t||(t=r.stringify);var e,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var o=i+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(o+=n.hash),o}},h.extractProtocol=c,h.location=u,h.qs=r,t.exports=h}).call(this,n(10))},function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty;function r(t){return decodeURIComponent(t.replace(/\+/g," "))}e.stringify=function(t,e){e=e||"";var n=[];for(var r in"string"!=typeof e&&(e="?"),t)i.call(t,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n.length?e+n.join("&"):""},e.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,i={};e=n.exec(t);i[r(e[1])]=r(e[2]));return i}},function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(t){return i.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var s=r>=0?arguments[r]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return(i?"/":"")+(e=n(o(e.split("/"),function(t){return!!t}),!i).join("/"))||"."},e.normalize=function(t){var i=e.isAbsolute(t),r="/"===s(t,-1);return(t=n(o(t.split("/"),function(t){return!!t}),!i).join("/"))||i||(t="."),t&&r&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=i(t.split("/")),o=i(n.split("/")),s=Math.min(r.length,o.length),a=s,l=0;l<s;l++)if(r[l]!==o[l]){a=l;break}var u=[];for(l=a;l<r.length;l++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=r(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},e.basename=function(t,e){var n=r(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return r(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(24))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(305);!function(t){function e(t){return 0===t.indexOf("/")&&(t=t.slice(1)),t}t.join=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"."===i.join.apply(i,t)?"":e(i.join.apply(i,t))},t.basename=function(t,e){return i.basename(t,e)},t.dirname=function(t){var n=e(i.dirname(t));return"."===n?"":n},t.extname=function(t){return i.extname(t)},t.normalize=function(t){return""===t?"":e(i.normalize(t))},t.resolve=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(i.resolve.apply(i,t))},t.relative=function(t,n){return e(i.relative(t,n))},t.normalizeExtension=function(t){return t.length>0&&0!==t.indexOf(".")&&(t="."+t),t},t.removeSlash=e}(e.PathExt||(e.PathExt={}))},function(t,e,n){"use strict";(function(e){var i=n(306),r=function(t){return"string"==typeof t};function o(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];r&&"."!==r&&(".."===r?n.length&&".."!==n[n.length-1]?n.pop():e&&n.push(".."):n.push(r))}return n}var s=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a={};function l(t){return s.exec(t).slice(1)}a.resolve=function(){for(var t="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:e.cwd();if(!r(s))throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,n="/"===s.charAt(0))}return(n?"/":"")+(t=o(t.split("/"),!n).join("/"))||"."},a.normalize=function(t){var e=a.isAbsolute(t),n="/"===t.substr(-1);return(t=o(t.split("/"),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},a.isAbsolute=function(t){return"/"===t.charAt(0)},a.join=function(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];if(!r(n))throw new TypeError("Arguments to path.join must be strings");n&&(t+=t?"/"+n:n)}return a.normalize(t)},a.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n+1)}t=a.resolve(t).substr(1),e=a.resolve(e).substr(1);for(var i=n(t.split("/")),r=n(e.split("/")),o=Math.min(i.length,r.length),s=o,l=0;l<o;l++)if(i[l]!==r[l]){s=l;break}var u=[];for(l=s;l<i.length;l++)u.push("..");return(u=u.concat(r.slice(s))).join("/")},a._makeLong=function(t){return t},a.dirname=function(t){var e=l(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},a.basename=function(t,e){var n=l(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},a.extname=function(t){return l(t)[3]},a.format=function(t){if(!i.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!r(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);return(t.dir?t.dir+a.sep:"")+(t.base||"")},a.parse=function(t){if(!r(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=l(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return e[1]=e[1]||"",e[2]=e[2]||"",e[3]=e[3]||"",{root:e[0],dir:e[0]+e[1].slice(0,e[1].length-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},a.sep="/",a.delimiter=":",t.exports=a}).call(this,n(24))},function(t,e,n){(function(t,i){var r=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,s=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),l=i[n];n<o;l=i[++n])_(l)||!b(l)?s+=" "+l:s+=" "+a(l);return s},e.deprecate=function(n,r){if(v(t.process))return function(){return e.deprecate(n,r).apply(this,arguments)};if(!0===i.noDeprecation)return n;var o=!1;return function(){if(!o){if(i.throwDeprecation)throw new Error(r);i.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var o,s={};function a(t,n){var i={seen:[],stylize:u};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(n)?i.showHidden=n:n&&e._extend(i,n),v(i.showHidden)&&(i.showHidden=!1),v(i.depth)&&(i.depth=2),v(i.colors)&&(i.colors=!1),v(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),c(i,t,i.depth)}function l(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function u(t,e){return t}function c(t,n,i){if(t.customInspect&&n&&k(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return m(r)||(r=c(t,r,i)),r}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(g(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(_(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),x(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(k(n)){var l=n.name?": "+n.name:"";return t.stylize("[Function"+l+"]","special")}if(y(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return h(n)}var u,b="",M=!1,E=["{","}"];(f(n)&&(M=!0,E=["[","]"]),k(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(b=" "+RegExp.prototype.toString.call(n)),w(n)&&(b=" "+Date.prototype.toUTCString.call(n)),x(n)&&(b=" "+h(n)),0!==s.length||M&&0!=n.length?i<0?y(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=M?function(t,e,n,i,r){for(var o=[],s=0,a=e.length;s<a;++s)S(e,String(s))?o.push(d(t,e,n,i,String(s),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(d(t,e,n,i,r,!0))}),o}(t,n,i,a,s):s.map(function(e){return d(t,n,i,a,e,M)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(u,b,E)):E[0]+b+E[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,n,i,r,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),S(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(l.value)<0?(a=_(n)?c(t,l.value,null):c(t,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),v(s)){if(o&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function f(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function _(t){return null===t}function g(t){return"number"==typeof t}function m(t){return"string"==typeof t}function v(t){return void 0===t}function y(t){return b(t)&&"[object RegExp]"===M(t)}function b(t){return"object"==typeof t&&null!==t}function w(t){return b(t)&&"[object Date]"===M(t)}function x(t){return b(t)&&("[object Error]"===M(t)||t instanceof Error)}function k(t){return"function"==typeof t}function M(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(v(o)&&(o=i.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=i.pid;s[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else s[t]=function(){};return s[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=p,e.isNull=_,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=y,e.isObject=b,e.isDate=w,e.isError=x,e.isFunction=k,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(307);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":"),[t.getDate(),j[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(4),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,n(10),n(24))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),r=n(6);e.IStateDB=new i.Token("@jupyterlab/coreutils:IStateDB");var o=function(){function t(t){var e=this;this.maxLength=2e3,this._changed=new r.Signal(this);var n=t.namespace,i=t.transform;this.namespace=n,this._ready=i?i.then(function(t){var n=t.contents;switch(t.type){case"cancel":return;case"clear":return void e._clear();case"merge":return void e._merge(n||{});case"overwrite":return void e._overwrite(n||{});default:return}}):Promise.resolve(void 0)}return Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),t.prototype.clear=function(t){var e=this;return void 0===t&&(t=!1),this._ready.then(function(){e._clear(),t||e._changed.emit({id:null,type:"clear"})})},t.prototype.fetch=function(t){var e=this;return this._ready.then(function(){var n=e.namespace+":"+t,i=window.localStorage.getItem(n);if(i)return JSON.parse(i).v})},t.prototype.fetchNamespace=function(t){var e=this;return this._ready.then(function(){for(var n=window.localStorage,i=e.namespace+":"+t+":",r=[],o=n.length;o;){var s=n.key(--o);if(s&&0===s.indexOf(i)){var a=n.getItem(s);try{var l=JSON.parse(a);r.push({id:s.replace(e.namespace+":",""),value:l?l.v:void 0})}catch(t){console.warn(t),n.removeItem(s)}}}return r})},t.prototype.remove=function(t){var e=this;return this._ready.then(function(){window.localStorage.removeItem(e.namespace+":"+t),e._changed.emit({id:t,type:"remove"})})},t.prototype.save=function(t,e){var n=this;return this._ready.then(function(){n._save(t,e),n._changed.emit({id:t,type:"save"})})},t.prototype.toJSON=function(){var t=this;return this._ready.then(function(){for(var e=window.localStorage,n=t.namespace+":",i={},r=e.length;r;){var o=e.key(--r);if(o&&0===o.indexOf(n)){var s=e.getItem(o);try{var a=JSON.parse(s);a&&(i[o.replace(n,"")]=a.v)}catch(t){console.warn(t),e.removeItem(o)}}}return i})},t.prototype._clear=function(){for(var t=window.localStorage,e=this.namespace+":",n=t.length;n;){var i=t.key(--n);i&&0===i.indexOf(e)&&t.removeItem(i)}},t.prototype._merge=function(t){var e=this;Object.keys(t).forEach(function(n){e._save(n,t[n])})},t.prototype._overwrite=function(t){this._clear(),this._merge(t)},t.prototype._save=function(t,e){var n=this.namespace+":"+t,i={v:e},r=JSON.stringify(i),o=r.length,s=this.maxLength;if(o>s)throw new Error("Data length ("+o+") exceeds maximum ("+s+")");window.localStorage.setItem(n,r)},t}();e.StateDB=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e="".length>1;t.jsIndexToCharIndex=function(t,n){if(e)return t;for(var i=t,r=0;r+1<n.length&&r<t;r++){var o=n.charCodeAt(r);if(o>=55296&&o<=56319){var s=n.charCodeAt(r+1);s>=56320&&s<=57343&&(i--,r++)}}return i},t.charIndexToJsIndex=function(t,n){if(e)return t;for(var i=t,r=0;r+1<n.length&&r<i;r++){var o=n.charCodeAt(r);if(o>=55296&&o<=56319){var s=n.charCodeAt(r+1);s>=56320&&s<=57343&&(i++,r++)}}return i}}(e.Text||(e.Text={}))},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uuid=function(t){void 0===t&&(t=32);for(var e=new Array(t),n="0123456789abcdef".length,i=0;i<t;i++)e[i]="0123456789abcdef".charAt(Math.floor(Math.random()*n));return e.join("")}},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(141)),i(n(319)),i(n(57))},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(19),s=n(7),a=n(16),l=n(42),u=n(6),c=n(15),h=n(315),d=n(57),f=n(316),p=n(317),_=n(318),g="api/kernels",m="api/kernelspecs",v=function(){function t(t,e){var n=this;this._createSocket=function(){var t=n.serverSettings,e=o.URLExt.join(t.wsUrl,g,encodeURIComponent(n._id)),i=e.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.log("Starting WebSocket:",i);var r=o.URLExt.join(e,"channels?session_id="+encodeURIComponent(n._clientId)),s=t.token;""!==s&&(r=r+"&token="+encodeURIComponent(s)),n._connectionPromise=new a.PromiseDelegate,n._wsStopped=!1,n._ws=new t.WebSocket(r),n._ws.binaryType="arraybuffer",n._ws.onmessage=n._onWSMessage,n._ws.onopen=n._onWSOpen,n._ws.onclose=n._onWSClose,n._ws.onerror=n._onWSClose},this._onWSOpen=function(t){n._reconnectAttempt=0,n._isReady=!0,n._updateStatus("connected"),n.requestKernelInfo().then(function(){n._connectionPromise.resolve(void 0)}).catch(function(t){n._connectionPromise.reject(t)}),n._isReady=!1},this._onWSMessage=function(t){if(!n._wsStopped){var e=p.deserialize(t.data);try{_.validateMessage(e)}catch(t){return void console.error("Invalid message: "+t.message)}var i=!1;if(e.parent_header&&"iopub"===e.channel)switch(e.header.msg_type){case"display_data":case"update_display_data":case"execute_result":var r=(e.content.transient||{}).display_id;r&&(i=n._handleDisplayId(r,e))}if(!i&&e.parent_header){var o=e.parent_header,s=n._futures&&n._futures.get(o.msg_id);if(s)s.handleMsg(e);else{var a=o.session===n.clientId;"iopub"!==e.channel&&a&&n._unhandledMessage.emit(e)}}if("iopub"===e.channel){switch(e.header.msg_type){case"status":n._updateStatus(e.content.execution_state);break;case"comm_open":n._handleCommOpen(e);break;case"comm_msg":n._handleCommMsg(e);break;case"comm_close":n._handleCommClose(e)}n._iopubMessage.emit(e)}}},this._onWSClose=function(t){if(!n._wsStopped&&n._ws)if(n._ws.onclose=n._noOp,n._ws.onerror=n._noOp,n._ws=null,n._reconnectAttempt<n._reconnectLimit){n._updateStatus("reconnecting");var e=Math.pow(2,n._reconnectAttempt);console.error("Connection lost, reconnecting in "+e+" seconds."),setTimeout(n._createSocket,1e3*e),n._reconnectAttempt+=1}else n._updateStatus("dead"),n._connectionPromise.reject(new Error("Could not establish connection"))},this._id="",this._name="",this._status="unknown",this._clientId="",this._isDisposed=!1,this._wsStopped=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._isReady=!1,this._targetRegistry=Object.create(null),this._info=null,this._pendingMessages=[],this._statusChanged=new u.Signal(this),this._iopubMessage=new u.Signal(this),this._unhandledMessage=new u.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._terminated=new u.Signal(this),this._noOp=function(){},this._name=t.name,this._id=e,this.serverSettings=t.serverSettings||c.ServerConnection.makeSettings(),this._clientId=t.clientId||o.uuid(),this._username=t.username||"",this._futures=new Map,this._commPromises=new Map,this._comms=new Map,this._createSocket(),r.runningKernels.push(this)}return Object.defineProperty(t.prototype,"terminated",{get:function(){return this._terminated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanged",{get:function(){return this._statusChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iopubMessage",{get:function(){return this._iopubMessage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unhandledMessage",{get:function(){return this._unhandledMessage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return{name:this.name,id:this.id}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"username",{get:function(){return this._username},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientId",{get:function(){return this._clientId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"info",{get:function(){return this._info},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return this._isReady},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return this._connectionPromise.promise},enumerable:!0,configurable:!0}),t.prototype.getSpec=function(){var t=this;return this._specPromise?this._specPromise:(this._specPromise=r.findSpecs(this.serverSettings).then(function(e){return e.kernelspecs[t._name]}),this._specPromise)},t.prototype.clone=function(){return new t({name:this._name,username:this._username,serverSettings:this.serverSettings},this._id)},t.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,this._terminated.emit(void 0),this._status="dead",this._clearSocket(),this._futures.forEach(function(t,e){t.dispose()}),this._comms.forEach(function(t,e){t.dispose()}),this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear(),s.ArrayExt.removeFirstOf(r.runningKernels,this),u.Signal.clearData(this))},t.prototype.sendShellMessage=function(t,e,n){var i=this;if(void 0===e&&(e=!1),void 0===n&&(n=!0),"dead"===this.status)throw new Error("Kernel is dead");this._isReady&&this._ws?this._ws.send(p.serialize(t)):this._pendingMessages.push(t);var r=new f.KernelFutureHandler(function(){var e=t.header.msg_id;i._futures.delete(e);var n=i._msgIdToDisplayIds.get(e);n&&(n.forEach(function(t){var n=i._displayIdToParentIds.get(t);if(n){var r=n.indexOf(e);if(-1===r)return;1===n.length?i._displayIdToParentIds.delete(t):(n.splice(r,1),i._displayIdToParentIds.set(t,n))}}),i._msgIdToDisplayIds.delete(e))},t,e,n,this);return this._futures.set(t.header.msg_id,r),r},t.prototype.interrupt=function(){return r.interruptKernel(this,this.serverSettings)},t.prototype.restart=function(){return r.restartKernel(this,this.serverSettings)},t.prototype.handleRestart=function(){this._clearState(),this._updateStatus("restarting"),this._clearSocket()},t.prototype.reconnect=function(){return this._clearSocket(),this._updateStatus("reconnecting"),this._createSocket(),this._connectionPromise.promise},t.prototype.shutdown=function(){var t=this;return"dead"===this.status?Promise.reject(new Error("Kernel is dead")):r.shutdownKernel(this.id,this.serverSettings).then(function(){t._clearState(),t._clearSocket()})},t.prototype.requestKernelInfo=function(){var t=this,e={msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId},n=d.KernelMessage.createShellMessage(e);return r.handleShellMessage(this,n).then(function(e){return t._info=e.content,e})},t.prototype.requestComplete=function(t){var e={msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId},n=d.KernelMessage.createShellMessage(e,t);return r.handleShellMessage(this,n)},t.prototype.requestInspect=function(t){var e={msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId},n=d.KernelMessage.createShellMessage(e,t);return r.handleShellMessage(this,n)},t.prototype.requestHistory=function(t){var e={msgType:"history_request",channel:"shell",username:this._username,session:this._clientId},n=d.KernelMessage.createShellMessage(e,t);return r.handleShellMessage(this,n)},t.prototype.requestExecute=function(t,e){void 0===e&&(e=!0);var n={msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId};t=i({},{silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1},t);var r=d.KernelMessage.createShellMessage(n,t);return this.sendShellMessage(r,!0,e)},t.prototype.requestIsComplete=function(t){var e={msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId},n=d.KernelMessage.createShellMessage(e,t);return r.handleShellMessage(this,n)},t.prototype.requestCommInfo=function(t){var e={msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId},n=d.KernelMessage.createShellMessage(e,t);return r.handleShellMessage(this,n)},t.prototype.sendInputReply=function(t){if("dead"===this.status)throw new Error("Kernel is dead");var e={msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId},n=d.KernelMessage.createMessage(e,t);this._isReady&&this._ws?this._ws.send(p.serialize(n)):this._pendingMessages.push(n)},t.prototype.registerMessageHook=function(t,e){var n=this,i=this._futures&&this._futures.get(t);return i&&i.registerMessageHook(e),new l.DisposableDelegate(function(){(i=n._futures&&n._futures.get(t))&&i.removeMessageHook(e)})},t.prototype.registerCommTarget=function(t,e){var n=this;return this._targetRegistry[t]=e,new l.DisposableDelegate(function(){n.isDisposed||delete n._targetRegistry[t]})},t.prototype.connectToComm=function(t,e){var n=this,i=e||o.uuid(),r=this._comms.get(i)||new h.CommHandler(t,i,this,function(){n._unregisterComm(i)});return this._comms.set(i,r),r},t.prototype._handleDisplayId=function(t,e){var n=this,i=e.parent_header.msg_id,r=this._displayIdToParentIds.get(t);if(r){var o={header:a.JSONExt.deepCopy(e.header),parent_header:a.JSONExt.deepCopy(e.parent_header),metadata:a.JSONExt.deepCopy(e.metadata),content:a.JSONExt.deepCopy(e.content),channel:e.channel,buffers:e.buffers?e.buffers.slice():[]};o.header.msg_type="update_display_data",r.map(function(t){var e=n._futures&&n._futures.get(t);e&&e.handleMsg(o)})}if("update_display_data"===e.header.msg_type)return!0;-1===(r=this._displayIdToParentIds.get(t)||[]).indexOf(i)&&r.push(i),this._displayIdToParentIds.set(t,r);var s=this._msgIdToDisplayIds.get(i)||[];return-1===s.indexOf(i)&&s.push(i),this._msgIdToDisplayIds.set(i,s),!1},t.prototype._clearSocket=function(){this._wsStopped=!0,this._isReady=!1,null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)},t.prototype._updateStatus=function(t){switch(t){case"starting":case"idle":case"busy":case"connected":this._isReady=!0;break;case"restarting":case"reconnecting":case"dead":this._isReady=!1;break;default:return void console.error("invalid kernel status:",t)}t!==this._status&&(this._status=t,r.logKernelStatus(this),this._statusChanged.emit(t),"dead"===t&&this.dispose()),this._isReady&&this._sendPending()},t.prototype._sendPending=function(){for(;this._ws&&this._pendingMessages.length>0;){var t=p.serialize(this._pendingMessages[0]);this._ws.send(t),this._pendingMessages.shift()}},t.prototype._clearState=function(){this._isReady=!1,this._pendingMessages=[],this._futures.forEach(function(t,e){t.dispose()}),this._comms.forEach(function(t,e){t.dispose()}),this._futures=new Map,this._commPromises=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()},t.prototype._handleCommOpen=function(t){var e=this,n=t.content;if(!this.isDisposed){var i=r.loadObject(n.target_name,n.target_module,this._targetRegistry).then(function(i){var r,o=new h.CommHandler(n.target_name,n.comm_id,e,function(){e._unregisterComm(n.comm_id)});try{r=i(o,t)}catch(t){throw o.close(),console.error("Exception opening new comm"),t}return Promise.resolve(r).then(function(){if(!e.isDisposed)return e._commPromises.delete(o.commId),e._comms.set(o.commId,o),o})});this._commPromises.set(n.comm_id,i)}},t.prototype._handleCommClose=function(t){var e=this,n=t.content,i=this._commPromises.get(n.comm_id);if(!i){var r=this._comms.get(n.comm_id);if(!r)return void console.error("Comm not found for comm id "+n.comm_id);i=Promise.resolve(r)}i.then(function(n){if(n){e._unregisterComm(n.commId);try{var i=n.onClose;i&&i(t),n.dispose()}catch(e){console.error("Exception closing comm: ",e,e.stack,t)}}})},t.prototype._handleCommMsg=function(t){var e=t.content,n=this._commPromises.get(e.comm_id);if(n)n.then(function(e){if(e)try{var n=e.onMsg;n&&n(t)}catch(e){console.error("Exception handling comm msg: ",e,e.stack,t)}});else{var i=this._comms.get(e.comm_id);if(!i)return;var r=i.onMsg;r&&r(t)}},t.prototype._unregisterComm=function(t){this._comms.delete(t),this._commPromises.delete(t)},t}();e.DefaultKernel=v,function(t){t.findById=function(t,e){return r.findById(t,e)},t.getSpecs=function(t){return r.getSpecs(t)},t.listRunning=function(t){return r.listRunning(t)},t.startNew=function(t){return r.startNew(t)},t.connectTo=function(t,e){return r.connectTo(t,e)},t.shutdown=function(t,e){return r.shutdownKernel(t,e)},t.shutdownAll=function(t){return r.shutdownAll(t)}}(v=e.DefaultKernel||(e.DefaultKernel={})),e.DefaultKernel=v,function(t){function e(e){e=e||c.ServerConnection.makeSettings();var n=o.URLExt.join(e.baseUrl,m),i=c.ServerConnection.makeRequest(n,{},e).then(function(t){if(200!==t.status)throw new c.ServerConnection.ResponseError(t);return t.json()}).then(function(t){return _.validateSpecModels(t)});return t.specs[e.baseUrl]=i,i}function n(t){t=t||c.ServerConnection.makeSettings();var e=o.URLExt.join(t.baseUrl,g);return c.ServerConnection.makeRequest(e,{},t).then(function(t){if(200!==t.status)throw new c.ServerConnection.ResponseError(t);return t.json()}).then(function(t){if(!Array.isArray(t))throw new Error("Invalid kernel list");for(var e=0;e<t.length;e++)_.validateModel(t[e]);return r(t)})}function r(e){return s.each(t.runningKernels,function(t){s.find(e,function(e){return t.id===e.id})||"dead"===t.status||t.dispose()}),e}function a(e,n){n=n||c.ServerConnection.makeSettings();var i=o.URLExt.join(n.baseUrl,g,encodeURIComponent(e));return c.ServerConnection.makeRequest(i,{method:"DELETE"},n).then(function(n){if(404===n.status)n.json().then(function(t){var n=t.message||'The kernel "'+e+'"" does not exist on the server';console.warn(n)});else if(204!==n.status)throw new c.ServerConnection.ResponseError(n);!function(e){s.each(s.toArray(t.runningKernels),function(t){t.id===e&&t.dispose()})}(e)})}function l(t,e){e=e||c.ServerConnection.makeSettings();var n=o.URLExt.join(e.baseUrl,g,encodeURIComponent(t));return c.ServerConnection.makeRequest(n,{},e).then(function(t){if(200!==t.status)throw new c.ServerConnection.ResponseError(t);return t.json()}).then(function(t){return _.validateModel(t),t})}t.runningKernels=[],t.specs=Object.create(null),t.findById=function(e,n){var i=s.find(t.runningKernels,function(t){return t.id===e});return i?Promise.resolve(i.model):l(e,n).catch(function(){throw new Error("No running kernel with id: "+e)})},t.findSpecs=function(n){n=n||c.ServerConnection.makeSettings();var i=t.specs[n.baseUrl];return i||e(n)},t.getSpecs=e,t.listRunning=n,t.updateRunningKernels=r,t.startNew=function(t){var e=t.serverSettings||c.ServerConnection.makeSettings(),n=o.URLExt.join(e.baseUrl,g),r={method:"POST",body:JSON.stringify({name:t.name})};return c.ServerConnection.makeRequest(n,r,e).then(function(t){if(201!==t.status)throw new c.ServerConnection.ResponseError(t);return t.json()}).then(function(n){return _.validateModel(n),new v(i({},t,{name:n.name,serverSettings:e}),n.id)})},t.connectTo=function(e,n){var i=n||c.ServerConnection.makeSettings(),r=s.find(t.runningKernels,function(t){return t.id===e.id});return r?Promise.resolve(r.clone()):Promise.resolve(new v({name:e.name,serverSettings:i},e.id))},t.restartKernel=function(e,n){if("dead"===e.status)return Promise.reject(new Error("Kernel is dead"));n=n||c.ServerConnection.makeSettings();var i=o.URLExt.join(n.baseUrl,g,encodeURIComponent(e.id),"restart");return s.each(t.runningKernels,function(t){t.id===e.id&&t.handleRestart()}),c.ServerConnection.makeRequest(i,{method:"POST"},n).then(function(t){if(200!==t.status)throw new c.ServerConnection.ResponseError(t);return t.json()}).then(function(n){return _.validateModel(n),s.each(t.runningKernels,function(t){t!==e&&t.id===e.id&&t.reconnect()}),e.reconnect()})},t.interruptKernel=function(t,e){if("dead"===t.status)return Promise.reject(new Error("Kernel is dead"));e=e||c.ServerConnection.makeSettings();var n=o.URLExt.join(e.baseUrl,g,encodeURIComponent(t.id),"interrupt");return c.ServerConnection.makeRequest(n,{method:"POST"},e).then(function(t){if(204!==t.status)throw new c.ServerConnection.ResponseError(t)})},t.shutdownKernel=a,t.shutdownAll=function(t){return n(t=t||c.ServerConnection.makeSettings()).then(function(e){s.each(e,function(e){a(e.id,t)})})},t.getKernelModel=l,t.logKernelStatus=function(t){switch(t.status){case"idle":case"busy":case"unknown":return;default:console.log("Kernel: "+t.status+" ("+t.id+")")}},t.handleShellMessage=function(t,e){var n;try{n=t.sendShellMessage(e,!0)}catch(t){return Promise.reject(t)}return new Promise(function(t){n.onReply=t})},t.loadObject=function(t,e,n){return new Promise(function(i,r){if(e){if("undefined"==typeof requirejs)throw new Error("requirejs not found");requirejs([e],function(n){void 0===n[t]?r(new Error("Object '"+t+"' not found in module '"+e+"'")):i(n[t])},r)}else n&&n[t]?i(n[t]):r(new Error("Object '"+t+"' not found in registry"))})}}(r||(r={}))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(42),s=n(57),a=function(t){function e(e,n,i,r){var o=t.call(this,r)||this;return o._target="",o._id="",o._id=n,o._target=e,o._kernel=i,o}return r(e,t),Object.defineProperty(e.prototype,"commId",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetName",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onClose",{get:function(){return this._onClose},set:function(t){this._onClose=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMsg",{get:function(){return this._onMsg},set:function(t){this._onMsg=t},enumerable:!0,configurable:!0}),e.prototype.open=function(t,e,n){if(void 0===n&&(n=[]),this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");var i={msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId},r={comm_id:this._id,target_name:this._target,data:t||{}},o=s.KernelMessage.createShellMessage(i,r,e,n);return this._kernel.sendShellMessage(o,!1,!0)},e.prototype.send=function(t,e,n,i){if(void 0===n&&(n=[]),void 0===i&&(i=!0),this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");var r={msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId},o={comm_id:this._id,data:t},a=s.KernelMessage.createShellMessage(r,o,e,n);return this._kernel.sendShellMessage(a,!1,!0)},e.prototype.close=function(t,e,n){if(void 0===n&&(n=[]),this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");var i={msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId},r={comm_id:this._id,data:t||{}},o=s.KernelMessage.createShellMessage(i,r,e,n),a=this._kernel.sendShellMessage(o,!1,!0);i.channel="iopub";var l=this._onClose;l&&l(s.KernelMessage.createMessage(i,r,e,n));return this.dispose(),a},e}(o.DisposableDelegate);e.CommHandler=a},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(16),a=n(42),l=n(57),u=function(t){function e(e,n,i,r,a){var l=t.call(this,e)||this;return l._status=0,l._stdin=o.noOp,l._iopub=o.noOp,l._reply=o.noOp,l._done=new s.PromiseDelegate,l._hooks=new o.HookList,l._disposeOnDone=!0,l._msg=n,i||l._setFlag(o.KernelFutureFlag.GotReply),l._disposeOnDone=r,l._kernel=a,l}return r(e,t),Object.defineProperty(e.prototype,"msg",{get:function(){return this._msg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"done",{get:function(){return this._done.promise},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onReply",{get:function(){return this._reply},set:function(t){this._reply=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onIOPub",{get:function(){return this._iopub},set:function(t){this._iopub=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onStdin",{get:function(){return this._stdin},set:function(t){this._stdin=t},enumerable:!0,configurable:!0}),e.prototype.registerMessageHook=function(t){this._hooks.add(t)},e.prototype.removeMessageHook=function(t){this.isDisposed||this._hooks.remove(t)},e.prototype.sendInputReply=function(t){this._kernel.sendInputReply(t)},e.prototype.dispose=function(){this._stdin=o.noOp,this._iopub=o.noOp,this._reply=o.noOp,this._testFlag(o.KernelFutureFlag.IsDone)||this._done.reject(new Error("Canceled")),t.prototype.dispose.call(this)},e.prototype.handleMsg=function(t){switch(t.channel){case"shell":this._handleReply(t);break;case"stdin":this._handleStdin(t);break;case"iopub":this._handleIOPub(t)}},e.prototype._handleReply=function(t){var e=this._reply;e&&e(t),this._replyMsg=t,this._setFlag(o.KernelFutureFlag.GotReply),this._testFlag(o.KernelFutureFlag.GotIdle)&&this._handleDone()},e.prototype._handleStdin=function(t){var e=this._stdin;e&&e(t)},e.prototype._handleIOPub=function(t){var e=this._hooks.process(t),n=this._iopub;e&&n&&n(t),l.KernelMessage.isStatusMsg(t)&&"idle"===t.content.execution_state&&(this._setFlag(o.KernelFutureFlag.GotIdle),this._testFlag(o.KernelFutureFlag.GotReply)&&this._handleDone())},e.prototype._handleDone=function(){this._testFlag(o.KernelFutureFlag.IsDone)||(this._setFlag(o.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())},e.prototype._testFlag=function(t){return 0!=(this._status&t)},e.prototype._setFlag=function(t){this._status|=t},e}(a.DisposableDelegate);e.KernelFutureHandler=u,function(e){e.noOp=function(){};var n="function"==typeof requestAnimationFrame?requestAnimationFrame:t,i=function(){function t(){this._hooks=[]}return t.prototype.add=function(t){this.remove(t),this._hooks.push(t)},t.prototype.remove=function(t){var e=this._hooks.indexOf(t);e>=0&&(this._hooks[e]=null,this._scheduleCompact())},t.prototype.process=function(t){for(var e,n=this._hooks.length-1;n>=0;n--){var i=this._hooks[n];if(null!==i){try{e=i(t)}catch(t){e=!0,console.error(t)}if(!1===e)return!1}}return!0},t.prototype._scheduleCompact=function(){var t=this;this._cleanupScheduled||(this._cleanupScheduled=!0,n(function(){t._cleanupScheduled=!1,t._compact()}))},t.prototype._compact=function(){for(var t=0,e=0,n=this._hooks.length;e<n;e++){var i=this._hooks[e];null===this._hooks[e]?t++:this._hooks[e-t]=i}this._hooks.length-=t},t}();e.HookList=i,function(t){t[t.GotReply=1]="GotReply",t[t.GotIdle=2]="GotIdle",t[t.IsDone=4]="IsDone",t[t.DisposeOnDone=8]="DisposeOnDone"}(e.KernelFutureFlag||(e.KernelFutureFlag={}))}(o||(o={}))}).call(this,n(53).setImmediate)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deserialize=function(t){return"string"==typeof t?JSON.parse(t):function(t){var e=new DataView(t),n=e.getUint32(0),i=[];if(n<2)throw new Error("Invalid incoming Kernel Message");for(var r=1;r<=n;r++)i.push(e.getUint32(4*r));var o=new Uint8Array(t.slice(i[0],i[1])),s=JSON.parse(new TextDecoder("utf8").decode(o));s.buffers=[];for(var r=1;r<n;r++){var a=i[r],l=i[r+1]||t.byteLength;s.buffers.push(new DataView(t.slice(a,l)))}return s}(t)},e.serialize=function(t){return t.buffers&&t.buffers.length?function(t){var e=[],n=[],i=new TextEncoder("utf8"),r=[];void 0!==t.buffers&&(r=t.buffers,delete t.buffers);var o=i.encode(JSON.stringify(t));n.push(o.buffer);for(var s=0;s<r.length;s++){var a=r[s];n.push(a instanceof ArrayBuffer?a:a.buffer)}var l=n.length;e.push(4*(l+1));for(var s=0;s+1<n.length;s++)e.push(e[e.length-1]+n[s].byteLength);var u=new Uint8Array(e[e.length-1]+n[n.length-1].byteLength),c=new DataView(u.buffer);c.setUint32(0,l);for(var s=0;s<e.length;s++)c.setUint32(4*(s+1),e[s]);for(var s=0;s<n.length;s++)u.set(new Uint8Array(n[s]),e[s]);return u.buffer}(t):JSON.stringify(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=["username","version","session","msg_id","msg_type"],r={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:"string"},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function o(t,e,n){if(!t.hasOwnProperty(e))throw Error("Missing property '"+e+"'");if(void 0!==n){var i=!0,r=t[e];switch(n){case"array":i=Array.isArray(r);break;case"object":i=void 0!==r;break;default:i=typeof r===n}if(!i)throw new Error("Property '"+e+"' is not of type '"+n)}}function s(t){var e=t.spec;if(!e)throw new Error("Invalid kernel spec");return o(t,"name","string"),o(t,"resources","object"),o(e,"language","string"),o(e,"display_name","string"),o(e,"argv","array"),{name:t.name,resources:t.resources,language:e.language,display_name:e.display_name,argv:e.argv}}e.validateMessage=function(t){o(t,"metadata","object"),o(t,"content","object"),o(t,"channel","string"),function(t){for(var e=0;e<i.length;e++)o(t,i[e],"string")}(t.header),"iopub"===t.channel&&function(t){if("iopub"===t.channel){var e=r[t.header.msg_type];if(void 0===e)return;for(var n=Object.keys(e),i=t.content,s=0;s<n.length;s++)o(i,n[s],e[n[s]])}}(t)},e.validateModel=function(t){o(t,"name","string"),o(t,"id","string")},e.validateSpecModel=s,e.validateSpecModels=function(t){if(!t.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");for(var e=Object.keys(t.kernelspecs),n=Object.create(null),i=t.default,r=0;r<e.length;r++){var o=t.kernelspecs[e[r]];try{n[e[r]]=s(o)}catch(t){console.warn("Removing errant kernel spec: "+e[r])}}if(!(e=Object.keys(n)).length)throw new Error("No valid kernelspecs found");return i&&"string"==typeof i&&i in n||(i=e[0],console.warn("Default kernel not found, using '"+e[0]+"'")),{default:i,kernelspecs:n}}},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=n(16),s=n(6),a=n(15),l=n(141),u=function(){function t(t){void 0===t&&(t={});var e=this;this._models=[],this._kernels=new Set,this._specs=null,this._isDisposed=!1,this._modelsTimer=-1,this._specsTimer=-1,this._isReady=!1,this._specsChanged=new s.Signal(this),this._runningChanged=new s.Signal(this),this.serverSettings=t.serverSettings||a.ServerConnection.makeSettings(),this._readyPromise=this._refreshSpecs().then(function(){return e._refreshRunning()}),this._modelsTimer=setInterval(function(){e._refreshRunning()},1e4),this._specsTimer=setInterval(function(){e._refreshSpecs()},61e3)}return Object.defineProperty(t.prototype,"specsChanged",{get:function(){return this._specsChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"runningChanged",{get:function(){return this._runningChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,clearInterval(this._modelsTimer),clearInterval(this._specsTimer),s.Signal.clearData(this),this._models=[])},Object.defineProperty(t.prototype,"specs",{get:function(){return this._specs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return this._isReady},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return this._readyPromise},enumerable:!0,configurable:!0}),t.prototype.running=function(){return r.iter(this._models)},t.prototype.refreshSpecs=function(){return this._refreshSpecs()},t.prototype.refreshRunning=function(){return this._refreshRunning()},t.prototype.startNew=function(t){var e=this;void 0===t&&(t={});var n=i({},t,{serverSettings:this.serverSettings});return l.Kernel.startNew(n).then(function(t){return e._onStarted(t),t})},t.prototype.findById=function(t){return l.Kernel.findById(t,this.serverSettings)},t.prototype.connectTo=function(t){var e=this;return l.Kernel.connectTo(t,this.serverSettings).then(function(t){return e._onStarted(t),t})},t.prototype.shutdown=function(t){var e=this,n=r.ArrayExt.findFirstIndex(this._models,function(e){return e.id===t});if(-1!==n)return this._models.splice(n,1),this._runningChanged.emit(this._models.slice()),l.Kernel.shutdown(t,this.serverSettings).then(function(){var n=[];e._kernels.forEach(function(e){e.id===t&&(e.dispose(),n.push(e))}),n.forEach(function(t){e._kernels.delete(t)})})},t.prototype.shutdownAll=function(){var t=this,e=this._models;return e.length>0&&(this._models=[],this._runningChanged.emit([])),this._refreshRunning().then(function(){return Promise.all(e.map(function(e){return l.Kernel.shutdown(e.id,t.serverSettings).then(function(){var e=[];t._kernels.forEach(function(t){t.dispose(),e.push(t)}),e.forEach(function(e){t._kernels.delete(e)})})})).then(function(){})})},t.prototype._onTerminated=function(t){var e=r.ArrayExt.findFirstIndex(this._models,function(e){return e.id===t});-1!==e&&(this._models.splice(e,1),this._runningChanged.emit(this._models.slice()))},t.prototype._onStarted=function(t){var e=this,n=t.id;this._kernels.add(t),-1===r.ArrayExt.findFirstIndex(this._models,function(t){return t.id===n})&&(this._models.push(t.model),this._runningChanged.emit(this._models.slice())),t.terminated.connect(function(){e._onTerminated(n)})},t.prototype._refreshSpecs=function(){var t=this;return l.Kernel.getSpecs(this.serverSettings).then(function(e){o.JSONExt.deepEqual(e,t._specs)||(t._specs=e,t._specsChanged.emit(e))})},t.prototype._refreshRunning=function(){var t=this;return l.Kernel.listRunning(this.serverSettings).then(function(e){if(t._isReady=!0,!o.JSONExt.deepEqual(e,t._models)){var n=e.map(function(t){return t.id}),i=[];t._kernels.forEach(function(t){-1===n.indexOf(t.id)&&(t.dispose(),i.push(t))}),i.forEach(function(e){t._kernels.delete(e)}),t._models=e.slice(),t._runningChanged.emit(e)}})},t}();e.KernelManager=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=n(321),o=n(140),s=n(142),a=n(143),l=n(144),u=n(43),c=n(145),h=function(){function t(t){void 0===t&&(t={});var e=this;this._isDisposed=!1,this._specsChanged=new i.Signal(this),this._isReady=!1,this.serverSettings=t.serverSettings||u.ServerConnection.makeSettings(),this.contents=new o.ContentsManager(t),this.sessions=new s.SessionManager(t),this.settings=new a.SettingManager(t),this.terminals=new l.TerminalManager(t),this.builder=new r.BuildManager(t),this.workspaces=new c.WorkspaceManager(t),this.sessions.specsChanged.connect(function(t,n){e._specsChanged.emit(n)}),this._readyPromise=this.sessions.ready.then(function(){if(e.terminals.isAvailable())return e.terminals.ready}),this._readyPromise.then(function(){e._isReady=!0})}return Object.defineProperty(t.prototype,"specsChanged",{get:function(){return this._specsChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,i.Signal.clearData(this),this.contents.dispose(),this.sessions.dispose(),this.terminals.dispose())},Object.defineProperty(t.prototype,"specs",{get:function(){return this.sessions.specs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return this._isReady},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return this._readyPromise},enumerable:!0,configurable:!0}),t}();e.ServiceManager=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),r=n(43),o=function(){function t(t){void 0===t&&(t={}),this.serverSettings=t.serverSettings||r.ServerConnection.makeSettings()}return Object.defineProperty(t.prototype,"isAvailable",{get:function(){return"true"===i.PageConfig.getOption("buildAvailable").toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldCheck",{get:function(){return"true"===i.PageConfig.getOption("buildCheck").toLowerCase()},enumerable:!0,configurable:!0}),t.prototype.getStatus=function(){var t=this.serverSettings.baseUrl,e=i.URLExt.join(t,"lab/api/build"),n=this.serverSettings;return r.ServerConnection.makeRequest(e,{},n).then(function(t){if(200!==t.status)throw new r.ServerConnection.ResponseError(t);return t.json()}).then(function(t){if("string"!=typeof t.status)throw new Error("Invalid data");if("string"!=typeof t.message)throw new Error("Invalid data");return t})},t.prototype.build=function(){var t=this.serverSettings.baseUrl,e=i.URLExt.join(t,"lab/api/build"),n=this.serverSettings;return r.ServerConnection.makeRequest(e,{method:"POST"},n).then(function(t){if(400===t.status)throw new r.ServerConnection.ResponseError(t,"Build aborted");if(200!==t.status){throw new r.ServerConnection.ResponseError(t,"Build failed with ${response.status)`, please run `jupyter lab build` on the server for full output")}})},t.prototype.cancel=function(){var t=this.serverSettings.baseUrl,e=i.URLExt.join(t,"lab/api/build"),n=this.serverSettings;return r.ServerConnection.makeRequest(e,{method:"DELETE"},n).then(function(t){if(204!==t.status)throw new r.ServerConnection.ResponseError(t)})},t}();e.BuildManager=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(99),s=n(2),a=n(445),l=n(11),u=n(49),c=n(461),h=function(t){function e(e){var n=t.call(this)||this;return n.loader=e&&e.loader,n.renderMime=new u.RenderMimeRegistry({initialFactories:u.standardRendererFactories}),n.renderMime.addFactory({safe:!1,mimeTypes:[c.WIDGET_MIMETYPE],createRenderer:function(t){return new c.WidgetRenderer(t,n)}},0),n}return r(e,t),e.prototype.display_view=function(t,e,n){return Promise.resolve(e).then(function(t){return l.Widget.attach(t.pWidget,n.el),t.on("remove",function(){console.log("View removed",t)}),t})},e.prototype._get_comm_info=function(){return Promise.resolve({})},e.prototype._create_comm=function(t,e,n,i,r){return Promise.resolve({on_close:function(){},on_msg:function(){},close:function(){}})},e.prototype.loadClass=function(t,e,n){var i=this;return new Promise(function(t,r){"@jupyter-widgets/base"===e?t(s):"@jupyter-widgets/controls"===e?t(o):"@jupyter-widgets/output"===e?t(a):void 0!==i.loader?t(i.loader(e,n)):r("Could not load module "+e+"@"+n)}).then(function(i){return i[t]?i[t]:Promise.reject("Class "+t+" not found in module "+e+"@"+n)})},e}(s.ManagerBase);e.HTMLManager=h},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{l(i.next(t))}catch(t){o(t)}}function a(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(33),a=n(92),l=a.PROTOCOL_VERSION.split(".",1)[0],u=function(){function t(){this.comm_target_name="jupyter.widget",this._models=Object.create(null)}return t.prototype.display_model=function(t,e,n){var i=this;return void 0===n&&(n={}),this.create_view(e,n).then(function(e){return i.display_view(t,e,n)}).catch(s.reject("Could not create view",!0))},t.prototype.setViewOptions=function(t){return void 0===t&&(t={}),t},t.prototype.create_view=function(t,e){var n=this;void 0===e&&(e={});var i=t.state_change=t.state_change.then(function(){return n.loadClass(t.get("_view_name"),t.get("_view_module"),t.get("_view_module_version")).then(function(i){var r=new i({model:t,options:n.setViewOptions(e)});return r.listenTo(t,"destroy",r.remove),Promise.resolve(r.render()).then(function(){return r})}).catch(s.reject("Could not create a view for model id "+t.model_id,!0))}),r=s.uuid();return t.views[r]=i,i.then(function(t){t.once("remove",function(){delete t.model.views[r]},n)}),t.state_change},t.prototype.callbacks=function(t){return{}},t.prototype.get_model=function(t){return this._models[t]},t.prototype.handle_comm_open=function(t,e){var n=(e.metadata||{}).version||"";if(n.split(".",1)[0]!==l){var i="Wrong widget protocol version: received protocol version '"+n+"', but was expecting major version '"+l+"'";return console.error(i),Promise.reject(i)}var r=e.content.data,o=r.buffer_paths||[],a=(e.buffers||[]).map(function(t){return t instanceof DataView?t:new DataView(t instanceof ArrayBuffer?t:t.buffer)});return s.put_buffers(r.state,o,a),this.new_model({model_name:r.state._model_name,model_module:r.state._model_module,model_module_version:r.state._model_module_version,comm:t},r.state).catch(s.reject("Could not create a model.",!0))},t.prototype.new_widget=function(t,e){var n,r=this;if(void 0===e&&(e={}),void 0===t.view_name||void 0===t.view_module||void 0===t.view_module_version)return Promise.reject("new_widget(...) must be given view information in the options.");n=t.comm?Promise.resolve(t.comm):this._create_comm(this.comm_target_name,t.model_id,{state:{_model_module:t.model_module,_model_module_version:t.model_module_version,_model_name:t.model_name,_view_module:t.view_module,_view_module_version:t.view_module_version,_view_name:t.view_name}},{version:a.PROTOCOL_VERSION});var o=i({},t);return n.then(function(t){return o.comm=t,r.new_model(o,e).then(function(t){return t.sync("create",t),t})},function(){return o.model_id||(o.model_id=s.uuid()),r.new_model(o,e)})},t.prototype.register_model=function(t,e){var n=this;this._models[t]=e,e.then(function(e){e.once("comm:close",function(){delete n._models[t]})})},t.prototype.new_model=function(t,e){return void 0===e&&(e={}),r(this,void 0,void 0,function(){var n,i;return o(this,function(r){switch(r.label){case 0:if(t.model_id)n=t.model_id;else{if(!t.comm)throw new Error("Neither comm nor model_id provided in options object. At least one must exist.");n=t.model_id=t.comm.comm_id}return i=this._make_model(t,e),this.register_model(n,i),[4,i];case 1:return[2,r.sent()]}})})},t.prototype._make_model=function(t,e){return void 0===e&&(e={}),r(this,void 0,void 0,function(){var n,i,r,s,a,l,u;return o(this,function(o){switch(o.label){case 0:n=t.model_id,i=this.loadClass(t.model_name,t.model_module,t.model_module_version),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,i];case 2:return r=o.sent(),[3,4];case 3:throw s=o.sent(),console.error("Could not instantiate widget"),s;case 4:if(!r)throw new Error("Cannot find model module "+t.model_module+"@"+t.model_module_version+", "+t.model_name);return[4,r._deserialize_state(e,this)];case 5:return a=o.sent(),l={widget_manager:this,model_id:n,comm:t.comm},(u=new r(a,l)).name=t.model_name,u.module=t.model_module,[2,u]}})})},t.prototype.clear_state=function(){var t=this;return s.resolvePromisesDict(this._models).then(function(e){Object.keys(e).forEach(function(t){return e[t].close()}),t._models={}})},t.prototype.get_state=function(t){return void 0===t&&(t={}),s.resolvePromisesDict(this._models).then(function(e){var n={};return Object.keys(e).forEach(function(i){var r=e[i],o=s.remove_buffers(r.serialize(r.get_state(t.drop_defaults))),a=o.buffers.map(function(t,e){return{data:s.bufferToBase64(t),path:o.buffer_paths[e],encoding:"base64"}});n[i]={model_name:r.name,model_module:r.module,model_module_version:r.get("_model_module_version"),state:o.state},a.length>0&&(n[i].buffers=a)}),{version_major:2,version_minor:0,state:n}})},t.prototype.set_state=function(t){var e=this;if(!(t.version_major&&t.version_major<=2))throw"Unsupported widget state format";var n=t.state;return this._get_comm_info().then(function(t){return Promise.all(Object.keys(n).map(function(i){var r={base64:s.base64ToBuffer,hex:s.hexToBuffer},o=n[i],a=o.state;if(o.buffers){var l=o.buffers.map(function(t){return t.path}),u=o.buffers.map(function(t){return new DataView(r[t.encoding](t.data))});s.put_buffers(o.state,l,u)}if(e._models[i])return e._models[i].then(function(t){return t.constructor._deserialize_state(a||{},e).then(function(e){return t.set_state(e),t})});var c={model_id:i,model_name:o.model_name,model_module:o.model_module,model_module_version:o.model_module_version};return t.hasOwnProperty(i)?e._create_comm(e.comm_target_name,i).then(function(t){return c.comm=t,e.new_model(c)}):e.new_model(c,a)}))})},t.prototype.disconnect=function(){var t=this;Object.keys(this._models).forEach(function(e){t._models[e].then(function(t){t.comm_live=!1})})},t.prototype.resolveUrl=function(t){return Promise.resolve(t)},t}();e.ManagerBase=u},function(t,e,n){var i=n(325);t.exports=function(t,e){return i(t,e)}},function(t,e,n){var i=n(326),r=n(45);t.exports=function t(e,n,o,s,a){return e===n||(null==e||null==n||!r(e)&&!r(n)?e!=e&&n!=n:i(e,n,o,s,t,a))}},function(t,e,n){var i=n(327),r=n(152),o=n(361),s=n(365),a=n(386),l=n(90),u=n(153),c=n(154),h=1,d="[object Arguments]",f="[object Array]",p="[object Object]",_=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,m,v){var y=l(t),b=l(e),w=y?f:a(t),x=b?f:a(e),k=(w=w==d?p:w)==p,M=(x=x==d?p:x)==p,E=w==x;if(E&&u(t)){if(!u(e))return!1;y=!0,k=!1}if(E&&!k)return v||(v=new i),y||c(t)?r(t,e,n,g,m,v):o(t,e,w,n,g,m,v);if(!(n&h)){var j=k&&_.call(t,"__wrapped__"),S=M&&_.call(e,"__wrapped__");if(j||S){var C=j?t.value():t,A=S?e.value():e;return v||(v=new i),m(C,A,n,g,v)}}return!!E&&(v||(v=new i),s(t,e,n,g,m,v))}},function(t,e,n){var i=n(58),r=n(333),o=n(334),s=n(335),a=n(336),l=n(337);function u(t){var e=this.__data__=new i(t);this.size=e.size}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=s,u.prototype.has=a,u.prototype.set=l,t.exports=u},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var i=n(59),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():r.call(e,n,1),--this.size,0))}},function(t,e,n){var i=n(59);t.exports=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var i=n(59);t.exports=function(t){return i(this.__data__,t)>-1}},function(t,e,n){var i=n(59);t.exports=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},function(t,e,n){var i=n(58);t.exports=function(){this.__data__=new i,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var i=n(58),r=n(88),o=n(151),s=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||a.length<s-1)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var i=n(147),r=n(341),o=n(149),s=n(150),a=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,d=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||r(t))&&(i(t)?d:a).test(s(t))}},function(t,e,n){var i=n(89),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var i=!0}catch(t){}var r=s.call(t);return i&&(e?t[a]=n:delete t[a]),r}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var i,r=n(342),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var i=n(25)["__core-js_shared__"];t.exports=i},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var i=n(345),r=n(58),o=n(88);t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},function(t,e,n){var i=n(346),r=n(347),o=n(348),s=n(349),a=n(350);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},function(t,e,n){var i=n(60);t.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var i=n(60),r="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(i){var n=e[t];return n===r?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var i=n(60),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:r.call(e,t)}},function(t,e,n){var i=n(60),r="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?r:e,this}},function(t,e,n){var i=n(61);t.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var i=n(61);t.exports=function(t){return i(this,t).get(t)}},function(t,e,n){var i=n(61);t.exports=function(t){return i(this,t).has(t)}},function(t,e,n){var i=n(61);t.exports=function(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},function(t,e,n){var i=n(151),r=n(357),o=n(358);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=r,s.prototype.has=o,t.exports=s},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var i=n(89),r=n(362),o=n(146),s=n(152),a=n(363),l=n(364),u=1,c=2,h="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Map]",_="[object Number]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",x=i?i.prototype:void 0,k=x?x.valueOf:void 0;t.exports=function(t,e,n,i,x,M,E){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!M(new r(t),new r(e)));case h:case d:case _:return o(+t,+e);case f:return t.name==e.name&&t.message==e.message;case g:case v:return t==e+"";case p:var j=a;case m:var S=i&u;if(j||(j=l),t.size!=e.size&&!S)return!1;var C=E.get(t);if(C)return C==e;i|=c,E.set(t,e);var A=s(j(t),j(e),i,x,M,E);return E.delete(t),A;case y:if(k)return k.call(t)==k.call(e)}return!1}},function(t,e,n){var i=n(25).Uint8Array;t.exports=i},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var i=n(366),r=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,s,a,l){var u=n&r,c=i(t),h=c.length;if(h!=i(e).length&&!u)return!1;for(var d=h;d--;){var f=c[d];if(!(u?f in e:o.call(e,f)))return!1}var p=l.get(t);if(p&&l.get(e))return p==e;var _=!0;l.set(t,e),l.set(e,t);for(var g=u;++d<h;){var m=t[f=c[d]],v=e[f];if(s)var y=u?s(v,m,f,e,t,l):s(m,v,f,t,e,l);if(!(void 0===y?m===v||a(m,v,n,s,l):y)){_=!1;break}g||(g="constructor"==f)}if(_&&!g){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(_=!1)}return l.delete(t),l.delete(e),_}},function(t,e,n){var i=n(367),r=n(369),o=n(372);t.exports=function(t){return i(t,o,r)}},function(t,e,n){var i=n(368),r=n(90);t.exports=function(t,e,n){var o=e(t);return r(t)?o:i(o,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}},function(t,e,n){var i=n(370),r=n(371),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),i(s(t),function(e){return o.call(t,e)}))}:r;t.exports=a},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var i=n(373),r=n(382),o=n(385);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,e,n){var i=n(374),r=n(375),o=n(90),s=n(153),a=n(378),l=n(154),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&r(t),h=!n&&!c&&s(t),d=!n&&!c&&!h&&l(t),f=n||c||h||d,p=f?i(t.length,String):[],_=p.length;for(var g in t)!e&&!u.call(t,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,_))||p.push(g);return p}},function(t,e){t.exports=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},function(t,e,n){var i=n(376),r=n(45),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(t){return r(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},function(t,e,n){var i=n(44),r=n(45),o="[object Arguments]";t.exports=function(t){return r(t)&&i(t)==o}},function(t,e){t.exports=function(){return!1}},function(t,e){var n=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?n:e)&&("number"==r||"symbol"!=r&&i.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var i=n(44),r=n(155),o=n(45),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&r(t.length)&&!!s[i(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var i=n(148),r=e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===r&&i.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,n(91)(t))},function(t,e,n){var i=n(383),r=n(384),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return r(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var i=n(156)(Object.keys,Object);t.exports=i},function(t,e,n){var i=n(147),r=n(155);t.exports=function(t){return null!=t&&r(t.length)&&!i(t)}},function(t,e,n){var i=n(387),r=n(88),o=n(388),s=n(389),a=n(390),l=n(44),u=n(150),c=u(i),h=u(r),d=u(o),f=u(s),p=u(a),_=l;(i&&"[object DataView]"!=_(new i(new ArrayBuffer(1)))||r&&"[object Map]"!=_(new r)||o&&"[object Promise]"!=_(o.resolve())||s&&"[object Set]"!=_(new s)||a&&"[object WeakMap]"!=_(new a))&&(_=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,i=n?u(n):"";if(i)switch(i){case c:return"[object DataView]";case h:return"[object Map]";case d:return"[object Promise]";case f:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=_},function(t,e,n){var i=n(34)(n(25),"DataView");t.exports=i},function(t,e,n){var i=n(34)(n(25),"Promise");t.exports=i},function(t,e,n){var i=n(34)(n(25),"Set");t.exports=i},function(t,e,n){var i=n(34)(n(25),"WeakMap");t.exports=i},function(t,e,n){var i=n(44),r=n(392),o=n(45),s="[object Object]",a=Function.prototype,l=Object.prototype,u=a.toString,c=l.hasOwnProperty,h=u.call(Object);t.exports=function(t){if(!o(t)||i(t)!=s)return!1;var e=r(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==h}},function(t,e,n){var i=n(156)(Object.getPrototypeOf,Object);t.exports=i},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var r=n(33);e.set=function(t,e,n){if(null==t)return this;var o;if("object"==typeof t?(o=t,n=e):(o={})[t]=e,n||(n={}),!this._validate(o,n))return!1;var s=n.unset,a=n.silent,l=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=i({},this.attributes),this.changed={});var c=this.attributes,h=this.changed,d=this._previousAttributes;for(var f in o)e=o[f],r.isEqual(c[f],e)||l.push(f),r.isEqual(d[f],e)?delete h[f]:h[f]=e,s?delete c[f]:c[f]=e;if(this.id=this.get(this.idAttribute),!a){l.length&&(this._pending=n);for(var p=0;p<l.length;p++)this.trigger("change:"+l[p],this,c[l[p]],n)}if(u)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(157),s=Element.prototype,a=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1},l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._removeElement=function(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e.prototype._setElement=function(t){this.el=t},e.prototype._setAttributes=function(t){for(var e in t)e in this.el?this.el[e]=t[e]:this.el.setAttribute(e,t[e])},e.prototype.delegate=function(t,e,n){"string"!=typeof e&&(n=e,e=null),void 0===this._domEvents&&(this._domEvents=[]);var i=this.el,r=e?function(t){for(var r=t.target||t.srcElement;r&&r!==i;r=r.parentNode)if(a.call(r,e))return t.delegateTarget=r,n.handleEvent?n.handleEvent(t):n(t)}:n;return this.el.addEventListener(t,r,!1),this._domEvents.push({eventName:t,handler:r,listener:n,selector:e}),r},e.prototype.undelegate=function(t,e,n){if("function"==typeof e&&(n=e,e=null),this.el&&this._domEvents)for(var i=this._domEvents.slice(),r=i.length;r--;){var o=i[r];!(o.eventName!==t||n&&o.listener!==n||e&&o.selector!==e)&&(this.el.removeEventListener(o.eventName,o.handler,!1),this._domEvents.splice(r,1))}return this},e.prototype.undelegateEvents=function(){if(this.el&&this._domEvents){for(var t=this._domEvents.length,e=0;e<t;e++){var n=this._domEvents[e];this.el.removeEventListener(n.eventName,n.handler,!1)}this._domEvents.length=0}return this},e}(o.View);e.NativeView=l},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(7),s=n(42),a=n(94),l=n(158),u=function(){function t(t){this._idTick=0,this._items=[],this.menu=new l.Menu(t)}return t.prototype.addItem=function(t){var e=this,n=r.createItem(t,this._idTick++);return this._items.push(n),new s.DisposableDelegate(function(){o.ArrayExt.removeFirstOf(e._items,n)})},t.prototype.open=function(t){var e=this;if(this.menu.clearItems(),0===this._items.length)return!1;var n=r.matchItems(this._items,t);return!(!n||0===n.length)&&(o.each(n,function(t){e.menu.addItem(t)}),this.menu.open(t.clientX,t.clientY),!0)},t}();e.ContextMenu=u,function(t){function e(t,e){var n=a.Selector.calculateSpecificity(t.selector),i=a.Selector.calculateSpecificity(e.selector);if(n!==i)return i-n;var r=t.rank,o=e.rank;return r!==o?r<o?-1:1:t.id-e.id}t.createItem=function(t,e){var n=function(t){if(-1!==t.indexOf(","))throw new Error("Selector cannot contain commas: "+t);if(!a.Selector.isValid(t))throw new Error("Invalid selector: "+t);return t}(t.selector),r=void 0!==t.rank?t.rank:1/0;return i({},t,{selector:n,rank:r,id:e})},t.matchItems=function(t,n){var i=n.target;if(!i)return null;var r=n.currentTarget;if(!r)return null;if(!(r.contains(i)||(i=document.elementFromPoint(n.clientX,n.clientY))&&r.contains(i)))return null;for(var o=[],s=t.slice();null!==i;){for(var l=[],u=0,c=s.length;u<c;++u){var h=s[u];h&&a.Selector.matches(i,h.selector)&&(l.push(h),s[u]=null)}if(0!==l.length&&(l.sort(e),o.push.apply(o,l)),i===r)break;i=i.parentElement}return o}}(r||(r={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.boxSizing=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.borderTopWidth)||0,i=parseFloat(e.borderLeftWidth)||0,r=parseFloat(e.borderRightWidth)||0,o=parseFloat(e.borderBottomWidth)||0,s=parseFloat(e.paddingTop)||0,a=parseFloat(e.paddingLeft)||0,l=parseFloat(e.paddingRight)||0,u=parseFloat(e.paddingBottom)||0;return{borderTop:n,borderLeft:i,borderRight:r,borderBottom:o,paddingTop:s,paddingLeft:a,paddingRight:l,paddingBottom:u,horizontalSum:i+a+l+r,verticalSum:n+s+u+o}},t.sizeLimits=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.minWidth)||0,i=parseFloat(e.minHeight)||0,r=parseFloat(e.maxWidth)||1/0,o=parseFloat(e.maxHeight)||1/0;return{minWidth:n,minHeight:i,maxWidth:r=Math.max(n,r),maxHeight:o=Math.max(i,o)}},t.hitTest=function(t,e,n){var i=t.getBoundingClientRect();return e>=i.left&&e<i.right&&n>=i.top&&n<i.bottom},t.scrollIntoViewIfNeeded=function(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<=n.top&&i.bottom>=n.bottom||(i.top<n.top&&i.height<=n.height?t.scrollTop-=n.top-i.top:i.bottom>n.bottom&&i.height>=n.height?t.scrollTop-=n.top-i.top:i.top<n.top&&i.height>n.height?t.scrollTop-=n.bottom-i.bottom:i.bottom>n.bottom&&i.height<n.height&&(t.scrollTop-=n.bottom-i.bottom))}}(e.ElementExt||(e.ElementExt={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.IS_MAC=!!navigator.platform.match(/Mac/i),t.IS_WIN=!!navigator.platform.match(/Win/i),t.IS_IE=/Trident/.test(navigator.userAgent),t.IS_EDGE=/Edge/.test(navigator.userAgent)}(e.Platform||(e.Platform={}))},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.calculateSpecificity=function(t){if(t in i.specificityCache)return i.specificityCache[t];var e=i.calculateSingle(t);return i.specificityCache[t]=e},t.isValid=function(t){if(t in i.validityCache)return i.validityCache[t];var e=!0;try{i.testElem.querySelector(t)}catch(t){e=!1}return i.validityCache[t]=e},t.matches=function(t,e){return i.protoMatchFunc.call(t,e)}}(e.Selector||(e.Selector={})),function(t){var e;t.specificityCache=Object.create(null),t.validityCache=Object.create(null),t.testElem=document.createElement("div"),t.protoMatchFunc=(e=Element.prototype).matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(t){var e=this.ownerDocument.querySelectorAll(t);return-1!==Array.prototype.indexOf.call(e,this)},t.calculateSingle=function(t){var e=0,c=0,h=0;function d(e){var n=t.match(e);return null!==n&&(t=t.slice(n[0].length),!0)}for(t=(t=t.split(",",1)[0]).replace(u," $1 ");t.length>0;)if(d(n))e++;else if(d(i))c++;else if(d(r))c++;else if(d(s))h++;else if(d(a))c++;else if(d(o))h++;else if(!d(l))return 0;return(e=Math.min(e,255))<<16|(c=Math.min(c,255))<<8|(h=Math.min(h,255))};var n=/^#[^\s\+>~#\.\[:]+/,i=/^\.[^\s\+>~#\.\[:]+/,r=/^\[[^\]]+\]/,o=/^[^\s\+>~#\.\[:]+/,s=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,l=/^[\s\+>~\*]+/,u=/:not\(([^\)]+)\)/g}(i||(i={}))},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=n(6),o=function(){function t(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new r.Signal(this),this._currentChanged=new r.Signal(this)}return t.prototype.dispose=function(){var t=this;this._counter<0||(this._counter=-1,r.Signal.clearData(this),i.each(this._widgets,function(e){e.node.removeEventListener("focus",t,!0),e.node.removeEventListener("blur",t,!0)}),this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0)},Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeChanged",{get:function(){return this._activeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._counter<0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWidget",{get:function(){return this._currentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeWidget",{get:function(){return this._activeWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),t.prototype.focusNumber=function(t){var e=this._numbers.get(t);return void 0===e?-1:e},t.prototype.has=function(t){return this._numbers.has(t)},t.prototype.add=function(t){if(!this._numbers.has(t)){var e=t.node.contains(document.activeElement),n=e?this._counter++:-1;this._widgets.push(t),this._numbers.set(t,n),this._nodes.set(t.node,t),t.node.addEventListener("focus",this,!0),t.node.addEventListener("blur",this,!0),t.disposed.connect(this._onWidgetDisposed,this),e&&this._setWidgets(t,t)}},t.prototype.remove=function(t){var e=this;if(this._numbers.has(t)&&(t.disposed.disconnect(this._onWidgetDisposed,this),t.node.removeEventListener("focus",this,!0),t.node.removeEventListener("blur",this,!0),i.ArrayExt.removeFirstOf(this._widgets,t),this._nodes.delete(t.node),this._numbers.delete(t),this._currentWidget===t)){var n=i.filter(this._widgets,function(t){return-1!==e._numbers.get(t)}),r=i.max(n,function(t,n){return e._numbers.get(t)-e._numbers.get(n)})||null;this._setWidgets(r,null)}},t.prototype.handleEvent=function(t){switch(t.type){case"focus":this._evtFocus(t);break;case"blur":this._evtBlur(t)}},t.prototype._setWidgets=function(t,e){var n=this._currentWidget;this._currentWidget=t;var i=this._activeWidget;this._activeWidget=e,n!==t&&this._currentChanged.emit({oldValue:n,newValue:t}),i!==e&&this._activeChanged.emit({oldValue:i,newValue:e})},t.prototype._evtFocus=function(t){var e=this._nodes.get(t.currentTarget);e!==this._currentWidget&&this._numbers.set(e,this._counter++),this._setWidgets(e,e)},t.prototype._evtBlur=function(t){var e=this._nodes.get(t.currentTarget),n=t.relatedTarget;n&&(e.node.contains(n)||i.find(this._widgets,function(t){return t.node.contains(n)}))||this._setWidgets(this._currentWidget,null)},t.prototype._onWidgetDisposed=function(t){this.remove(t)},t}();e.FocusTracker=o},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(408))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(7),o=function(){function t(){this._first=null,this._last=null,this._length=0}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this._length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return new t.ForwardValueIterator(this._first)},t.prototype.retro=function(){return new t.RetroValueIterator(this._last)},t.prototype.nodes=function(){return new t.ForwardNodeIterator(this._first)},t.prototype.retroNodes=function(){return new t.RetroNodeIterator(this._last)},t.prototype.addFirst=function(t){var e=new i.LinkedListNode(this,t);return this._first?(e.next=this._first,this._first.prev=e,this._first=e):(this._first=e,this._last=e),this._length++,e},t.prototype.addLast=function(t){var e=new i.LinkedListNode(this,t);return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._first=e,this._last=e),this._length++,e},t.prototype.insertBefore=function(t,e){if(!e||e===this._first)return this.addFirst(t);if(!(e instanceof i.LinkedListNode)||e.list!==this)throw new Error("Reference node is not owned by the list.");var n=new i.LinkedListNode(this,t),r=e,o=r.prev;return n.next=r,n.prev=o,r.prev=n,o.next=n,this._length++,n},t.prototype.insertAfter=function(t,e){if(!e||e===this._last)return this.addLast(t);if(!(e instanceof i.LinkedListNode)||e.list!==this)throw new Error("Reference node is not owned by the list.");var n=new i.LinkedListNode(this,t),r=e,o=r.next;return n.next=o,n.prev=r,r.next=n,o.prev=n,this._length++,n},t.prototype.removeFirst=function(){var t=this._first;if(t)return t===this._last?(this._first=null,this._last=null):(this._first=t.next,this._first.prev=null),t.list=null,t.next=null,t.prev=null,this._length--,t.value},t.prototype.removeLast=function(){var t=this._last;if(t)return t===this._first?(this._first=null,this._last=null):(this._last=t.prev,this._last.next=null),t.list=null,t.next=null,t.prev=null,this._length--,t.value},t.prototype.removeNode=function(t){if(!(t instanceof i.LinkedListNode)||t.list!==this)throw new Error("Node is not owned by the list.");var e=t;e===this._first&&e===this._last?(this._first=null,this._last=null):e===this._first?(this._first=e.next,this._first.prev=null):e===this._last?(this._last=e.prev,this._last.next=null):(e.next.prev=e.prev,e.prev.next=e.next),e.list=null,e.next=null,e.prev=null,this._length--},t.prototype.clear=function(){for(var t=this._first;t;){var e=t.next;t.list=null,t.prev=null,t.next=null,t=e}this._first=null,this._last=null,this._length=0},t}();e.LinkedList=o,function(t){t.from=function(e){var n=new t;return r.each(e,function(t){n.addLast(t)}),n};var e=function(){function t(t){this._node=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node)},t.prototype.next=function(){if(this._node){var t=this._node;return this._node=t.next,t.value}},t}();t.ForwardValueIterator=e;var n=function(){function t(t){this._node=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node)},t.prototype.next=function(){if(this._node){var t=this._node;return this._node=t.prev,t.value}},t}();t.RetroValueIterator=n;var i=function(){function t(t){this._node=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node)},t.prototype.next=function(){if(this._node){var t=this._node;return this._node=t.next,t}},t}();t.ForwardNodeIterator=i;var o=function(){function t(t){this._node=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node)},t.prototype.next=function(){if(this._node){var t=this._node;return this._node=t.prev,t}},t}();t.RetroNodeIterator=o}(o=e.LinkedList||(e.LinkedList={})),e.LinkedList=o,function(t){var e=function(){return function(t,e){this.list=null,this.next=null,this.prev=null,this.list=t,this.value=e}}();t.LinkedListNode=e}(i||(i={}))},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(161),a=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.addClass("p-Panel"),n.layout=o.createLayout(e),n}return r(e,t),Object.defineProperty(e.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),e.prototype.addWidget=function(t){this.layout.addWidget(t)},e.prototype.insertWidget=function(t,e){this.layout.insertWidget(t,e)},e}(n(46).Widget);e.Panel=a,function(t){t.createLayout=function(t){return t.layout||new s.PanelLayout}}(o||(o={}))},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(26),a=n(95),l=n(46),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._widget=null,e}return r(e,t),e.prototype.dispose=function(){if(this._widget){var e=this._widget;this._widget=null,e.dispose()}t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"widget",{get:function(){return this._widget},set:function(t){this._widget!==t&&(this._widget&&this._widget.dispose(),this._widget=t,this.parent&&t&&this.attachWidget(t))},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return this._widget?o.once(this._widget):o.empty()},e.prototype.removeWidget=function(t){this._widget===t&&(this._widget=null,this.parent&&this.detachWidget(t))},e.prototype.init=function(){var e=this;t.prototype.init.call(this),o.each(this,function(t){e.attachWidget(t)})},e.prototype.attachWidget=function(t){this.parent.isAttached&&s.MessageLoop.sendMessage(t,l.Widget.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&s.MessageLoop.sendMessage(t,l.Widget.Msg.AfterAttach)},e.prototype.detachWidget=function(t){this.parent.isAttached&&s.MessageLoop.sendMessage(t,l.Widget.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&s.MessageLoop.sendMessage(t,l.Widget.Msg.AfterDetach)},e}(a.Layout);e.SingletonLayout=u},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(33),s=n(93),a={align_content:null,align_items:null,align_self:null,border:null,bottom:null,display:null,flex:null,flex_flow:null,height:null,justify_content:null,left:null,margin:null,max_height:null,max_width:null,min_height:null,min_width:null,overflow:null,overflow_x:null,overflow_y:null,order:null,padding:null,right:null,top:null,visibility:null,width:null,grid_auto_columns:null,grid_auto_flow:null,grid_auto_rows:null,grid_gap:null,grid_template_rows:null,grid_template_columns:null,grid_template_areas:null,grid_row:null,grid_column:null,grid_area:null},l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o.assign(t.prototype.defaults.call(this),{_model_name:"LayoutModel",_view_name:"LayoutView"},a)},e}(s.WidgetModel);e.LayoutModel=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(e){this._traitNames=[],t.prototype.initialize.call(this,e);for(var n=0,i=Object.keys(a);n<i.length;n++){var r=i[n];this.registerTrait(r)}},e.prototype.registerTrait=function(t){var e=this;this._traitNames.push(t),this.listenTo(this.model,"change:"+t,function(n,i){e.handleChange(t,i)}),this.handleChange(t,this.model.get(t))},e.prototype.css_name=function(t){return t.replace(/_/g,"-")},e.prototype.handleChange=function(t,e){var n=this.options.parent;n?null===e?n.el.style.removeProperty(this.css_name(t)):n.el.style[this.css_name(t)]=e:console.warn("Style not applied because a parent view does not exist")},e.prototype.unlayout=function(){var t=this,e=this.options.parent;this._traitNames.forEach(function(n){e?e.el.style.removeProperty(t.css_name(n)):console.warn("Style not removed because a parent view does not exist")},this)},e}(s.WidgetView);e.LayoutView=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(33),s=n(93),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){var e=this.constructor;return o.assign(t.prototype.defaults.call(this),{_model_name:"StyleModel",_view_name:"StyleView"},Object.keys(e.styleProperties).reduce(function(t,n){return t[n]=e.styleProperties[n].default,t},{}))},e.styleProperties={},e}(s.WidgetModel);e.StyleModel=a;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(e){this._traitNames=[],t.prototype.initialize.call(this,e);for(var n=this.model.constructor,i=0,r=Object.keys(n.styleProperties);i<r.length;i++){var o=r[i];this.registerTrait(o)}this.style()},e.prototype.registerTrait=function(t){var e=this;this._traitNames.push(t),this.listenTo(this.model,"change:"+t,function(n,i){e.handleChange(t,i)})},e.prototype.handleChange=function(t,e){var n=this.options.parent;if(n){var i=this.model.constructor.styleProperties,r=i[t].attribute,o=i[t].selector,s=o?n.el.querySelectorAll(o):[n.el];if(null===e)for(var a=0;a!==s.length;++a)s[a].style.removeProperty(r);else for(a=0;a!==s.length;++a)s[a].style[r]=e}else console.warn("Style not applied because a parent view does not exist")},e.prototype.style=function(){for(var t=0,e=this._traitNames;t<e.length;t++){var n=e[t];this.handleChange(n,this.model.get(n))}},e.prototype.unstyle=function(){var t=this.options.parent,e=this.model.constructor.styleProperties;this._traitNames.forEach(function(n){if(t)for(var i=e[n].attribute,r=e[n].selector,o=r?t.el.querySelectorAll(r):[t.el],s=0;s!==o.length;++s)o[s].style.removeProperty(i);else console.warn("Style not removed because a parent view does not exist")},this)},e}(s.WidgetView);e.StyleView=l},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{l(i.next(t))}catch(t){o(t)}}function a(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),function(t){!function(t){var e=function(){function t(t){this.targets=Object.create(null),this.comms=Object.create(null),this.kernel=null,this.jsServicesKernel=null,this.init_kernel(t)}return t.prototype.init_kernel=function(t){this.kernel=t,this.jsServicesKernel=t},t.prototype.new_comm=function(t,e,o,s,a,l){return i(this,void 0,void 0,function(){var i,u;return r(this,function(r){switch(r.label){case 0:return[4,Promise.resolve(this.jsServicesKernel.connectToComm(t,a))];case 1:return i=r.sent(),u=new n(i),this.register_comm(u),u.open(e,o,s,l),[2,u]}})})},t.prototype.register_target=function(t,e){var i=this,r=this.jsServicesKernel.registerCommTarget(t,function(t,r){var o=new n(t);i.register_comm(o);try{return e(o,r)}catch(t){o.close(),console.error(t),console.error(new Error("Exception opening new comm"))}});this.targets[t]=r},t.prototype.unregister_target=function(t,e){this.targets[t].dispose(),delete this.targets[t]},t.prototype.register_comm=function(t){return this.comms[t.comm_id]=Promise.resolve(t),t.kernel=this.kernel,t.comm_id},t}();t.CommManager=e;var n=function(){function t(t){this.jsServicesComm=null,this.jsServicesComm=t}return Object.defineProperty(t.prototype,"comm_id",{get:function(){return this.jsServicesComm.commId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target_name",{get:function(){return this.jsServicesComm.targetName},enumerable:!0,configurable:!0}),t.prototype.open=function(t,e,n,i){var r=this.jsServicesComm.open(t,n,i);return this._hookupCallbacks(r,e),r.msg.header.msg_id},t.prototype.send=function(t,e,n,i){var r=this.jsServicesComm.send(t,n,i);return this._hookupCallbacks(r,e),r.msg.header.msg_id},t.prototype.close=function(t,e,n,i){var r=this.jsServicesComm.close(t,n,i);return this._hookupCallbacks(r,e),r.msg.header.msg_id},t.prototype.on_msg=function(t){this.jsServicesComm.onMsg=t.bind(this)},t.prototype.on_close=function(t){this.jsServicesComm.onClose=t.bind(this)},t.prototype._hookupCallbacks=function(t,e){e&&(t.onReply=function(t){e.shell&&e.shell.reply&&e.shell.reply(t)},t.onStdin=function(t){e.input&&e.input(t)},t.onIOPub=function(t){if(e.iopub)if(e.iopub.status&&"status"===t.header.msg_type)e.iopub.status(t);else if(e.iopub.clear_output&&"clear_output"===t.header.msg_type)e.iopub.clear_output(t);else if(e.iopub.output)switch(t.header.msg_type){case"display_data":case"execute_result":e.iopub.output(t)}})},t}();t.Comm=n}(t.services||(t.services={}))}(e.shims||(e.shims={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n){this.initialize(t,e,n)}return t.prototype.initialize=function(t,e,n){this._handler_context=n||this,this._models=[],this.views=[],this._create_view=t,this._remove_view=e||function(t){t.remove()}},t.prototype.update=function(t,e,n,i){var r=n||this._remove_view,o=e||this._create_view;i=i||this._handler_context;for(var s=0;s<t.length&&!(s>=this._models.length||t[s]!==this._models[s]);s++);for(var a=s,l=this.views.splice(a,this.views.length-a),u=0;u<l.length;u++)l[u].then(function(t){r.call(i,t)});for(;s<t.length;s++)this.views.push(Promise.resolve(o.call(i,t[s],s)));return this._models=t.slice(),Promise.all(this.views)},t.prototype.remove=function(){var t=this;return Promise.all(this.views).then(function(e){e.forEach(function(e){return t._remove_view.call(t._handler_context,e)}),t.views=[],t._models=[]})},t.prototype.dispose=function(){this.views=null,this._models=null},t}();e.ViewList=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(16);e.IJupyterWidgetRegistry=new i.Token("jupyter.extensions.jupyterWidgetRegistry")},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),a=n(12),l=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{target:void 0,source:void 0,_model_name:"DirectionalLinkModel"})},e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n),this.on("change",this.updateBindings,this),this.updateBindings()},e.prototype.updateValue=function(t,e,n,i){if(!this._updating){this._updating=!0;try{n&&(n.set(i,t.get(e)),n.save_changes())}finally{this._updating=!1}}},e.prototype.updateBindings=function(){var t,e,n=this;this.cleanup(),t=this.get("source")||[null,null],this.sourceModel=t[0],this.sourceAttr=t[1],e=this.get("target")||[null,null],this.targetModel=e[0],this.targetAttr=e[1],this.sourceModel&&(this.listenTo(this.sourceModel,"change:"+this.sourceAttr,function(){n.updateValue(n.sourceModel,n.sourceAttr,n.targetModel,n.targetAttr)}),this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr),this.listenToOnce(this.sourceModel,"destroy",this.cleanup)),this.targetModel&&this.listenToOnce(this.targetModel,"destroy",this.cleanup)},e.prototype.cleanup=function(){this.sourceModel&&(this.stopListening(this.sourceModel,"change:"+this.sourceAttr,null),this.stopListening(this.sourceModel,"destroy",null)),this.targetModel&&this.stopListening(this.targetModel,"destroy",null)},e.serializers=o({},a.CoreWidgetModel.serializers,{target:{deserialize:s.unpack_models},source:{deserialize:s.unpack_models}}),e}(a.CoreWidgetModel);e.DirectionalLinkModel=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_model_name:"LinkModel"})},e.prototype.updateBindings=function(){var e=this;t.prototype.updateBindings.call(this),this.targetModel&&this.listenTo(this.targetModel,"change:"+this.targetAttr,function(){e.updateValue(e.targetModel,e.targetAttr,e.sourceModel,e.sourceAttr)})},e.prototype.cleanup=function(){t.prototype.cleanup.call(this),this.targetModel&&this.stopListening(this.targetModel,"change:"+this.targetAttr,null)},e}(u);e.LinkModel=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),s=n(29),a=n(2),l=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{value:!1,disabled:!1,_model_name:"BoolModel"})},e}(o.CoreDescriptionModel);e.BoolModel=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{indent:!0,_view_name:"CheckboxView",_model_name:"CheckboxModel"})},e}(o.CoreDescriptionModel);e.CheckboxModel=c;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-checkbox"),this.label.innerHTML="&#8203;",this.checkboxLabel=document.createElement("label"),this.checkboxLabel.classList.add("widget-label-basic"),this.el.appendChild(this.checkboxLabel),this.checkbox=document.createElement("input"),this.checkbox.setAttribute("type","checkbox"),this.checkboxLabel.appendChild(this.checkbox),this.descriptionSpan=document.createElement("span"),this.checkboxLabel.appendChild(this.descriptionSpan),this.listenTo(this.model,"change:indent",this.updateIndent),this.update(),this.updateDescription(),this.updateIndent()},e.prototype.updateDescription=function(){if(null!=this.checkboxLabel){var t=this.model.get("description");this.descriptionSpan.innerHTML=t,this.typeset(this.descriptionSpan),this.descriptionSpan.title=t,this.checkbox.title=t}},e.prototype.updateIndent=function(){var t=this.model.get("indent");this.label.style.display=t?"":"none"},e.prototype.events=function(){return{'click input[type="checkbox"]':"_handle_click"}},e.prototype._handle_click=function(){var t=this.model.get("value");this.model.set("value",!t,{updated_view:this}),this.touch()},e.prototype.update=function(e){return this.checkbox.checked=this.model.get("value"),void 0!==e&&e.updated_view==this||(this.checkbox.disabled=this.model.get("disabled")),t.prototype.update.call(this)},e}(s.DescriptionView);e.CheckboxView=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_view_name:"ToggleButtonView",_model_name:"ToggleButtonModel",tooltip:"",icon:"",button_style:""})},e}(u);e.ToggleButtonModel=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-toggle-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.set_button_style(),this.update()},e.prototype.update_button_style=function(){this.update_mapped_classes(e.class_map,"button_style")},e.prototype.set_button_style=function(){this.set_mapped_classes(e.class_map,"button_style")},e.prototype.update=function(e){if(this.model.get("value")?this.el.classList.add("mod-active"):this.el.classList.remove("mod-active"),void 0===e||e.updated_view!==this){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("title",this.model.get("tooltip"));var n=this.model.get("description"),i=this.model.get("icon");if(0===n.trim().length&&0===i.trim().length)this.el.innerHTML="&nbsp;";else{if(this.el.textContent="",i.trim().length){var r=document.createElement("i");this.el.appendChild(r),r.classList.add("fa"),r.classList.add("fa-"+i)}this.el.appendChild(document.createTextNode(n))}}return t.prototype.update.call(this)},e.prototype.events=function(){return{click:"_handle_click"}},e.prototype._handle_click=function(t){t.preventDefault();var e=this.model.get("value");this.model.set("value",!e,{updated_view:this}),this.touch()},Object.defineProperty(e.prototype,"tagName",{get:function(){return"button"},enumerable:!0,configurable:!0}),e.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]},e}(a.DOMWidgetView);e.ToggleButtonView=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{readout:"Invalid",_view_name:"ValidView",_model_name:"ValidModel"})},e}(u);e.ValidModel=p;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-valid"),this.el.classList.add("widget-inline-hbox");var e=document.createElement("i");this.el.appendChild(e),this.readout=document.createElement("span"),this.readout.classList.add("widget-valid-readout"),this.readout.classList.add("widget-readout"),this.el.appendChild(this.readout),this.update()},e.prototype.update=function(){this.el.classList.remove("mod-valid"),this.el.classList.remove("mod-invalid"),this.readout.textContent=this.model.get("readout"),this.model.get("value")?this.el.classList.add("mod-valid"):this.el.classList.add("mod-invalid")},e}(s.DescriptionView);e.ValidView=_},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(12),a=n(62),l=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_model_name:"ButtonStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:a.JUPYTER_CONTROLS_VERSION})},e.styleProperties={button_color:{selector:"",attribute:"background-color",default:null},font_weight:{selector:"",attribute:"font-weight",default:""}},e}(o.StyleModel);e.ButtonStyleModel=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{description:"",tooltip:"",disabled:!1,icon:"",button_style:"",_view_name:"ButtonView",_model_name:"ButtonModel",style:null})},e}(s.CoreDOMWidgetModel);e.ButtonModel=c;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.set_button_style(),this.update()},e.prototype.update=function(){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("title",this.model.get("tooltip"));var e=this.model.get("description"),n=this.model.get("icon");if(e.length||n.length){if(this.el.textContent="",n.length){var i=document.createElement("i");i.classList.add("fa"),i.classList.add("fa-"+n),0===e.length&&i.classList.add("center"),this.el.appendChild(i)}this.el.appendChild(document.createTextNode(e))}return t.prototype.update.call(this)},e.prototype.update_button_style=function(){this.update_mapped_classes(e.class_map,"button_style")},e.prototype.set_button_style=function(){this.set_mapped_classes(e.class_map,"button_style")},e.prototype.events=function(){return{click:"_handle_click"}},e.prototype._handle_click=function(t){t.preventDefault(),this.send({event:"click"})},Object.defineProperty(e.prototype,"tagName",{get:function(){return"button"},enumerable:!0,configurable:!0}),e.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]},e}(o.DOMWidgetView);e.ButtonView=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),a=n(12),l=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_model_name:"ImageModel",_view_name:"ImageView",format:"png",width:"",height:"",value:new DataView(new ArrayBuffer(0))})},e.serializers=o({},a.CoreDOMWidgetModel.serializers,{value:{serialize:function(t,e){return new DataView(t.buffer.slice(0))}}}),e}(a.CoreDOMWidgetModel);e.ImageModel=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.pWidget.addClass("jupyter-widgets"),this.pWidget.addClass("widget-image"),this.update()},e.prototype.update=function(){var e,n=this.model.get("format"),i=this.model.get("value");if("url"!==n){var r=new Blob([i],{type:"image/"+this.model.get("format")});e=URL.createObjectURL(r)}else e=new TextDecoder("utf-8").decode(i.buffer);var o=this.el.src;this.el.src=e,o&&"string"!=typeof o&&URL.revokeObjectURL(o);var s=this.model.get("width");void 0!==s&&s.length>0?this.el.setAttribute("width",s):this.el.removeAttribute("width");var a=this.model.get("height");return void 0!==a&&a.length>0?this.el.setAttribute("height",a):this.el.removeAttribute("height"),t.prototype.update.call(this)},e.prototype.remove=function(){this.el.src&&URL.revokeObjectURL(this.el.src),t.prototype.remove.call(this)},Object.defineProperty(e.prototype,"tagName",{get:function(){return"img"},enumerable:!0,configurable:!0}),e}(s.DOMWidgetView);e.ImageView=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),a=n(12),l=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_model_name:"VideoModel",_view_name:"VideoView",format:"mp4",width:"",height:"",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})},e.serializers=o({},a.CoreDOMWidgetModel.serializers,{value:{serialize:function(t,e){return new DataView(t.buffer.slice(0))}}}),e}(a.CoreDOMWidgetModel);e.VideoModel=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.pWidget.addClass("jupyter-widgets"),this.pWidget.addClass("widget-image"),this.update()},e.prototype.update=function(){var e,n=this.model.get("format"),i=this.model.get("value");if("url"!==n){var r=new Blob([i],{type:"video/"+this.model.get("format")});e=URL.createObjectURL(r)}else e=new TextDecoder("utf-8").decode(i.buffer);var o=this.el.src;this.el.src=e,o&&"string"!=typeof o&&URL.revokeObjectURL(o);var s=this.model.get("width");void 0!==s&&s.length>0?this.el.setAttribute("width",s):this.el.removeAttribute("width");var a=this.model.get("height");return void 0!==a&&a.length>0?this.el.setAttribute("height",a):this.el.removeAttribute("height"),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),t.prototype.update.call(this)},e.prototype.remove=function(){this.el.src&&URL.revokeObjectURL(this.el.src),t.prototype.remove.call(this)},Object.defineProperty(e.prototype,"tagName",{get:function(){return"video"},enumerable:!0,configurable:!0}),e}(s.DOMWidgetView);e.VideoView=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),a=n(12),l=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_model_name:"AudioModel",_view_name:"AudioView",format:"mp3",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})},e.serializers=o({},a.CoreDOMWidgetModel.serializers,{value:{serialize:function(t,e){return new DataView(t.buffer.slice(0))}}}),e}(a.CoreDOMWidgetModel);e.AudioModel=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.pWidget.addClass("jupyter-widgets"),this.update()},e.prototype.update=function(){var e,n=this.model.get("format"),i=this.model.get("value");if("url"!==n){var r=new Blob([i],{type:"audio/"+this.model.get("format")});e=URL.createObjectURL(r)}else e=new TextDecoder("utf-8").decode(i.buffer);var o=this.el.src;return this.el.src=e,o&&"string"!=typeof o&&URL.revokeObjectURL(o),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),t.prototype.update.call(this)},e.prototype.remove=function(){this.el.src&&URL.revokeObjectURL(this.el.src),t.prototype.remove.call(this)},Object.defineProperty(e.prototype,"tagName",{get:function(){return"audio"},enumerable:!0,configurable:!0}),e}(s.DOMWidgetView);e.AudioView=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),s=n(29),a=n(20),l=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{value:"black",concise:!1,_model_name:"ColorPickerModel",_view_name:"ColorPickerView"})},e}(o.CoreDescriptionModel);e.ColorPickerModel=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-colorpicker"),this._color_container=document.createElement("div"),this._color_container.className="widget-inline-hbox widget-colorpicker-input",this.el.appendChild(this._color_container),this._textbox=document.createElement("input"),this._textbox.setAttribute("type","text"),this._textbox.id=this.label.htmlFor=a.uuid(),this._color_container.appendChild(this._textbox),this._textbox.value=this.model.get("value"),this._colorpicker=document.createElement("input"),this._colorpicker.setAttribute("type","color"),this._color_container.appendChild(this._colorpicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change:concise",this._update_concise),this._update_concise(),this._update_value(),this.update()},e.prototype.update=function(e){if(void 0===e||e.updated_view!=this){var n=this.model.get("disabled");this._textbox.disabled=n,this._colorpicker.disabled=n}return t.prototype.update.call(this)},e.prototype.events=function(){return{'change [type="color"]':"_picker_change",'change [type="text"]':"_text_change"}},e.prototype._update_value=function(){var t,e,n=this.model.get("value");this._colorpicker.value=h[(t=n).toLowerCase()]||(7===(e=t).length?e:"#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)),this._textbox.value=n},e.prototype._update_concise=function(){this.model.get("concise")?(this.el.classList.add("concise"),this._textbox.style.display="none"):(this.el.classList.remove("concise"),this._textbox.style.display="")},e.prototype._picker_change=function(){this.model.set("value",this._colorpicker.value),this.touch()},e.prototype._text_change=function(){var t=this._validate_color(this._textbox.value,this.model.get("value"));this.model.set("value",t),this.touch()},e.prototype._validate_color=function(t,e){return t.match(/#[a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?$/)||h[t.toLowerCase()]?t:e},e}(s.DescriptionView);e.ColorPickerView=c;var h={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(29),a=n(12),l=n(20),u=n(0);function c(t){return null===t?null:{year:t.getUTCFullYear(),month:t.getUTCMonth(),date:t.getUTCDate()}}function h(t){if(null===t)return null;var e=new Date;return e.setUTCFullYear(t.year,t.month,t.date),e.setUTCHours(0,0,0,0),e}e.serialize_date=c,e.deserialize_date=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return u.extend(t.prototype.defaults.call(this),{value:null,_model_name:"DatePickerModel",_view_name:"DatePickerView"})},e.serializers=o({},a.CoreDescriptionModel.serializers,{value:{serialize:c,deserialize:h}}),e}(a.CoreDescriptionModel);e.DatePickerModel=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datepicker"),this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=l.uuid(),this.el.appendChild(this._datepicker),this.listenTo(this.model,"change:value",this._update_value),this._update_value(),this.update()},e.prototype.update=function(e){return void 0!==e&&e.updated_view==this||(this._datepicker.disabled=this.model.get("disabled")),t.prototype.update.call(this)},e.prototype.events=function(){return{'change [type="date"]':"_picker_change"}},e.prototype._update_value=function(){var t=this.model.get("value");this._datepicker.valueAsDate=t},e.prototype._picker_change=function(){this._datepicker.validity.badInput||(this.model.set("value",this._datepicker.valueAsDate),this.touch())},e}(s.DescriptionView);e.DatePickerView=f},function(t,e,n){var i,r,o;
/*!
 * jQuery UI Slider 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[n(13),n(433),n(435),n(47),n(164)],void 0===(o="function"==typeof(i=function(t){return t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;e<n;e++)o.push("<span tabindex='0'></span>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,l,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-u.values(e));(r>n||r===n&&(e===u._lastChangedValue||u.values(e)===c.min))&&(r=n,o=t(this),s=e)}),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),a=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),o[e]=n),n!==r&&!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step,i=Math.round((t-e)/n)*n;(t=i+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,c={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](c,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(e){var n,i,r,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(e,o,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}})})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;
/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[n(13),n(434),n(47),n(164)],void 0===(o="function"==typeof(i=function(t){var e=!1;return t(document).on("mouseup",function(){e=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(n)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,n.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[n(13),n(47)],void 0===(o="function"==typeof(i=function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[n(13),n(47)],void 0===(o="function"==typeof(i=function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),s=n(0),a=n(163),l=n(186),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return s.extend(t.prototype.defaults.call(this),{_model_name:"FloatModel",value:0})},e}(o.CoreDescriptionModel);e.FloatModel=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return s.extend(t.prototype.defaults.call(this),{_model_name:"BoundedFloatModel",max:100,min:0})},e}(u);e.BoundedFloatModel=c;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return s.extend(t.prototype.defaults.call(this),{_model_name:"FloatSliderModel",_view_name:"FloatSliderView",step:1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".2f",slider_color:null,continuous_update:!0,disabled:!1})},e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()},e.prototype.update_readout_format=function(){this.readout_formatter=l.format(this.get("readout_format"))},e}(c);e.FloatSliderModel=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return s.extend(t.prototype.defaults.call(this),{_model_name:"FloatLogSliderModel",_view_name:"FloatLogSliderView",step:.1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".3g",slider_color:null,continuous_update:!0,disabled:!1,base:10,value:1,min:0,max:4})},e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()},e.prototype.update_readout_format=function(){this.readout_formatter=l.format(this.get("readout_format"))},e}(c);e.FloatLogSliderModel=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.FloatRangeSliderModel=f;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parse_value=parseFloat,e}return r(e,t),e.prototype._validate_slide_value=function(t){return t},e}(a.IntSliderView);e.FloatSliderView=p;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parse_value=parseFloat,e}return r(e,t),e.prototype.update=function(e){t.prototype.update.call(this,e);var n=this.model.get("min"),i=this.model.get("max"),r=this.model.get("value"),o=this.model.get("base"),s=Math.log(r)/Math.log(o);s>i?s=i:s<n&&(s=n),this.$slider.slider("option","value",s),this.readout.textContent=this.valueToString(r),this.model.get("value")!==r&&(this.model.set("value",r,{updated_view:this}),this.touch())},e.prototype.valueToString=function(t){return(0,this.model.readout_formatter)(t)},e.prototype.stringToValue=function(t){return this._parse_value(t)},e.prototype.handleTextChange=function(){var t=this.stringToValue(this.readout.textContent),e=this.model.get("min"),n=this.model.get("max"),i=this.model.get("base");isNaN(t)?this.readout.textContent=this.valueToString(this.model.get("value")):(t=Math.max(Math.min(t,Math.pow(i,n)),Math.pow(i,e)))!==this.model.get("value")?(this.readout.textContent=this.valueToString(t),this.model.set("value",t,{updated_view:this}),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value"))},e.prototype.handleSliderChange=function(t,e){var n=this.model.get("base"),i=Math.pow(n,this._validate_slide_value(e.value));this.readout.textContent=this.valueToString(i),this.model.get("continuous_update")&&this.handleSliderChanged(t,e)},e.prototype.handleSliderChanged=function(t,e){var n=this.model.get("base"),i=Math.pow(n,this._validate_slide_value(e.value));this.model.set("value",i,{updated_view:this}),this.touch()},e.prototype._validate_slide_value=function(t){return t},e}(a.BaseIntSliderView);e.FloatLogSliderView=_;var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parse_value=parseFloat,e._range_regex=/^\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][-:]?\d+)?)\s*[-:]\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][+-]?\d+)?)/,e}return r(e,t),e.prototype._validate_slide_value=function(t){return t},e}(a.IntRangeSliderView);e.FloatRangeSliderView=g;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return s.extend(t.prototype.defaults.call(this),{_model_name:"FloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1})},e}(u);e.FloatTextModel=m;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return s.extend(t.prototype.defaults.call(this),{_model_name:"BoundedFloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1,step:.1})},e}(c);e.BoundedFloatTextModel=v;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parse_value=parseFloat,e._default_step="any",e}return r(e,t),e}(a.IntTextView);e.FloatTextView=y;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return s.extend(t.prototype.defaults.call(this),{_model_name:"FloatProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})},e}(c);e.FloatProgressModel=b},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(12),a=n(2),l=n(0),u=n(20),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_model_name:"ControllerButtonModel",_view_name:"ControllerButtonView",value:0,pressed:!1})},e}(s.CoreDOMWidgetModel);e.ControllerButtonModel=c;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-button"),this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="16px",this.support.style.height="16px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.el.appendChild(this.support),this.bar=document.createElement("div"),this.bar.style.position="absolute",this.bar.style.width="100%",this.bar.style.bottom="0px",this.bar.style.background="gray",this.support.appendChild(this.bar),this.update(),this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.el.appendChild(this.label)},e.prototype.update=function(){this.bar.style.height=100*this.model.get("value")+"%"},e}(a.DOMWidgetView);e.ControllerButtonView=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_model_name:"ControllerAxisModel",_view_name:"ControllerAxisView",value:0})},e}(s.CoreDOMWidgetModel);e.ControllerAxisModel=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-axis"),this.el.style.width="16px",this.el.style.padding="4px",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="4px",this.support.style.height="64px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.bullet=document.createElement("div"),this.bullet.style.position="absolute",this.bullet.style.margin="-4px",this.bullet.style.width="10px",this.bullet.style.height="10px",this.bullet.style.background="gray",this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.support.appendChild(this.bullet),this.el.appendChild(this.support),this.el.appendChild(this.label),this.update()},e.prototype.update=function(){this.bullet.style.top=50*(this.model.get("value")+1)+"%"},e}(a.DOMWidgetView);e.ControllerAxisView=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_model_name:"ControllerModel",_view_name:"ControllerView",index:0,name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]})},e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n),void 0===navigator.getGamepads?(this.readout="This browser does not support gamepads.",console.error(this.readout)):(this.readout="Connect gamepad and press any button.",this.get("connected")?this.update_loop():this.wait_loop())},e.prototype.wait_loop=function(){var t=this.get("index"),e=navigator.getGamepads()[t];if(e){var n=this;this.setup(e).then(function(t){n.set(t),n.save_changes(),window.requestAnimationFrame(n.update_loop.bind(n))})}else window.requestAnimationFrame(this.wait_loop.bind(this))},e.prototype.setup=function(t){this.set({name:t.id,mapping:t.mapping,connected:t.connected,timestamp:t.timestamp});var e=this;return u.resolvePromisesDict({buttons:Promise.all(t.buttons.map(function(t,n){return e._create_button_model(n)})),axes:Promise.all(t.axes.map(function(t,n){return e._create_axis_model(n)}))})},e.prototype.update_loop=function(){var t=this.get("index"),e=this.get("name"),n=navigator.getGamepads()[t];n&&t===n.index&&e===n.id?(this.set({timestamp:n.timestamp,connected:n.connected}),this.save_changes(),this.get("buttons").forEach(function(t,e){t.set({value:n.buttons[e].value,pressed:n.buttons[e].pressed}),t.save_changes()}),this.get("axes").forEach(function(t,e){t.set("value",n.axes[e]),t.save_changes()}),window.requestAnimationFrame(this.update_loop.bind(this))):this.reset_gamepad()},e.prototype.reset_gamepad=function(){this.get("buttons").forEach(function(t){t.close()}),this.get("axes").forEach(function(t){t.close()}),this.set({name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]}),this.save_changes(),window.requestAnimationFrame(this.wait_loop.bind(this))},e.prototype._create_button_model=function(t){return this.widget_manager.new_widget({model_name:"ControllerButtonModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerButtonView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then(function(e){return e.set("description",t),e})},e.prototype._create_axis_model=function(t){return this.widget_manager.new_widget({model_name:"ControllerAxisModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerAxisView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then(function(e){return e.set("description",t),e})},e.serializers=o({},s.CoreDOMWidgetModel.serializers,{buttons:{deserialize:a.unpack_models},axes:{deserialize:a.unpack_models}}),e}(s.CoreDOMWidgetModel);e.ControllerModel=p;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),this.button_views=new a.ViewList(this.add_button,null,this),this.listenTo(this.model,"change:buttons",function(t,e){this.button_views.update(e)}),this.axis_views=new a.ViewList(this.add_axis,null,this),this.listenTo(this.model,"change:axes",function(t,e){this.axis_views.update(e)}),this.listenTo(this.model,"change:name",this.update_label)},e.prototype.render=function(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller"),this.box=this.el,this.label=document.createElement("div"),this.box.appendChild(this.label),this.axis_box=document.createElement("div"),this.axis_box.style.display="flex",this.box.appendChild(this.axis_box),this.button_box=document.createElement("div"),this.button_box.style.display="flex",this.box.appendChild(this.button_box),this.button_views.update(this.model.get("buttons")),this.axis_views.update(this.model.get("axes")),this.update_label()},e.prototype.update_label=function(){this.label.textContent=this.model.get("name")||this.model.readout},e.prototype.add_button=function(t){var e=this,n=document.createElement("div");return e.button_box.appendChild(n),this.create_child_view(t).then(function(t){return e.button_box.replaceChild(t.el,n),e.displayed.then(function(){t.trigger("displayed",e)}),t}).catch(u.reject("Could not add button view",!0))},e.prototype.add_axis=function(t){var e=this,n=document.createElement("div");return e.axis_box.appendChild(n),this.create_child_view(t).then(function(t){return e.axis_box.replaceChild(t.el,n),e.displayed.then(function(){t.trigger("displayed",e)}),t}).catch(u.reject("Could not add axis view",!0))},e.prototype.remove=function(){t.prototype.remove.call(this),this.button_views.remove(),this.axis_views.remove()},e}(a.DOMWidgetView);e.ControllerView=_},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(12),a=n(29),l=n(20),u=n(0),c=n(20),h=n(13);var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"SelectionModel",index:"",_options_labels:[],disabled:!1})},e}(s.CoreDescriptionModel);e.SelectionModel=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"DropdownModel",_view_name:"DropdownView",button_style:""})},e}(d);e.DropdownModel=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(e){var n=this;t.prototype.initialize.call(this,e),this.listenTo(this.model,"change:_options_labels",function(){return n._updateOptions()})},e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-dropdown"),this.listbox=document.createElement("select"),this.listbox.id=this.label.htmlFor=l.uuid(),this.el.appendChild(this.listbox),this._updateOptions(),this.update()},e.prototype.update=function(){this.listbox.disabled=this.model.get("disabled");var e=this.model.get("index");return this.listbox.selectedIndex=null===e?-1:e,t.prototype.update.call(this)},e.prototype._updateOptions=function(){this.listbox.textContent="";for(var t=this.model.get("_options_labels"),e=0;e<t.length;e++){var n=t[e],i=document.createElement("option");i.textContent=n.replace(/ /g,""),i.setAttribute("data-value",encodeURIComponent(n)),i.value=n,this.listbox.appendChild(i)}},e.prototype.events=function(){return{"change select":"_handle_change"}},e.prototype._handle_change=function(){this.model.set("index",-1===this.listbox.selectedIndex?null:this.listbox.selectedIndex),this.touch()},e}(a.DescriptionView);e.DropdownView=p;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"SelectModel",_view_name:"SelectView",rows:5})},e}(d);e.SelectModel=_;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(e){var n=this;t.prototype.initialize.call(this,e),this.listenTo(this.model,"change:_options_labels",function(){return n._updateOptions()}),this.listenTo(this.model,"change:index",function(t,e,i){return n.updateSelection(i)}),this.listbox=document.createElement("select")},e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-select"),this.listbox.id=this.label.htmlFor=l.uuid(),this.el.appendChild(this.listbox),this._updateOptions(),this.update(),this.updateSelection()},e.prototype.update=function(){t.prototype.update.call(this),this.listbox.disabled=this.model.get("disabled");var e=this.model.get("rows");null===e&&(e=""),this.listbox.setAttribute("size",e)},e.prototype.updateSelection=function(t){if(void 0===t&&(t={}),t.updated_view!==this){var e=this.model.get("index");this.listbox.selectedIndex=null===e?-1:e}},e.prototype._updateOptions=function(){this.listbox.textContent="";for(var t=this.model.get("_options_labels"),e=0;e<t.length;e++){var n=t[e],i=document.createElement("option");i.textContent=n.replace(/ /g,""),i.setAttribute("data-value",encodeURIComponent(n)),i.value=n,this.listbox.appendChild(i)}},e.prototype.events=function(){return{"change select":"_handle_change"}},e.prototype._handle_change=function(){this.model.set("index",this.listbox.selectedIndex,{updated_view:this}),this.touch()},e}(a.DescriptionView);e.SelectView=g;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"RadioButtonsModel",_view_name:"RadioButtonsView",tooltips:[],icons:[],button_style:""})},e}(d);e.RadioButtonsModel=m;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-radio"),this.container=document.createElement("div"),this.el.appendChild(this.container),this.container.classList.add("widget-radio-box"),this.update()},e.prototype.update=function(e){var n=this,i=this.model.get("_options_labels"),r=u.pluck(this.container.querySelectorAll('input[type="radio"]'),"value"),o=i.length!=r.length;if(!o)for(var s=0,a=i.length;s<a;++s)if(r[s]!==i[s]){o=!0;break}return!o||void 0!==e&&e.updated_view===this||(this.container.textContent="",i.forEach(function(t,e){var i=document.createElement("label");i.textContent=t,n.container.appendChild(i);var r=document.createElement("input");r.setAttribute("type","radio"),r.value=e.toString(),r.setAttribute("data-value",encodeURIComponent(t)),i.appendChild(r)})),i.forEach(function(t,e){var i='input[data-value="'+encodeURIComponent(t)+'"]',r=n.container.querySelectorAll(i);if(r.length>0){var o=r[0];o.checked=n.model.get("index")===e,o.disabled=n.model.get("disabled")}}),setTimeout(this.adjustPadding,0,this),t.prototype.update.call(this,e)},e.prototype.adjustPadding=function(t){var e=window.getComputedStyle(t.el),n=parseInt(e.marginTop)+parseInt(e.marginBottom),i=t.label.offsetHeight+n,r=window.getComputedStyle(t.container),o=parseInt(r.marginBottom),s=(t.el.offsetHeight+n-o)%i,a=0==s?0:i-s;t.container.style.marginBottom=a+"px"},e.prototype.events=function(){return{'click input[type="radio"]':"_handle_click"}},e.prototype._handle_click=function(t){this.model.set("index",parseInt(t.target.value),{updated_view:this}),this.touch()},e}(a.DescriptionView);e.RadioButtonsView=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return u.extend(t.prototype.defaults.call(this),{_model_name:"ToggleButtonsStyleModel"})},e.styleProperties=o({},a.DescriptionStyleModel.styleProperties,{button_width:{selector:".widget-toggle-button",attribute:"width",default:null},font_weight:{selector:".widget-toggle-button",attribute:"font-weight",default:""}}),e}(a.DescriptionStyleModel);e.ToggleButtonsStyleModel=y;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"ToggleButtonsModel",_view_name:"ToggleButtonsView"})},e}(d);e.ToggleButtonsModel=b;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(e){this._css_state={},t.prototype.initialize.call(this,e),this.listenTo(this.model,"change:button_style",this.update_button_style)},e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-toggle-buttons"),this.buttongroup=document.createElement("div"),this.el.appendChild(this.buttongroup),this.update(),this.set_button_style()},e.prototype.update=function(n){for(var i=this,r=this.model.get("_options_labels"),o=this.model.get("icons")||[],s=this.model.previous("icons")||[],a=e.classMap[this.model.previous("button_style")]||"",l=i.model.get("tooltips")||[],h=this.model.get("disabled"),d=this.buttongroup.querySelectorAll("button"),f=u.pluck(d,"value"),p=!1,_=0,g=r.length;_<g;++_)if(f[_]!==r[_]||o[_]!==s[_]){p=!0;break}return!p||void 0!==n&&n.updated_view===this||(this.buttongroup.textContent="",r.forEach(function(t,e){var n;n=0===t.trim().length&&(!o[e]||0===o[e].trim().length)?"&nbsp;":c.escape_html(t);var r=document.createElement("i"),s=document.createElement("button");o[e]&&(r.className="fa fa-"+o[e]),s.setAttribute("type","button"),s.className="widget-toggle-button jupyter-button",a&&s.classList.add(a),s.innerHTML=n,s.setAttribute("data-value",encodeURIComponent(t)),s.setAttribute("value",e.toString()),s.appendChild(r),s.disabled=h,l[e]&&s.setAttribute("title",l[e]),i.update_style_traits(s),i.buttongroup.appendChild(s)})),r.forEach(function(t,e){var n='[data-value="'+encodeURIComponent(t)+'"]',r=i.buttongroup.querySelector(n);i.model.get("index")===e?r.classList.add("mod-active"):r.classList.remove("mod-active")}),this.stylePromise.then(function(t){t&&t.style()}),t.prototype.update.call(this,n)},e.prototype.update_style_traits=function(t){for(var e in this._css_state)if(this._css_state.hasOwnProperty(e))if("margin"===e)this.buttongroup.style[e]=this._css_state[e];else if("width"!==e)if(t)t.style[e]=this._css_state[e];else{var n=this.buttongroup.querySelectorAll("button");n.length&&(n[0].style[e]=this._css_state[e])}},e.prototype.update_button_style=function(){for(var t=this.buttongroup.querySelectorAll("button"),n=0;n<t.length;n++)this.update_mapped_classes(e.classMap,"button_style",t[n])},e.prototype.set_button_style=function(){for(var t=this.buttongroup.querySelectorAll("button"),n=0;n<t.length;n++)this.set_mapped_classes(e.classMap,"button_style",t[n])},e.prototype.events=function(){return{"click button":"_handle_click"}},e.prototype._handle_click=function(t){this.model.set("index",parseInt(t.target.value),{updated_view:this}),this.touch(),this.send({event:"click"})},e}(a.DescriptionView);e.ToggleButtonsView=w,function(t){t.classMap={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}}(w=e.ToggleButtonsView||(e.ToggleButtonsView={})),e.ToggleButtonsView=w;var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})},e}(d);e.SelectionSliderModel=x;var k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){var e=this;t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-slider"),(this.$slider=h("<div />")).slider({slide:this.handleSliderChange.bind(this),stop:this.handleSliderChanged.bind(this)}).addClass("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider[0]),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.style.display="none",this.listenTo(this.model,"change:slider_color",function(t,n){e.$slider.find("a").css("background",n)}),this.$slider.find("a").css("background",this.model.get("slider_color")),this.update()},e.prototype.update=function(e){if(void 0===e||e.updated_view!==this){var n=this.model.get("_options_labels").length-1;this.$slider.slider("option","step",1),this.$slider.slider("option","max",n),this.$slider.slider("option","min",0);var i=this.model.get("orientation");this.$slider.slider("option","value",0),this.$slider.slider("option","orientation",i);var r=this.model.get("disabled");this.$slider.slider("option","disabled",r),this.readout.contentEditable=r?"false":"true","vertical"===i?(this.el.classList.remove("widget-hslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-vslider"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-inline-hbox"));var o=this.model.get("readout");this.readout.style.display=o?"":"none",this.updateSelection()}return t.prototype.update.call(this,e)},e.prototype.events=function(){return{slide:"handleSliderChange",slidestop:"handleSliderChanged"}},e.prototype.updateSelection=function(){var t=this.model.get("index");this.$slider.slider("option","value",t),this.updateReadout(t)},e.prototype.updateReadout=function(t){var e=this.model.get("_options_labels")[t];this.readout.textContent=e},e.prototype.handleSliderChange=function(t,e){this.updateReadout(e.value),this.model.get("continuous_update")&&this.handleSliderChanged(t,e)},e.prototype.handleSliderChanged=function(t,e){this.updateReadout(e.value),this.model.set("index",e.value,{updated_view:this}),this.touch()},e}(a.DescriptionView);e.SelectionSliderView=k;var M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"MultipleSelectionModel"})},e}(d);e.MultipleSelectionModel=M;var E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"SelectMultipleModel",_view_name:"SelectMultipleView",rows:null})},e}(M);e.SelectMultipleModel=E;var j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),this.listbox.multiple=!0},e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("widget-select-multiple")},e.prototype.updateSelection=function(t){if(void 0===t&&(t={}),t.updated_view!==this){var e=this.model.get("index")||[],n=this.listbox.options;this.listbox.selectedIndex=-1,e.forEach(function(t){n[t].selected=!0})}},e.prototype._handle_change=function(){var t=Array.prototype.map.call(this.listbox.selectedOptions||[],function(t){return t.index});this.model.set("index",t,{updated_view:this}),this.touch()},e}(g);e.SelectMultipleView=j;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})},e}(M);e.SelectionRangeSliderModel=S;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.$slider.slider("option","range",!0)},e.prototype.updateSelection=function(){var t=this.model.get("index");this.$slider.slider("option","values",t.slice()),this.updateReadout(t)},e.prototype.updateReadout=function(t){var e=this.model.get("_options_labels"),n=e[t[0]],i=e[t[1]];this.readout.textContent=n+"-"+i},e.prototype.handleSliderChange=function(t,e){this.updateReadout(e.values),this.model.get("continuous_update")&&this.handleSliderChanged(t,e)},e.prototype.handleSliderChanged=function(t,e){this.updateReadout(e.values),this.model.set("index",e.values.slice(),{updated_view:this}),this.touch()},e}(k);e.SelectionRangeSliderView=C},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(162),a=n(440),l=n(441),u=n(11),c=n(7),h=n(26),d=n(0),f=n(20),p=n(13),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return d.extend(t.prototype.defaults.call(this),{_model_name:"SelectionContainerModel",selected_index:0,_titles:{}})},e}(s.BoxModel);e.SelectionContainerModel=_;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return d.extend(t.prototype.defaults.call(this),{_model_name:"AccordionModel",_view_name:"AccordionView"})},e}(_);e.AccordionModel=g;var m=function(t){function e(e){var n=this,i=e.view;return delete e.view,(n=t.call(this,e)||this)._view=i,n}return r(e,t),e.prototype.processMessage=function(e){t.prototype.processMessage.call(this,e),this._view.processPhosphorMessage(e)},e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._view&&this._view.remove(),this._view=null)},e}(l.Accordion);e.JupyterPhosphorAccordionWidget=m;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._createElement=function(t){return this.pWidget=new m({view:this}),this.pWidget.node},e.prototype._setElement=function(t){if(this.el||t!==this.pWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.pWidget.node,this.$el=p(this.pWidget.node)},e.prototype.initialize=function(e){var n=this;t.prototype.initialize.call(this,e),this.children_views=new o.ViewList(this.add_child_view,this.remove_child_view,this),this.listenTo(this.model,"change:children",function(){return n.updateChildren()}),this.listenTo(this.model,"change:selected_index",function(){return n.update_selected_index()}),this.listenTo(this.model,"change:_titles",function(){return n.update_titles()})},e.prototype.render=function(){var e=this;t.prototype.render.call(this);var n=this.pWidget;n.addClass("jupyter-widgets"),n.addClass("widget-accordion"),n.addClass("widget-container"),n.selection.selectionChanged.connect(function(t){e.updatingChildren||(e.model.set("selected_index",n.selection.index),e.touch())}),this.children_views.update(this.model.get("children")),this.update_titles(),this.update_selected_index()},e.prototype.updateChildren=function(){this.updatingChildren=!0,this.pWidget.selection.index=null,this.children_views.update(this.model.get("children")),this.update_selected_index(),this.updatingChildren=!1},e.prototype.update_titles=function(){for(var t=this.pWidget.collapseWidgets,e=this.model.get("_titles"),n=0;n<t.length;n++)void 0!==e[n]&&(t[n].widget.title.label=e[n])},e.prototype.update_selected_index=function(){this.pWidget.selection.index=this.model.get("selected_index")},e.prototype.remove_child_view=function(t){this.pWidget.removeWidget(t.pWidget),t.remove()},e.prototype.add_child_view=function(t,e){var n=this.pWidget,i=new u.Widget;return i.title.label=this.model.get("_titles")[e]||"",n.addWidget(i),this.create_child_view(t).then(function(t){var e=t.pWidget;return e.title.label=i.title.label,n.collapseWidgets[n.indexOf(i)].widget=e,i.dispose(),t}).catch(f.reject("Could not add child view to box",!0))},e.prototype.remove=function(){this.children_views=null,t.prototype.remove.call(this)},e}(o.DOMWidgetView);e.AccordionView=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return d.extend(t.prototype.defaults.call(this),{_model_name:"TabModel",_view_name:"TabView"})},e}(_);e.TabModel=y;var b=function(t){function e(e){var n=this,i=e.view;return delete e.view,(n=t.call(this,e)||this)._view=i,h.MessageLoop.installMessageHook(n.tabContents,function(t,e){return n._view.processPhosphorMessage(e),!0}),n}return r(e,t),e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._view&&this._view.remove(),this._view=null)},e}(a.TabPanel);e.JupyterPhosphorTabPanelWidget=b;var w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.updatingTabs=!1,e}return r(e,t),e.prototype._createElement=function(t){return this.pWidget=new b({view:this}),this.pWidget.node},e.prototype._setElement=function(t){if(this.el||t!==this.pWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.pWidget.node,this.$el=p(this.pWidget.node)},e.prototype.initialize=function(e){var n=this;t.prototype.initialize.call(this,e),this.childrenViews=new o.ViewList(this.addChildView,function(t){t.remove()},this),this.listenTo(this.model,"change:children",function(){return n.updateTabs()}),this.listenTo(this.model,"change:_titles",function(){return n.updateTitles()})},e.prototype.render=function(){t.prototype.render.call(this);var e=this.pWidget;e.addClass("jupyter-widgets"),e.addClass("widget-container"),e.addClass("widget-tab"),e.tabsMovable=!0,e.tabBar.insertBehavior="none",e.tabBar.currentChanged.connect(this._onTabChanged,this),e.tabBar.tabMoved.connect(this._onTabMoved,this),e.tabBar.addClass("widget-tab-bar"),e.tabContents.addClass("widget-tab-contents"),e.tabBar.tabsMovable=!1,this.updateTabs(),this.update()},e.prototype.updateTabs=function(){this.updatingTabs=!0,this.pWidget.currentIndex=null,this.childrenViews.update(this.model.get("children")),this.pWidget.currentIndex=this.model.get("selected_index"),this.updatingTabs=!1},e.prototype.addChildView=function(t,e){var n=this.model.get("_titles")[e]||"",i=this.pWidget,r=new u.Widget;return r.title.label=n,i.addWidget(r),this.create_child_view(t).then(function(t){var e=t.pWidget;e.title.label=r.title.label,e.title.closable=!1;var n=c.ArrayExt.firstIndexOf(i.widgets,r);return i.insertWidget(n+1,e),r.dispose(),t}).catch(f.reject("Could not add child view to box",!0))},e.prototype.update=function(){return this.updateSelectedIndex(),t.prototype.update.call(this)},e.prototype.updateTitles=function(){var t=this.model.get("_titles")||{};c.each(this.pWidget.widgets,function(e,n){e.title.label=t[n]||""})},e.prototype.updateSelectedIndex=function(){this.pWidget.currentIndex=this.model.get("selected_index")},e.prototype.remove=function(){this.childrenViews=null,t.prototype.remove.call(this)},e.prototype._onTabChanged=function(t,e){if(!this.updatingTabs){var n=e.currentIndex;this.model.set("selected_index",-1===n?null:n),this.touch()}},e.prototype._onTabMoved=function(t,e){var n=this.model.get("children").slice();c.ArrayExt.move(n,e.fromIndex,e.toIndex),this.model.set("children",n),this.touch()},e}(o.DOMWidgetView);e.TabView=w},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(26),s=n(6),a=n(94),l=n(11),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._widgetRemoved=new s.Signal(e),e}return r(e,t),Object.defineProperty(e.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:!0,configurable:!0}),e.prototype.onChildRemoved=function(t){this._widgetRemoved.emit(t.child)},e}(l.Panel);e.EventedPanel=u;var c=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;n._currentChanged=new s.Signal(n),n.addClass("p-TabPanel"),n.tabBar=new l.TabBar(e),n.tabBar.addClass("p-TabPanel-tabBar"),n.tabContents=new u,n.tabContents.addClass("p-TabPanel-tabContents"),n.tabBar.tabMoved.connect(n._onTabMoved,n),n.tabBar.currentChanged.connect(n._onCurrentChanged,n),n.tabBar.tabCloseRequested.connect(n._onTabCloseRequested,n),n.tabBar.tabActivateRequested.connect(n._onTabActivateRequested,n),n.tabContents.widgetRemoved.connect(n._onWidgetRemoved,n);var i=new l.PanelLayout;return i.addWidget(n.tabBar),i.addWidget(n.tabContents),n.layout=i,n}return r(e,t),Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){var t=this.tabBar.currentIndex;return-1===t?null:t},set:function(t){this.tabBar.currentIndex=null===t?-1:t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentWidget",{get:function(){var t=this.tabBar.currentTitle;return t?t.owner:null},set:function(t){this.tabBar.currentTitle=t?t.title:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(t){this.tabBar.tabsMovable=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgets",{get:function(){return this.tabContents.widgets},enumerable:!0,configurable:!0}),e.prototype.addWidget=function(t){this.insertWidget(this.widgets.length,t)},e.prototype.insertWidget=function(t,e){e!==this.currentWidget&&e.hide(),this.tabContents.insertWidget(t,e),this.tabBar.insertTab(t,e.title)},e.prototype._onCurrentChanged=function(t,e){var n=e.previousIndex,i=e.previousTitle,r=e.currentIndex,s=e.currentTitle,l=i?i.owner:null,u=s?s.owner:null;l&&l.hide(),u&&u.show(),this._currentChanged.emit({previousIndex:n,previousWidget:l,currentIndex:r,currentWidget:u}),(a.Platform.IS_EDGE||a.Platform.IS_IE)&&o.MessageLoop.flush()},e.prototype._onTabActivateRequested=function(t,e){e.title.owner.activate()},e.prototype._onTabCloseRequested=function(t,e){e.title.owner.close()},e.prototype._onTabMoved=function(t,e){this.tabContents.insertWidget(e.toIndex,e.title.owner)},e.prototype._onWidgetRemoved=function(t,e){this.tabBar.removeTab(e.title)},e}(l.Widget);e.TabPanel=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(6),a=n(11),l=n(442),u="p-Collapse",c="p-Collapse-header",h="p-Collapse-contents",d=function(t){function e(e){var n=t.call(this,e)||this;n._collapseChanged=new s.Signal(n),n.addClass(u),n._header=new a.Widget,n._header.addClass(c),n._header.node.addEventListener("click",n),n._content=new a.Panel,n._content.addClass(h);var i=new a.PanelLayout;return n.layout=i,i.addWidget(n._header),i.addWidget(n._content),e.widget&&(n.widget=e.widget),n.collapsed=!1,n}return r(e,t),e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._header=null,this._widget=null,this._content=null)},Object.defineProperty(e.prototype,"widget",{get:function(){return this._widget},set:function(t){var e=this._widget;e&&(e.disposed.disconnect(this._onChildDisposed,this),e.title.changed.disconnect(this._onTitleChanged,this),e.parent=null),this._widget=t,t.disposed.connect(this._onChildDisposed,this),t.title.changed.connect(this._onTitleChanged,this),this._onTitleChanged(t.title),this._content.addWidget(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsed",{get:function(){return this._collapsed},set:function(t){t!==this._collapsed&&(t?this._collapse():this._uncollapse())},enumerable:!0,configurable:!0}),e.prototype.toggle=function(){this.collapsed=!this.collapsed},Object.defineProperty(e.prototype,"collapseChanged",{get:function(){return this._collapseChanged},enumerable:!0,configurable:!0}),e.prototype._collapse=function(){this._collapsed=!0,this._content&&this._content.hide(),this.removeClass("p-Collapse-open"),this._collapseChanged.emit(void 0)},e.prototype._uncollapse=function(){this._collapsed=!1,this._content&&this._content.show(),this.addClass("p-Collapse-open"),this._collapseChanged.emit(void 0)},e.prototype.handleEvent=function(t){switch(t.type){case"click":this._evtClick(t)}},e.prototype._evtClick=function(t){this.toggle()},e.prototype._onTitleChanged=function(t){this._header.node.textContent=this._widget.title.label},e.prototype._onChildDisposed=function(t){this.dispose()},e}(a.Widget);e.Collapse=d;var f="p-Accordion",p=function(t){function e(e){var n=t.call(this,e)||this;return n._selection=new l.Selection(n.widgets),n._selection.selectionChanged.connect(n._onSelectionChanged,n),n.addClass(f),n}return r(e,t),Object.defineProperty(e.prototype,"collapseWidgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(t){return o.ArrayExt.findFirstIndex(this.collapseWidgets,function(e){return e.widget===t})},e.prototype.addWidget=function(e){var n=this._wrapWidget(e);return n.collapsed=!0,t.prototype.addWidget.call(this,n),this._selection.adjustSelectionForInsert(this.widgets.length-1,n),n},e.prototype.insertWidget=function(e,n){var i=this._wrapWidget(n);i.collapsed=!0,t.prototype.insertWidget.call(this,e,i),this._selection.adjustSelectionForInsert(e,i)},e.prototype.removeWidget=function(t){var e=this.indexOf(t);if(e>=0){var n=this.collapseWidgets[e];t.parent=null,n.dispose(),this._selection.adjustSelectionForRemove(e,null)}},e.prototype._wrapWidget=function(t){var e=new d({widget:t});return e.addClass("p-Accordion-child"),e.collapseChanged.connect(this._onCollapseChange,this),e},e.prototype._onCollapseChange=function(t){t.collapsed?this._selection.value===t&&t.collapsed&&(this._selection.value=null):this._selection.value=t},e.prototype._onSelectionChanged=function(t,e){var n=e.previousValue,i=e.currentValue;n&&(n.collapsed=!0,n.removeClass("p-Accordion-child-active")),i&&(i.collapsed=!1,i.addClass("p-Accordion-child-active"))},e}(a.Panel);e.Accordion=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=n(6),o=function(){function t(t,e){void 0===e&&(e={}),this._array=null,this._value=null,this._previousValue=null,this._selectionChanged=new r.Signal(this),this._array=t,this._insertBehavior=e.insertBehavior||"select-item-if-needed",this._removeBehavior=e.removeBehavior||"select-item-after"}return Object.defineProperty(t.prototype,"selectionChanged",{get:function(){return this._selectionChanged},enumerable:!0,configurable:!0}),t.prototype.adjustSelectionForSet=function(t){var e=this.index,n=this.value;if(t===e){this._updateSelectedValue();var i=this.value;this._previousValue=null,n!==i&&this._selectionChanged.emit({previousIndex:e,previousValue:n,currentIndex:e,currentValue:i})}},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this.index=null===t?null:i.ArrayExt.firstIndexOf(this._array,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(t){var e;if(null!==t?((e=Math.floor(t))<0||e>=this._array.length)&&(e=null):e=null,this._index!==e){var n=this._index,i=this._value;this._index=e,this._updateSelectedValue(),this._previousValue=i,this._selectionChanged.emit({previousIndex:n,previousValue:i,currentIndex:e,currentValue:this._value})}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"insertBehavior",{get:function(){return this._insertBehavior},set:function(t){this._insertBehavior=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeBehavior",{get:function(){return this._removeBehavior},set:function(t){this._removeBehavior=t},enumerable:!0,configurable:!0}),t.prototype.adjustSelectionForInsert=function(t,e){var n=this._value,i=this._index,r=this._insertBehavior;if("select-item"===r||"select-item-if-needed"===r&&null===i)return this._index=t,this._value=e,this._previousValue=n,void this._selectionChanged.emit({previousIndex:i,previousValue:n,currentIndex:t,currentValue:e});i>=t&&this._index++},t.prototype.adjustSelectionForMove=function(t,e){this._index===t?this._index=e:this._index<t&&this._index>=e?this._index++:this._index>t&&this._index<=e&&this._index--},t.prototype.clearSelection=function(){var t=this._index,e=this._value;this._index=null,this._value=null,this._previousValue=null,null!==t&&this._selectionChanged.emit({previousIndex:t,previousValue:e,currentIndex:this._index,currentValue:this._value})},t.prototype.adjustSelectionForRemove=function(t,e){var n=this._index,i=this._removeBehavior;if(n===t){if(0===this._array.length)return this._index=null,this._value=null,this._previousValue=null,void this._selectionChanged.emit({previousIndex:t,previousValue:e,currentIndex:this._index,currentValue:this._value});if("select-item-after"===i)return this._index=Math.min(t,this._array.length-1),this._updateSelectedValue(),this._previousValue=null,void this._selectionChanged.emit({previousIndex:t,previousValue:e,currentIndex:this._index,currentValue:this._value});if("select-item-before"===i)return this._index=Math.max(0,t-1),this._updateSelectedValue(),this._previousValue=null,void this._selectionChanged.emit({previousIndex:t,previousValue:e,currentIndex:this._index,currentValue:this._value});if("select-previous-item"===i)return this._previousValue?this.value=this._previousValue:(this._index=Math.min(t,this._array.length-1),this._updateSelectedValue()),this._previousValue=null,void this._selectionChanged.emit({previousIndex:t,previousValue:e,currentIndex:this._index,currentValue:this.value});this._index=null,this._value=null,this._previousValue=null,this._selectionChanged.emit({previousIndex:t,previousValue:e,currentIndex:this._index,currentValue:this._value})}else n>t&&this._index--},t.prototype._updateSelectedValue=function(){var t=this._index;this._value=null!==t?this._array[t]:null},t}();e.Selection=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),s=n(29),a=n(20),l=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{value:"",disabled:!1,placeholder:"",_model_name:"StringModel"})},e}(o.CoreDescriptionModel);e.StringModel=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_view_name:"HTMLView",_model_name:"HTMLModel"})},e}(u);e.HTMLModel=c;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-html"),this.content=document.createElement("div"),this.content.classList.add("widget-html-content"),this.el.appendChild(this.content),this.update()},e.prototype.update=function(){return this.content.innerHTML=this.model.get("value"),t.prototype.update.call(this)},e}(s.DescriptionView);e.HTMLView=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_view_name:"HTMLMathView",_model_name:"HTMLMathModel"})},e}(u);e.HTMLMathModel=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-htmlmath"),this.content=document.createElement("div"),this.content.classList.add("widget-htmlmath-content"),this.el.appendChild(this.content),this.update()},e.prototype.update=function(){return this.content.innerHTML=this.model.get("value"),this.typeset(this.content),t.prototype.update.call(this)},e}(s.DescriptionView);e.HTMLMathView=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_view_name:"LabelView",_model_name:"LabelModel"})},e}(u);e.LabelModel=p;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-label"),this.update()},e.prototype.update=function(){return this.typeset(this.el,this.model.get("value")),t.prototype.update.call(this)},e}(s.DescriptionView);e.LabelView=_;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_view_name:"TextareaView",_model_name:"TextareaModel",rows:null,continuous_update:!0})},e}(u);e.TextareaModel=g;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-textarea"),this.textbox=document.createElement("textarea"),this.textbox.setAttribute("rows","5"),this.textbox.id=this.label.htmlFor=a.uuid(),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",function(t,e,n){this.update_placeholder(e)}),this.update_placeholder()},e.prototype.update_placeholder=function(t){t=t||this.model.get("placeholder"),this.textbox.setAttribute("placeholder",t.toString())},e.prototype.update=function(e){if(void 0===e||e.updated_view!=this){this.textbox.value=this.model.get("value");var n=this.model.get("rows");null===n&&(n=""),this.textbox.setAttribute("rows",n),this.textbox.disabled=this.model.get("disabled")}return t.prototype.update.call(this)},e.prototype.events=function(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input textarea":"handleChanging","change textarea":"handleChanged"}},e.prototype.handleKeyDown=function(t){t.stopPropagation()},e.prototype.handleKeypress=function(t){t.stopPropagation()},e.prototype.handleChanging=function(t){this.model.get("continuous_update")&&this.handleChanged(t)},e.prototype.handleChanged=function(t){this.model.set("value",t.target.value,{updated_view:this}),this.touch()},e}(s.DescriptionView);e.TextareaView=m;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_view_name:"TextView",_model_name:"TextModel",continuous_update:!0})},e}(u);e.TextModel=v;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.inputType="text",e}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.setAttribute("type",this.inputType),this.textbox.id=this.label.htmlFor=a.uuid(),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",function(t,e,n){this.update_placeholder(e)}),this.update_placeholder()},e.prototype.update_placeholder=function(t){t||(t=this.model.get("placeholder")),this.textbox.setAttribute("placeholder",t)},e.prototype.update=function(e){return void 0!==e&&e.updated_view==this||(this.textbox.value!=this.model.get("value")&&(this.textbox.value=this.model.get("value")),this.textbox.disabled=this.model.get("disabled")),t.prototype.update.call(this)},e.prototype.events=function(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input input":"handleChanging","change input":"handleChanged"}},e.prototype.handleKeyDown=function(t){t.stopPropagation()},e.prototype.handleKeypress=function(t){t.stopPropagation(),13==t.keyCode&&this.send({event:"submit"})},e.prototype.handleChanging=function(t){this.model.get("continuous_update")&&this.handleChanged(t)},e.prototype.handleChanged=function(t){this.model.set("value",t.target.value,{updated_view:this}),this.touch()},e}(s.DescriptionView);e.TextView=y;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return l.extend(t.prototype.defaults.call(this),{_view_name:"PasswordView",_model_name:"PasswordModel"})},e}(v);e.PasswordModel=b;var w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.inputType="password",e}return r(e,t),e}(y);e.PasswordView=w},function(t){t.exports={_from:"@jupyter-widgets/controls@^1.1.5",_id:"@jupyter-widgets/controls@1.4.2",_inBundle:!1,_integrity:"sha512-wj96NT1mN4+7zzL34hNHMLYdbDsHm2UXxkQJr7UoleS+U2zzgvRSkB6ijD9ti25f9CX+PnXTeOQ7iRHGP8DBhw==",_location:"/@jupyter-widgets/controls",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"@jupyter-widgets/controls@^1.1.5",name:"@jupyter-widgets/controls",escapedName:"@jupyter-widgets%2fcontrols",scope:"@jupyter-widgets",rawSpec:"^1.1.5",saveSpec:null,fetchSpec:"^1.1.5"},_requiredBy:["/","/@jupyter-widgets/html-manager"],_resolved:"https://registry.npmjs.org/@jupyter-widgets/controls/-/controls-1.4.2.tgz",_shasum:"79ede94f060a421d6583351f1d855d76a8cf3fcb",_spec:"@jupyter-widgets/controls@^1.1.5",_where:"/Users/sam/repos/nbinteract",author:{name:"Project Jupyter"},bugs:{url:"https://github.com/jupyter-widgets/ipywidgets/issues"},bundleDependencies:!1,dependencies:{"@jupyter-widgets/base":"^1.2.2","@phosphor/algorithm":"^1.1.0","@phosphor/domutils":"^1.1.0","@phosphor/messaging":"^1.2.1","@phosphor/signaling":"^1.2.0","@phosphor/widgets":"^1.3.0","d3-format":"^1.3.0",jquery:"^3.1.1","jquery-ui":"^1.12.1",underscore:"^1.8.3"},deprecated:!1,description:"Jupyter interactive widgets",devDependencies:{"@jupyterlab/services":"^2.0.0 || ^3.0.0","@types/expect.js":"^0.3.29","@types/mathjax":"0.0.31","@types/mocha":"^2.2.41","@types/node":"^8.0.1",chai:"^4.0.0","css-loader":"^0.28.4","expect.js":"^0.3.1","file-loader":"^0.11.2","istanbul-instrumenter-loader":"^2.0.0","json-loader":"^0.5.4",karma:"^1.6.0","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.0.0","karma-firefox-launcher":"^1.0.1","karma-ie-launcher":"^1.0.0","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.3","karma-webpack":"^2.0.3",mocha:"^3.3.0","npm-run-all":"^1.5.1","postcss-cli":"^4.1.0","postcss-cssnext":"^3.0.2","postcss-import":"^10.0.0","postcss-loader":"^2.0.6",rimraf:"^2.6.1",sinon:"^2.1.0","sinon-chai":"^2.11.0","style-loader":"^0.18.1",tslint:"^5.8.0",typescript:"~2.9.2","url-loader":"^0.5.9",webpack:"^3.5.5"},files:["lib/**/*.d.ts","lib/**/*.js","css/*.css","dist/"],gitHead:"7fd15c06f0a61138eac44ac34d0148be67b3ad6f",homepage:"https://github.com/jupyter-widgets/ipywidgets#readme",license:"BSD-3-Clause",main:"lib/index.js",name:"@jupyter-widgets/controls",repository:{type:"git",url:"git+https://github.com/jupyter-widgets/ipywidgets.git"},scripts:{build:"npm run build:src && npm run build:css","build:css":"postcss --use postcss-import --use postcss-cssnext -o css/widgets.built.css css/widgets.css","build:src":"tsc --project src","build:test":"tsc --project test/src && webpack --config test/webpack.conf.js",clean:"npm run clean:src","clean:src":"rimraf lib",lint:"tslint --project tslint.json --format stylish",prepublish:"npm run clean && npm run build",test:"npm run test:unit","test:coverage":"npm run build:test && webpack --config test/webpack-cov.conf.js && karma start test/karma-cov.conf.js","test:unit":"npm run test:unit:firefox && npm run test:unit:chrome","test:unit:chrome":"npm run test:unit:default -- --browsers=Chrome","test:unit:default":"npm run build:test && karma start test/karma.conf.js --log-level debug","test:unit:firefox":"npm run test:unit:default -- --browsers=Firefox","test:unit:ie":"npm run test:unit:default -- --browsers=IE"},typings:"lib/index.d.ts",version:"1.4.2"}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(68),a=n(11),l=n(50),u=n(13);n(459);var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{msg_id:""})},e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n),this._outputs=new l.OutputAreaModel({values:e.outputs,trusted:!0})},Object.defineProperty(e.prototype,"outputs",{get:function(){return this._outputs},enumerable:!0,configurable:!0}),e}(s.OutputModel);e.OutputModel=c;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._createElement=function(t){return this.pWidget=new a.Panel,this.pWidget.node},e.prototype._setElement=function(t){if(this.el||t!==this.pWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.pWidget.node,this.$el=u(this.pWidget.node)},e.prototype.render=function(){var t=this.model.widget_manager.renderMime;this._outputView=new l.OutputArea({rendermime:t,model:this.model.outputs}),this.pWidget.insertWidget(0,this._outputView),this.pWidget.addClass("jupyter-widgets"),this.pWidget.addClass("widget-output"),this.update()},e}(s.OutputView);e.OutputView=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(2);e.OUTPUT_WIDGET_VERSION="1.0.0";var a=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.defaults=function(){return o({},t.prototype.defaults.call(this),{_model_name:"OutputModel",_view_name:"OutputView",_model_module:"@jupyter-widgets/output",_view_module:"@jupyter-widgets/output",_model_module_version:e.OUTPUT_WIDGET_VERSION,_view_module_version:e.OUTPUT_WIDGET_VERSION})},n}(s.DOMWidgetModel);e.OutputModel=a;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s.DOMWidgetView);e.OutputView=l},function(t,e,n){var i=n(448);"string"==typeof i&&(i=[[t.i,i,""]]);var r={transform:void 0};n(36)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(23)(!1)).push([t.i,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/*-----------------------------------------------------------------------------\n| Private CSS variables\n|----------------------------------------------------------------------------*/\n\n\n:root {\n}\n\n\n/*-----------------------------------------------------------------------------\n| Main OutputArea\n| OutputArea has a list of Outputs\n|----------------------------------------------------------------------------*/\n\n\n.jp-OutputArea {\n  overflow-y: auto;\n}\n\n\n.jp-OutputArea-child {\n  display: flex;\n  flex-direction: row;\n}\n\n\n\n.jp-OutputPrompt {\n  flex: 0 0 var(--jp-cell-prompt-width);\n  color: var(--jp-cell-outprompt-font-color);\n  font-family: var(--jp-cell-prompt-font-family);\n  padding: var(--jp-code-padding);\n  letter-spacing: var(--jp-cell-prompt-letter-spacing);\n  line-height: var(--jp-code-line-height);\n  font-size: var(--jp-code-font-size);\n  border: var(--jp-border-width) solid transparent;\n  opacity: var(--jp-cell-prompt-opacity);\n    /* Right align prompt text, don't wrap to handle large prompt numbers */\n  text-align: right;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  /* Disable text selection */\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n.jp-OutputArea-output {\n  flex-grow: 1;\n  flex-shrink: 1;\n  height: auto;\n  overflow-x: auto;\n  user-select: text;\n  -moz-user-select: text;\n  -webkit-user-select: text;\n  -ms-user-select: text;\n}\n\n\n/**\n * Isolated output.\n */\n .jp-OutputArea-output.jp-mod-isolated {\n  width: 100%;\n  display: block;\n}\n\n\n/*\nWhen drag events occur, `p-mod-override-cursor` is added to the body.\nBecause iframes steal all cursor events, the following two rules are necessary\nto suppress pointer events while resize drags are occuring. There may be a\nbetter solution to this problem.\n*/\nbody.p-mod-override-cursor .jp-OutputArea-output.jp-mod-isolated {\n  position: relative;\n}\n\nbody.p-mod-override-cursor .jp-OutputArea-output.jp-mod-isolated:before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: transparent;\n}\n\n\n/* pre */\n\n.jp-OutputArea-output pre {\n  border: none;\n  margin: 0px;\n  padding: 0px;\n  overflow-x: auto;\n  overflow-y: auto;\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n}\n\n\n/* tables */\n\n.jp-OutputArea-output.jp-RenderedHTMLCommon table {\n  margin-left: 0;\n  margin-right: 0;\n}\n\n\n/* Hide the gutter in case of\n *  - nested output areas (e.g. in the case of output widgets)\n *  - mirrored output areas\n */\n.jp-OutputArea .jp-OutputArea .jp-OutputArea-prompt {\n  display: none;\n}\n\n/*-----------------------------------------------------------------------------\n| executeResult is added to any Output-result for the display of the object\n| returned by a cell\n|----------------------------------------------------------------------------*/\n\n\n.jp-OutputArea-output.jp-OutputArea-executeResult {\n  margin-left: 0px;\n  flex: 1 1 auto;\n}\n\n\n.jp-OutputArea-executeResult.jp-RenderedText {\n  padding-top: var(--jp-code-padding);\n}\n\n\n\n/*-----------------------------------------------------------------------------\n| The Stdin output\n|----------------------------------------------------------------------------*/\n\n\n.jp-OutputArea-stdin {\n  line-height: var(--jp-code-line-height);\n  padding-top: var(--jp-code-padding);\n  display: flex;\n}\n\n\n.jp-Stdin-prompt {\n  padding-right: var(--jp-code-padding);\n  vertical-align: baseline;\n  flex: 0 0 auto;\n}\n\n\n.jp-Stdin-input {\n  font-family: var(--jp-code-font-family);\n  font-size: inherit;\n  color: inherit;\n  width: auto;\n  /* make sure input baseline aligns with prompt */\n  vertical-align: baseline;\n  /* padding + margin = 0.5em between prompt and cursor */\n  padding: 0em 0.25em;\n  margin: 0em 0.25em;\n  flex: 0 0 70%;\n}\n\n\n.jp-Stdin-input:focus {\n    box-shadow: none;\n}\n",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=n(6),o=n(19),s=n(165),a=n(49),l=function(){function t(e){void 0===e&&(e={});var n=this;this.clearNext=!1,this.list=null,this._trusted=!1,this._isDisposed=!1,this._stateChanged=new r.Signal(this),this._changed=new r.Signal(this),this._modelDB=null,this._serialized=null,this._changeGuard=!1,this._trusted=!!e.trusted,this.contentFactory=e.contentFactory||t.defaultContentFactory,this.list=new s.ObservableList,e.values&&i.each(e.values,function(t){n._add(t)}),this.list.changed.connect(this._onListChanged,this),e.modelDB&&(this._modelDB=e.modelDB,this._serialized=this._modelDB.createValue("outputs"),this._serialized.get()?this.fromJSON(this._serialized.get()):this._serialized.set(this.toJSON()),this._serialized.changed.connect(this._onSerializedChanged,this))}return Object.defineProperty(t.prototype,"stateChanged",{get:function(){return this._stateChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.list?this.list.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trusted",{get:function(){return this._trusted},set:function(t){if(t!==this._trusted)for(var e=this._trusted=t,n=0;n<this.list.length;n++){var i=this.list.get(n),r=i.toJSON();i.dispose(),i=this._createItem({value:r,trusted:e}),this.list.set(n,i)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,this.list.dispose(),r.Signal.clearData(this))},t.prototype.get=function(t){return this.list.get(t)},t.prototype.set=function(t,e){this._normalize(e);var n=this._createItem({value:e,trusted:this._trusted});this.list.set(t,n)},t.prototype.add=function(t){return this.clearNext&&(this.clear(),this.clearNext=!1),this._add(t)},t.prototype.clear=function(t){void 0===t&&(t=!1),this._lastStream="",t?this.clearNext=!0:(i.each(this.list,function(t){t.dispose()}),this.list.clear())},t.prototype.fromJSON=function(t){var e=this;this.clear(),i.each(t,function(t){e._add(t)})},t.prototype.toJSON=function(){return i.toArray(i.map(this.list,function(t){return t.toJSON()}))},t.prototype._add=function(t){var e=this._trusted;if(this._normalize(t),o.nbformat.isStream(t)&&this._lastStream&&t.name===this._lastName){this._lastStream+=t.text,t.text=this._lastStream,this._removeOverwrittenChars(t);var n=this._createItem({value:t,trusted:e}),i=this.length-1;return this.list.get(i).dispose(),this.list.set(i,n),i}o.nbformat.isStream(t)&&this._removeOverwrittenChars(t);var r=this._createItem({value:t,trusted:e});return o.nbformat.isStream(t)?(this._lastStream=t.text,this._lastName=t.name):this._lastStream="",this.list.push(r)},t.prototype._normalize=function(t){o.nbformat.isStream(t)&&Array.isArray(t.text)&&(t.text=t.text.join("\n"))},t.prototype._fixBackspace=function(t){var e=t;do{e=(t=e).replace(/[^\n]\x08/gm,"")}while(e.length<t.length);return t},t.prototype._fixCarriageReturn=function(t){var e=t;e=e.replace(/\r\r+\n/gm,"\r\n");do{e=e.replace(/^[^\n]*(?:\r(?!\n))+/gm,"")}while(e.search(/\r(?!\n)/)>-1);do{e=e.replace(/\r\n/gm,"\n")}while(e.indexOf("\r\n")>-1);return e},t.prototype._removeOverwrittenChars=function(t){var e=t.text;t.text=this._fixCarriageReturn(this._fixBackspace(e))},t.prototype._createItem=function(t){var e=this.contentFactory.createOutputModel(t);return e.changed.connect(this._onGenericChange,this),e.changed.connect(this._onGenericChange,this),e},t.prototype._onListChanged=function(t,e){this._serialized&&!this._changeGuard&&(this._changeGuard=!0,this._serialized.set(this.toJSON()),this._changeGuard=!1),this._changed.emit(e),this._stateChanged.emit(void 0)},t.prototype._onSerializedChanged=function(t,e){this._changeGuard||(this._changeGuard=!0,this.fromJSON(e.newValue),this._changeGuard=!1)},t.prototype._onGenericChange=function(){this._stateChanged.emit(void 0)},t}();e.OutputAreaModel=l,function(t){var e=function(){function t(){}return t.prototype.createOutputModel=function(t){return new a.OutputModel(t)},t}();t.ContentFactory=e,t.defaultContentFactory=new e}(l=e.OutputAreaModel||(e.OutputAreaModel={})),e.OutputAreaModel=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(42),r=n(6),o=n(16),s=n(96),a=n(166),l=n(167),u=n(168),c=function(){function t(t){void 0===t&&(t=null),this._value=null,this._changed=new r.Signal(this),this._isDisposed=!1,this._value=t}return Object.defineProperty(t.prototype,"type",{get:function(){return"Value"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),t.prototype.get=function(){return this._value},t.prototype.set=function(t){var e=this._value;o.JSONExt.deepEqual(e,t)||(this._value=t,this._changed.emit({oldValue:e,newValue:t}))},t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,r.Signal.clearData(this),this._value=null)},t}();e.ObservableValue=c,function(t){var e=function(){return function(){}}();t.IChangedArgs=e}(c=e.ObservableValue||(e.ObservableValue={})),e.ObservableValue=c;var h=function(){function t(t){void 0===t&&(t={}),this.isPrepopulated=!1,this.isCollaborative=!1,this.connected=Promise.resolve(void 0),this._toDispose=!1,this._isDisposed=!1,this._disposables=new i.DisposableSet,this._basePath=t.basePath||"",t.baseDB?this._db=t.baseDB:(this._db=new s.ObservableMap,this._toDispose=!0)}return Object.defineProperty(t.prototype,"basePath",{get:function(){return this._basePath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return this._db.get(this._resolvePath(t))},t.prototype.has=function(t){return this._db.has(this._resolvePath(t))},t.prototype.createString=function(t){var e=new l.ObservableString;return this._disposables.add(e),this.set(t,e),e},t.prototype.createList=function(t){var e=new u.ObservableUndoableList(new u.ObservableUndoableList.IdentitySerializer);return this._disposables.add(e),this.set(t,e),e},t.prototype.createMap=function(t){var e=new a.ObservableJSON;return this._disposables.add(e),this.set(t,e),e},t.prototype.createValue=function(t){var e=new c;return this._disposables.add(e),this.set(t,e),e},t.prototype.getValue=function(t){var e=this.get(t);if(!e||"Value"!==e.type)throw Error("Can only call getValue for an ObservableValue");return e.get()},t.prototype.setValue=function(t,e){var n=this.get(t);if(!n||"Value"!==n.type)throw Error("Can only call setValue on an ObservableValue");n.set(e)},t.prototype.view=function(e){var n=new t({basePath:e,baseDB:this});return this._disposables.add(n),n},t.prototype.set=function(t,e){this._db.set(this._resolvePath(t),e)},t.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,this._toDispose&&this._db.dispose(),this._disposables.dispose())},t.prototype._resolvePath=function(t){return this._basePath&&(t=this._basePath+"."+t),t},t}();e.ModelDB=h},function(t,e,n){var i=n(452);"string"==typeof i&&(i=[[t.i,i,""]]);var r={transform:void 0};n(36)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(23)(!1)).push([t.i,'/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n\n/*-----------------------------------------------------------------------------\n| RenderedText\n|----------------------------------------------------------------------------*/\n\n\n.jp-RenderedText {\n  text-align: left;\n  padding-left: var(--jp-code-padding);\n  font-size: var(--jp-code-font-size);\n  line-height: var(--jp-code-line-height);\n  font-family: var(--jp-code-font-family);\n}\n\n\n.jp-RenderedText pre,\n.jp-RenderedHTMLCommon pre {\n  color: var(--jp-content-font-color1);\n  border: none;\n  margin: 0px;\n  padding: 0px;\n}\n\n\n/* ansi_up creates classed spans for console foregrounds and backgrounds. */\n.jp-RenderedText pre .ansi-black-fg { color: #3E424D; }\n.jp-RenderedText pre .ansi-red-fg { color: #E75C58; }\n.jp-RenderedText pre .ansi-green-fg { color: #00A250; }\n.jp-RenderedText pre .ansi-yellow-fg { color: #DDB62B; }\n.jp-RenderedText pre .ansi-blue-fg { color: #208FFB; }\n.jp-RenderedText pre .ansi-magenta-fg { color: #D160C4; }\n.jp-RenderedText pre .ansi-cyan-fg { color: #60C6C8; }\n.jp-RenderedText pre .ansi-white-fg { color: #C5C1B4; }\n\n.jp-RenderedText pre .ansi-black-bg { background-color: #3E424D; }\n.jp-RenderedText pre .ansi-red-bg { background-color: #E75C58; }\n.jp-RenderedText pre .ansi-green-bg { background-color: #00A250; }\n.jp-RenderedText pre .ansi-yellow-bg { background-color: #DDB62B; }\n.jp-RenderedText pre .ansi-blue-bg { background-color: #208FFB; }\n.jp-RenderedText pre .ansi-magenta-bg { background-color: #D160C4; }\n.jp-RenderedText pre .ansi-cyan-bg { background-color: #60C6C8; }\n.jp-RenderedText pre .ansi-white-bg { background-color: #C5C1B4; }\n\n.jp-RenderedText pre .ansi-bright-black-fg { color: #282C36; }\n.jp-RenderedText pre .ansi-bright-red-fg { color: #B22B31; }\n.jp-RenderedText pre .ansi-bright-green-fg { color: #007427; }\n.jp-RenderedText pre .ansi-bright-yellow-fg { color: #B27D12; }\n.jp-RenderedText pre .ansi-bright-blue-fg { color: #0065CA; }\n.jp-RenderedText pre .ansi-bright-magenta-fg { color: #A03196; }\n.jp-RenderedText pre .ansi-bright-cyan-fg { color: #258F8F; }\n.jp-RenderedText pre .ansi-bright-white-fg { color: #A1A6B2; }\n\n.jp-RenderedText pre .ansi-bright-black-bg { background-color: #282C36; }\n.jp-RenderedText pre .ansi-bright-red-bg { background-color: #B22B31; }\n.jp-RenderedText pre .ansi-bright-green-bg { background-color: #007427; }\n.jp-RenderedText pre .ansi-bright-yellow-bg { background-color: #B27D12; }\n.jp-RenderedText pre .ansi-bright-blue-bg { background-color: #0065CA; }\n.jp-RenderedText pre .ansi-bright-magenta-bg { background-color: #A03196; }\n.jp-RenderedText pre .ansi-bright-cyan-bg { background-color: #258F8F; }\n.jp-RenderedText pre .ansi-bright-white-bg { background-color: #A1A6B2; }\n\n\n.jp-RenderedText[data-mime-type="application/vnd.jupyter.stderr"] {\n  background: var(--jp-rendermime-error-background);\n}\n\n\n/*-----------------------------------------------------------------------------\n| RenderedLatex\n|----------------------------------------------------------------------------*/\n\n\n.jp-RenderedLatex {\n  color: var(--jp-content-font-color1);\n  font-size: var(--jp-content-font-size1);\n  line-height: var(--jp-content-line-height);\n}\n\n\n/*-----------------------------------------------------------------------------\n| RenderedHTML\n|----------------------------------------------------------------------------*/\n\n\n.jp-RenderedHTMLCommon {\n  color: var(--jp-content-font-color1);\n  font-size: var(--jp-content-font-size1);\n  line-height: var(--jp-content-line-height);\n  /* Give a bit more R padding on Markdown text to keep line lengths reasonable */\n  padding-right: 20px;\n}\n\n\n.jp-RenderedHTMLCommon .MathJax_Display {\n  margin: 0;\n}\n\n\n.jp-RenderedHTMLCommon em {\n  font-style: italic;\n}\n\n\n.jp-RenderedHTMLCommon strong {\n  font-weight: bold;\n}\n\n\n.jp-RenderedHTMLCommon u {\n  text-decoration: underline;\n}\n\n\n.jp-RenderedHTMLCommon a:link {\n  text-decoration: none;\n  color: var(--jp-content-link-color);\n}\n\n\n.jp-RenderedHTMLCommon a:hover {\n  text-decoration: underline;\n  color: var(--jp-content-link-color);\n}\n\n\n.jp-RenderedHTMLCommon a:visited {\n  text-decoration: none;\n  color: var(--jp-content-link-color);\n}\n\n\n/* Headings */\n\n.jp-RenderedHTMLCommon h1,\n.jp-RenderedHTMLCommon h2,\n.jp-RenderedHTMLCommon h3,\n.jp-RenderedHTMLCommon h4,\n.jp-RenderedHTMLCommon h5,\n.jp-RenderedHTMLCommon h6 {\n  line-height: var(--jp-content-heading-line-height);\n  font-weight: var(--jp-content-heading-font-weight);\n  font-style: normal;\n  margin: var(--jp-content-heading-margin-top) 0 var(--jp-content-heading-margin-bottom) 0;\n}\n\n\n.jp-RenderedHTMLCommon h1:first-child,\n.jp-RenderedHTMLCommon h2:first-child,\n.jp-RenderedHTMLCommon h3:first-child,\n.jp-RenderedHTMLCommon h4:first-child,\n.jp-RenderedHTMLCommon h5:first-child,\n.jp-RenderedHTMLCommon h6:first-child {\n  margin-top: calc( 0.5 * var(--jp-content-heading-margin-top) );\n}\n\n\n.jp-RenderedHTMLCommon h1:last-child,\n.jp-RenderedHTMLCommon h2:last-child,\n.jp-RenderedHTMLCommon h3:last-child,\n.jp-RenderedHTMLCommon h4:last-child,\n.jp-RenderedHTMLCommon h5:last-child,\n.jp-RenderedHTMLCommon h6:last-child {\n  margin-bottom: calc( 0.5 * var(--jp-content-heading-margin-bottom) );\n}\n\n\n.jp-RenderedHTMLCommon h1 {\n  font-size: var(--jp-content-font-size5);\n}\n\n\n.jp-RenderedHTMLCommon h2 {\n  font-size: var(--jp-content-font-size4);\n}\n\n\n.jp-RenderedHTMLCommon h3 {\n  font-size: var(--jp-content-font-size3);\n}\n\n\n.jp-RenderedHTMLCommon h4 {\n  font-size: var(--jp-content-font-size2);\n}\n\n\n.jp-RenderedHTMLCommon h5 {\n  font-size: var(--jp-content-font-size1);\n}\n\n\n.jp-RenderedHTMLCommon h6 {\n  font-size: var(--jp-content-font-size0);\n}\n\n/* Lists */\n\n.jp-RenderedHTMLCommon ul:not(.list-inline),\n.jp-RenderedHTMLCommon ol:not(.list-inline) {\n  padding-left: 2em;\n}\n\n\n.jp-RenderedHTMLCommon ul {\n  list-style: disc;\n}\n\n\n.jp-RenderedHTMLCommon ul ul {\n  list-style: square;\n}\n\n\n.jp-RenderedHTMLCommon ul ul ul {\n  list-style: circle;\n}\n\n\n.jp-RenderedHTMLCommon ol {\n  list-style: decimal;\n}\n\n\n.jp-RenderedHTMLCommon ol ol {\n  list-style: upper-alpha;\n}\n\n\n.jp-RenderedHTMLCommon ol ol ol {\n  list-style: lower-alpha;\n}\n\n\n.jp-RenderedHTMLCommon ol ol ol ol {\n  list-style: lower-roman;\n}\n\n\n.jp-RenderedHTMLCommon ol ol ol ol ol {\n  list-style: decimal;\n}\n\n\n.jp-RenderedHTMLCommon ol,\n.jp-RenderedHTMLCommon ul {\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon ul ul,\n.jp-RenderedHTMLCommon ul ol,\n.jp-RenderedHTMLCommon ol ul,\n.jp-RenderedHTMLCommon ol ol {\n  margin-bottom: 0em;\n}\n\n\n.jp-RenderedHTMLCommon hr {\n  color: var(--jp-border-color2);\n  background-color: var(--jp-border-color1);\n  margin-top: 1em;\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon > pre {\n  margin: 1.5em 2em;\n}\n\n\n.jp-RenderedHTMLCommon pre,\n.jp-RenderedHTMLCommon code {\n  border: 0;\n  background-color: var(--jp-layout-color0);\n  color: var(--jp-content-font-color1);\n  font-family: var(--jp-code-font-family);\n  font-size: var(--jp-code-font-size);\n  line-height: var(--jp-code-line-height);\n  padding: 0px;\n}\n\n/* Tables */\n\n.jp-RenderedHTMLCommon table {\n  border-collapse: collapse;\n  border-spacing: 0;\n  border: none;\n  color: var(--jp-ui-font-color1);\n  font-size: 12px;\n  table-layout: fixed;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n\n.jp-RenderedHTMLCommon thead {\n  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);\n  vertical-align: bottom;\n}\n\n\n.jp-RenderedHTMLCommon td,\n.jp-RenderedHTMLCommon th,\n.jp-RenderedHTMLCommon tr {\n  text-align: right;\n  vertical-align: middle;\n  padding: 0.5em 0.5em;\n  line-height: normal;\n  white-space: normal;\n  max-width: none;\n  border: none;\n}\n\n\n.jp-RenderedMarkdown.jp-RenderedHTMLCommon td,\n.jp-RenderedMarkdown.jp-RenderedHTMLCommon th {\n  max-width: none;\n}\n\n\n.jp-RenderedHTMLCommon th {\n  font-weight: bold;\n}\n\n\n.jp-RenderedHTMLCommon tbody tr:nth-child(odd) {\n  background: var(--jp-layout-color0);\n}\n\n\n.jp-RenderedHTMLCommon tbody tr:nth-child(even) {\n  background: var(  --jp-rendermime-table-row-background);\n}\n\n\n.jp-RenderedHTMLCommon tbody tr:hover {\n  background: var( --jp-rendermime-table-row-hover-background);\n}\n\n\n.jp-RenderedHTMLCommon table {\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon p {\n  text-align: left;\n  margin: 0px;\n}\n\n\n.jp-RenderedHTMLCommon p {\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon img {\n    -moz-force-broken-image-icon: 1;\n}\n\n\n/* Restrict to direct children as other images could be nested in other content. */\n.jp-RenderedHTMLCommon > img {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon img,\n.jp-RenderedImage img,\n.jp-RenderedHTMLCommon svg,\n.jp-RenderedSVG svg {\n  max-width: 100%;\n  height: auto;\n}\n\n\n.jp-RenderedHTMLCommon img.jp-mod-unconfined,\n.jp-RenderedImage img.jp-mod-unconfined,\n.jp-RenderedHTMLCommon svg.jp-mod-unconfined,\n.jp-RenderedSVG svg.jp-mod-unconfined {\n  max-width: none;\n}\n\n\n.jp-RenderedHTMLCommon .alert {\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon blockquote {\n  margin: 1em 2em;\n  padding: 0 1em;\n  border-left: 5px solid var(--jp-border-color2);\n}\n\na.jp-InternalAnchorLink {\n  visibility: hidden;\n  margin-left: 8px;\n  color: var(--md-blue-800);\n}\n\nh1:hover .jp-InternalAnchorLink,\nh2:hover .jp-InternalAnchorLink,\nh3:hover .jp-InternalAnchorLink,\nh4:hover .jp-InternalAnchorLink,\nh5:hover .jp-InternalAnchorLink,\nh6:hover .jp-InternalAnchorLink {\n  visibility: visible;\n}\n\n\n/* Most direct children of .jp-RenderedHTMLCommon have a margin-bottom of 1.0.\n * At the bottom of cells this is a bit too much as there is also spacing\n * between cells. Going all the way to 0 gets too tight between markdown and\n * code cells.\n */\n.jp-RenderedHTMLCommon > *:last-child {\n  margin-bottom: 0.5em;\n}\n\n\n\n/*-----------------------------------------------------------------------------\n| RenderedPDF\n|----------------------------------------------------------------------------*/\n\n.jp-RenderedPDF {\n  font-size: var(--jp-ui-font-size1);\n}\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(170);e.htmlRendererFactory={safe:!0,mimeTypes:["text/html"],defaultRank:50,createRenderer:function(t){return new i.RenderedHTML(t)}},e.imageRendererFactory={safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif"],defaultRank:90,createRenderer:function(t){return new i.RenderedImage(t)}},e.latexRendererFactory={safe:!0,mimeTypes:["text/latex"],defaultRank:70,createRenderer:function(t){return new i.RenderedLatex(t)}},e.markdownRendererFactory={safe:!0,mimeTypes:["text/markdown"],defaultRank:60,createRenderer:function(t){return new i.RenderedMarkdown(t)}},e.svgRendererFactory={safe:!1,mimeTypes:["image/svg+xml"],defaultRank:80,createRenderer:function(t){return new i.RenderedSVG(t)}},e.textRendererFactory={safe:!0,mimeTypes:["text/plain","application/vnd.jupyter.stdout","application/vnd.jupyter.stderr"],defaultRank:120,createRenderer:function(t){return new i.RenderedText(t)}},e.javaScriptRendererFactory={safe:!1,mimeTypes:["text/javascript","application/javascript"],defaultRank:110,createRenderer:function(t){return new i.RenderedJavaScript(t)}},e.standardRendererFactories=[e.htmlRendererFactory,e.markdownRendererFactory,e.latexRendererFactory,e.svgRendererFactory,e.imageRendererFactory,e.javaScriptRendererFactory,e.textRendererFactory]},function(t,e,n){var i;!function(n,r){var o,s,a=void 0!==t,l=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]];function u(){this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0}u.prototype.setup_palette=function(){s=[],function(){var t,e;for(t=0;t<2;++t)for(e=0;e<8;++e)s.push(l[t][e].color)}(),function(){var t,e,n,i=[0,95,135,175,215,255],r=function(t,e,n){return i[t]+", "+i[e]+", "+i[n]};for(t=0;t<6;++t)for(e=0;e<6;++e)for(n=0;n<6;++n)s.push(r.call(this,t,e,n))}(),function(){var t,e=8,n=function(t){return t+", "+t+", "+t};for(t=0;t<24;++t,e+=10)s.push(n.call(this,e))}()},u.prototype.escape_for_html=function(t){return t.replace(/[&<>]/gm,function(t){return"&"==t?"&amp;":"<"==t?"&lt;":">"==t?"&gt;":void 0})},u.prototype.linkify=function(t){return t.replace(/(https?:\/\/[^\s]+)/gm,function(t){return'<a href="'+t+'">'+t+"</a>"})},u.prototype.ansi_to_html=function(t,e){return this.process(t,e,!0)},u.prototype.ansi_to_text=function(t){return this.process(t,{},!1)},u.prototype.process=function(t,e,n){var i=this,r=t.split(/\033\[/),o=r.shift(),s=r.map(function(t){return i.process_chunk(t,e,n)});return s.unshift(o),s.join("")},u.prototype.process_chunk=function(t,e,n){var i=void 0!==(e=void 0===e?{}:e).use_classes&&e.use_classes,r=i?"class":"color",o=t.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!o)return t;var a=o[4],u=o[2].split(";");if(""!==o[1]||"m"!==o[3])return a;if(!n)return a;for(var c=this;u.length>0;){var h=u.shift(),d=parseInt(h);isNaN(d)||0===d?(c.fg=c.bg=null,c.bright=0):1===d?c.bright=1:39==d?c.fg=null:49==d?c.bg=null:d>=30&&d<38?c.fg=l[c.bright][d%10][r]:d>=90&&d<98?c.fg=l[1][d%10][r]:d>=40&&d<48?c.bg=l[0][d%10][r]:d>=100&&d<108?c.bg=l[1][d%10][r]:38!==d&&48!==d||function(){var t=38===d;if(u.length>=1){var e=u.shift();if("5"===e&&u.length>=1){var n=parseInt(u.shift());if(n>=0&&n<=255)if(i){var r=n>=16?"ansi-palette-"+n:l[n>7?1:0][n%8].class;t?c.fg=r:c.bg=r}else s||c.setup_palette.call(c),t?c.fg=s[n]:c.bg=s[n]}else if("2"===e&&u.length>=3){var o=parseInt(u.shift()),a=parseInt(u.shift()),h=parseInt(u.shift());if(o>=0&&o<=255&&a>=0&&a<=255&&h>=0&&h<=255){var f=o+", "+a+", "+h;i?t?(c.fg="ansi-truecolor",c.fg_truecolor=f):(c.bg="ansi-truecolor",c.bg_truecolor=f):t?c.fg=f:c.bg=f}}}}()}if(null===c.fg&&null===c.bg)return a;var f=[],p=[],_={},g=function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push("data-"+e+'="'+this.escape_for_html(t[e])+'"');return n.length>0?" "+n.join(" "):""};return c.fg&&(i?(p.push(c.fg+"-fg"),null!==c.fg_truecolor&&(_["ansi-truecolor-fg"]=c.fg_truecolor,c.fg_truecolor=null)):f.push("color:rgb("+c.fg+")")),c.bg&&(i?(p.push(c.bg+"-bg"),null!==c.bg_truecolor&&(_["ansi-truecolor-bg"]=c.bg_truecolor,c.bg_truecolor=null)):f.push("background-color:rgb("+c.bg+")")),i?'<span class="'+p.join(" ")+'"'+g.call(c,_)+">"+a+"</span>":'<span style="'+f.join(";")+'"'+g.call(c,_)+">"+a+"</span>"},o={escape_for_html:function(t){return(new u).escape_for_html(t)},linkify:function(t){return(new u).linkify(t)},ansi_to_html:function(t,e){return(new u).ansi_to_html(t,e)},ansi_to_text:function(t){return(new u).ansi_to_text(t)},ansi_to_html_obj:function(){return new u}},a&&(t.exports=o),"undefined"!=typeof window&&"undefined"==typeof ender&&(window.ansi_up=o),void 0===(i=function(){return o}.apply(e,[]))||(t.exports=i)}(Date)},function(t,e,n){(function(e){!function(e){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:_,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:_,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:_,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};function i(t){this.tokens=[],this.tokens.links={},this.options=t||m.defaults,this.rules=n.normal,this.options.gfm&&(this.options.tables?this.rules=n.tables:this.rules=n.gfm)}n._label=/(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,n.def=h(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=h(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=h(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",n.html=h(n.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,n._tag).getRegex(),n.paragraph=h(n.paragraph).replace("hr",n.hr).replace("heading",n.heading).replace("lheading",n.lheading).replace("tag","<"+n._tag).getRegex(),n.blockquote=h(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=g({},n),n.gfm=g({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=h(n.paragraph).replace("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|").getRegex(),n.tables=g({},n.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),i.rules=n,i.lex=function(t,e){return new i(e).lex(t)},i.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},i.prototype.token=function(t,e){var i,r,o,s,a,l,u,c,h,d,f;for(t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))){for(t=t.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),f=(s=o[2]).length>1,this.tokens.push({type:"list_start",ordered:f,start:f?+s:""}),i=!1,d=(o=o[0].match(this.rules.item)).length,c=0;c<d;c++)u=(l=o[c]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==d-1&&(s===(a=n.bullet.exec(o[c+1])[0])||s.length>1&&a.length>1||(t=o.slice(c+1).join("\n")+t,c=d-1)),r=i||/\n\n(?!\s*$)/.test(l),c!==d-1&&(i="\n"===l.charAt(l.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),h=o[1].toLowerCase(),this.tokens.links[h]||(this.tokens.links[h]={href:o[2],title:o[3]});else if(e&&(o=this.rules.table.exec(t))){for(t=t.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var r={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:_,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:_,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function o(t,e){if(this.options=e||m.defaults,this.links=t,this.rules=r.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=r.breaks:this.rules=r.gfm:this.options.pedantic&&(this.rules=r.pedantic)}function s(t){this.options=t||{}}function a(){}function l(t){this.tokens=[],this.token=null,this.options=t||m.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options}function u(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function c(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function h(t,e){return t=t.source,e=e||"",{replace:function(e,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(e,n),this},getRegex:function(){return new RegExp(t,e)}}}function d(t,e){return f[" "+t]||(/^[^:]+:\/*[^\/]*$/.test(t)?f[" "+t]=t+"/":f[" "+t]=t.replace(/[^\/]*$/,"")),t=f[" "+t],"//"===e.slice(0,2)?t.replace(/:[\s\S]*/,":")+e:"/"===e.charAt(0)?t.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+e:t+e}r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=h(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,r._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,r.link=h(r.link).replace("inside",r._inside).replace("href",r._href).getRegex(),r.reflink=h(r.reflink).replace("inside",r._inside).getRegex(),r.normal=g({},r),r.pedantic=g({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),r.gfm=g({},r.normal,{escape:h(r.escape).replace("])","~|])").getRegex(),url:h(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",r._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:h(r.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),r.breaks=g({},r.gfm,{br:h(r.br).replace("{2,}","*").getRegex(),text:h(r.gfm.text).replace("{2,}","*").getRegex()}),o.rules=r,o.output=function(t,e,n){return new o(e,n).output(t)},o.prototype.output=function(t){for(var e,n,i,r,o="";t;)if(r=this.rules.escape.exec(t))t=t.substring(r[0].length),o+=r[1];else if(r=this.rules.autolink.exec(t))t=t.substring(r[0].length),i="@"===r[2]?"mailto:"+(n=u(this.mangle(r[1]))):n=u(r[1]),o+=this.renderer.link(i,null,n);else if(this.inLink||!(r=this.rules.url.exec(t))){if(r=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),t=t.substring(r[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):u(r[0]):r[0];else if(r=this.rules.link.exec(t))t=t.substring(r[0].length),this.inLink=!0,o+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(t))||(r=this.rules.nolink.exec(t))){if(t=t.substring(r[0].length),e=(r[2]||r[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){o+=r[0].charAt(0),t=r[0].substring(1)+t;continue}this.inLink=!0,o+=this.outputLink(r,e),this.inLink=!1}else if(r=this.rules.strong.exec(t))t=t.substring(r[0].length),o+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(t))t=t.substring(r[0].length),o+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(t))t=t.substring(r[0].length),o+=this.renderer.codespan(u(r[2].trim(),!0));else if(r=this.rules.br.exec(t))t=t.substring(r[0].length),o+=this.renderer.br();else if(r=this.rules.del.exec(t))t=t.substring(r[0].length),o+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(t))t=t.substring(r[0].length),o+=this.renderer.text(u(this.smartypants(r[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else r[0]=this.rules._backpedal.exec(r[0])[0],t=t.substring(r[0].length),"@"===r[2]?i="mailto:"+(n=u(r[0])):(n=u(r[0]),i="www."===r[1]?"http://"+n:n),o+=this.renderer.link(i,null,n);return o},o.prototype.outputLink=function(t,e){var n=u(e.href),i=e.title?u(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,i,this.output(t[1])):this.renderer.image(n,i,u(t[1]))},o.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):t},o.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",i=t.length,r=0;r<i;r++)e=t.charCodeAt(r),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},s.prototype.code=function(t,e,n){if(this.options.highlight){var i=this.options.highlight(t,e);null!=i&&i!==t&&(n=!0,t=i)}return e?'<pre><code class="'+this.options.langPrefix+u(e,!0)+'">'+(n?t:u(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:u(t,!0))+"\n</code></pre>"},s.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},s.prototype.html=function(t){return t},s.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(t,e,n){var i=e?"ol":"ul";return"<"+i+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+i+">\n"},s.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},s.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},s.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},s.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},s.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},s.prototype.strong=function(t){return"<strong>"+t+"</strong>"},s.prototype.em=function(t){return"<em>"+t+"</em>"},s.prototype.codespan=function(t){return"<code>"+t+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(t){return"<del>"+t+"</del>"},s.prototype.link=function(t,e,n){if(this.options.sanitize){try{var i=decodeURIComponent(c(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return n}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return n}this.options.baseUrl&&!p.test(t)&&(t=d(this.options.baseUrl,t));var r='<a href="'+t+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>"},s.prototype.image=function(t,e,n){this.options.baseUrl&&!p.test(t)&&(t=d(this.options.baseUrl,t));var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+=this.options.xhtml?"/>":">"},s.prototype.text=function(t){return t},a.prototype.strong=a.prototype.em=a.prototype.codespan=a.prototype.del=a.prototype.text=function(t){return t},a.prototype.link=a.prototype.image=function(t,e,n){return""+n},a.prototype.br=function(){return""},l.parse=function(t,e){return new l(e).parse(t)},l.prototype.parse=function(t){this.inline=new o(t.links,this.options),this.inlineText=new o(t.links,g({},this.options,{renderer:new a})),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},l.prototype.next=function(){return this.token=this.tokens.pop()},l.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},l.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},l.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,i,r="",o="";for(n="",t=0;t<this.token.header.length;t++)n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(r+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",i=0;i<e.length;i++)n+=this.renderer.tablecell(this.inline.output(e[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s,a);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var f={},p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function _(){}function g(t){for(var e,n,i=1;i<arguments.length;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function m(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(n||"function"==typeof e){n||(n=e,e=null);var r,o,s=(e=g({},m.defaults,e||{})).highlight,a=0;try{r=i.lex(t,e)}catch(t){return n(t)}o=r.length;var c=function(t){if(t)return e.highlight=s,n(t);var i;try{i=l.parse(r,e)}catch(e){t=e}return e.highlight=s,t?n(t):n(null,i)};if(!s||s.length<3)return c();if(delete e.highlight,!o)return c();for(;a<r.length;a++)!function(t){"code"!==t.type?--o||c():s(t.text,t.lang,function(e,n){return e?c(e):null==n||n===t.text?--o||c():(t.text=n,t.escaped=!0,void(--o||c()))})}(r[a])}else try{return e&&(e=g({},m.defaults,e)),l.parse(i.lex(t,e),e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(e||m.defaults).silent)return"<p>An error occurred:</p><pre>"+u(t.message+"",!0)+"</pre>";throw t}}_.exec=_,m.options=m.setOptions=function(t){return g(m.defaults,t),m},m.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new s,xhtml:!1,baseUrl:null},m.Parser=l,m.parser=l.parse,m.Renderer=s,m.TextRenderer=a,m.Lexer=i,m.lexer=i.lex,m.InlineLexer=o,m.inlineLexer=o.output,m.parse=m,t.exports=m}(this||"undefined"!=typeof window&&window)}).call(this,n(10))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(16),o=n(6),s=n(19),a=n(165),l=function(){function t(t){this._changed=new o.Signal(this),this._raw={};var e=i.getBundleOptions(t),n=e.data,r=e.metadata,l=e.trusted;this._data=new a.ObservableJSON({values:n}),this._rawData=n,this._metadata=new a.ObservableJSON({values:r}),this._rawMetadata=r,this.trusted=l;var u=t.value;for(var c in u)switch(c){case"data":case"metadata":break;default:this._raw[c]=i.extract(u,c)}this.type=u.output_type,s.nbformat.isExecuteResult(u)?this.executionCount=u.execution_count:this.executionCount=null}return Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._data.dispose(),this._metadata.dispose(),o.Signal.clearData(this)},Object.defineProperty(t.prototype,"data",{get:function(){return this._rawData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._rawMetadata},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){t.data&&(this._updateObservable(this._data,t.data),this._rawData=t.data),t.metadata&&(this._updateObservable(this._metadata,t.metadata),this._rawMetadata=t.metadata),this._changed.emit(void 0)},t.prototype.toJSON=function(){var t={};for(var e in this._raw)t[e]=i.extract(this._raw,e);switch(this.type){case"display_data":case"execute_result":case"update_display_data":t.data=this.data,t.metadata=this.metadata}return delete t.transient,t},t.prototype._updateObservable=function(t,e){for(var n=t.keys(),i=Object.keys(e),r=0,o=n;r<o.length;r++){var s=o[r];-1===i.indexOf(s)&&t.delete(s)}for(var a=0,l=i;a<l.length;a++){s=l[a];var u=t.get(s),c=e[s];u!==c&&t.set(s,c)}},t}();e.OutputModel=l,function(t){t.getData=function(t){return i.getData(t)},t.getMetadata=function(t){return i.getMetadata(t)}}(l=e.OutputModel||(e.OutputModel={})),e.OutputModel=l,function(t){function e(t){var e={};if(s.nbformat.isExecuteResult(t)||s.nbformat.isDisplayData(t)||s.nbformat.isDisplayUpdate(t))e=t.data;else if(s.nbformat.isStream(t))"stderr"===t.name?e["application/vnd.jupyter.stderr"]=t.text:e["application/vnd.jupyter.stdout"]=t.text;else if(s.nbformat.isError(t)){var n=t.traceback.join("\n");e["application/vnd.jupyter.stderr"]=n||t.ename+": "+t.evalue}return function(t){var e=Object.create(null);for(var n in t){var i=t[n];r.JSONExt.isArray(i)?i=i.join("\n"):r.JSONExt.isPrimitive(i)||(i=JSON.parse(JSON.stringify(i))),e[n]=i}return e}(e)}function n(t){var e=Object.create(null);if(s.nbformat.isExecuteResult(t)||s.nbformat.isDisplayData(t))for(var n in t.metadata)e[n]=i(t.metadata,n);return e}function i(t,e){var n=t[e];return r.JSONExt.isPrimitive(n)?n:JSON.parse(JSON.stringify(n))}t.getData=e,t.getMetadata=n,t.getBundleOptions=function(t){return{data:e(t.value),metadata:n(t.value),trusted:!!t.trusted}},t.extract=i}(i||(i={}))},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=n(5),s=n(16),a=n(173);e.IRenderMimeRegistry=new s.Token("@jupyterlab/rendermime:IRenderMimeRegistry"),e.ILatexTypesetter=new s.Token("@jupyterlab/rendermime:ILatexTypesetter");var l,u=function(){function t(t){if(void 0===t&&(t={}),this._id=0,this._ranks={},this._types=null,this._factories={},this.resolver=t.resolver||null,this.linkHandler=t.linkHandler||null,this.latexTypesetter=t.latexTypesetter||null,this.sanitizer=t.sanitizer||o.defaultSanitizer,t.initialFactories)for(var e=0,n=t.initialFactories;e<n.length;e++){var i=n[e];this.addFactory(i)}}return Object.defineProperty(t.prototype,"mimeTypes",{get:function(){return this._types||(this._types=l.sortedTypes(this._ranks))},enumerable:!0,configurable:!0}),t.prototype.preferredMimeType=function(t,e){if(e)for(var n=0,i=this.mimeTypes;n<i.length;n++){if((s=i[n])in t&&this._factories[s].safe)return s}for(var r=0,o=this.mimeTypes;r<o.length;r++){var s;if((s=o[r])in t)return s}},t.prototype.createRenderer=function(t){if(!(t in this._factories))throw new Error("No factory for mime type: '"+t+"'");return this._factories[t].createRenderer({mimeType:t,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,latexTypesetter:this.latexTypesetter})},t.prototype.createModel=function(t){return void 0===t&&(t={}),new a.MimeModel(t)},t.prototype.clone=function(e){void 0===e&&(e={});var n=new t({resolver:e.resolver||this.resolver||void 0,sanitizer:e.sanitizer||this.sanitizer||void 0,linkHandler:e.linkHandler||this.linkHandler||void 0,latexTypesetter:e.latexTypesetter||this.latexTypesetter});return n._factories=i({},this._factories),n._ranks=i({},this._ranks),n._id=this._id,n},t.prototype.getFactory=function(t){return this._factories[t]},t.prototype.addFactory=function(t,e){void 0===e&&void 0===(e=t.defaultRank)&&(e=100);for(var n=0,i=t.mimeTypes;n<i.length;n++){var r=i[n];this._factories[r]=t,this._ranks[r]={rank:e,id:this._id++}}this._types=null},t.prototype.removeMimeType=function(t){delete this._factories[t],delete this._ranks[t],this._types=null},t.prototype.getRank=function(t){var e=this._ranks[t];return e&&e.rank},t.prototype.setRank=function(t,e){if(this._ranks[t]){var n=this._id++;this._ranks[t]={rank:e,id:n},this._types=null}},t}();e.RenderMimeRegistry=u,function(t){var e=function(){function t(t){this._session=t.session,this._contents=t.contents}return t.prototype.resolveUrl=function(t){if(r.URLExt.isLocal(t)){var e=r.PathExt.dirname(this._session.path);t=r.PathExt.resolve(e,t)}return Promise.resolve(t)},t.prototype.getDownloadUrl=function(t){return r.URLExt.isLocal(t)?this._contents.getDownloadUrl(t):Promise.resolve(t)},t}();t.UrlResolver=e}(u=e.RenderMimeRegistry||(e.RenderMimeRegistry={})),e.RenderMimeRegistry=u,function(t){t.sortedTypes=function(t){return Object.keys(t).sort(function(e,n){var i=t[e],r=t[n];return i.rank!==r.rank?i.rank-r.rank:i.id-r.id})}}(l||(l={}))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),s=n(11),a=n(11),l=n(15),u="jp-OutputArea",c="jp-OutputPrompt",h="jp-Stdin",d="jp-Stdin-prompt",f="jp-Stdin-input",p=function(t){function e(n){var i=t.call(this)||this;i.outputLengthChanged=new o.Signal(i),i._onIOPub=function(t){var e,n,r=i.model,o=t.header.msg_type,s=(t.content.transient||{}).display_id;switch(o){case"execute_result":case"display_data":case"stream":case"error":(e=t.content).output_type=o,r.add(e);break;case"clear_output":var a=t.content.wait;r.clear(a);break;case"update_display_data":if((e=t.content).output_type="display_data",n=i._displayIdMap.get(s))for(var l=0,u=n;l<u.length;l++){var c=u[l];r.set(c,e)}}s&&"display_data"===o&&((n=i._displayIdMap.get(s)||[]).push(r.length-1),i._displayIdMap.set(s,n))},i._onExecuteReply=function(t){var e=i.model,n=t.content,r=n&&n.payload;if(r&&r.length){var o=r.filter(function(t){return"page"===t.source});if(o.length){var s={output_type:"display_data",data:JSON.parse(JSON.stringify(o[0])).data,metadata:{}};e.add(s)}}},i._minHeightTimeout=null,i._future=null,i._displayIdMap=new Map;var r=i.model=n.model;i.addClass(u),i.rendermime=n.rendermime,i.contentFactory=n.contentFactory||e.defaultContentFactory,i.layout=new s.PanelLayout;for(var a=0;a<r.length;a++){var l=r.get(a);i._insertOutput(a,l)}return r.changed.connect(i.onModelChanged,i),i}return r(e,t),Object.defineProperty(e.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"future",{get:function(){return this._future},set:function(t){var e=this;if(this.model.isDisposed)throw Error("Model is disposed");this._future!==t&&(this._future&&this._future.dispose(),this._future=t,this.model.clear(),this.widgets.length&&(this._clear(),this.outputLengthChanged.emit(this.model.length)),t.onIOPub=this._onIOPub,t.onReply=this._onExecuteReply,t.onStdin=function(n){l.KernelMessage.isInputRequestMsg(n)&&e._onInputRequest(n,t)})},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._future&&this._future.dispose(),this._future=null,this._displayIdMap.clear(),t.prototype.dispose.call(this)},e.prototype.onModelChanged=function(t,e){var n;switch(e.type){case"add":n=this._modelToLayoutIndex(e.newIndex),this._insertOutput(n,e.newValues[0]),this.outputLengthChanged.emit(this.model.length);break;case"remove":this.widgets.length&&(this._clear(),this.outputLengthChanged.emit(this.model.length));break;case"set":n=this._modelToLayoutIndex(e.newIndex),this._setOutput(n,e.newValues[0]),this.outputLengthChanged.emit(this.model.length)}},e.prototype._clear=function(){var t=this;if(this.widgets.length){for(var e=this.widgets.length,n=0;n<e;n++){var i=this.widgets[0];i.parent=null,i.dispose()}this._displayIdMap.clear();var r=this.node.getBoundingClientRect();this.node.style.minHeight=r.height+"px",this._minHeightTimeout&&clearTimeout(this._minHeightTimeout),this._minHeightTimeout=window.setTimeout(function(){t.isDisposed||(t.node.style.minHeight="")},50)}},e.prototype._onInputRequest=function(t,e){var n=this.contentFactory,i=t.content.prompt,r=t.content.password,o=new s.Panel;o.addClass("jp-OutputArea-child"),o.addClass("jp-OutputArea-stdin-item");var a=n.createOutputPrompt();a.addClass("jp-OutputArea-prompt"),o.addWidget(a);var l=n.createStdin({prompt:i,password:r,future:e});l.addClass("jp-OutputArea-output"),o.addWidget(l),this.layout.addWidget(o)},e.prototype._setOutput=function(t,e){this.layout.widgets[t].dispose(),this._insertOutput(t,e)},e.prototype._insertOutput=function(t,e){var n=this._createOutputItem(e);n.toggleClass("jp-OutputArea-executeResult",null!==e.executionCount),this.layout.insertWidget(t,n)},e.prototype._modelToLayoutIndex=function(t){var e,n=this.widgets,i=-1;for(e=0;e<n.length&&(n[e].hasClass("jp-OutputArea-stdin-item")||++i!==t);e++);return e},e.prototype._createOutputItem=function(t){var e=new s.Panel;e.addClass("jp-OutputArea-child");var n=this.contentFactory.createOutputPrompt();n.executionCount=t.executionCount,n.addClass("jp-OutputArea-prompt"),e.addWidget(n);var i=this.rendermime.preferredMimeType(t.data,!t.trusted);if(i){var r=t.metadata,o=r[i],a=!1;a=o&&void 0!==o.isolated?o.isolated:r.isolated;var l=this.rendermime.createRenderer(i);!0===a&&(l=new g.IsolatedRenderer(l)),l.renderModel(t),l.addClass("jp-OutputArea-output"),e.addWidget(l)}return e},e}(a.Widget);e.OutputArea=p,function(t){t.execute=function(t,e,n){var i={code:t,stop_on_error:!0};if(!n.kernel)return Promise.reject("Session has no kernel.");var r=n.kernel.requestExecute(i,!1);return e.future=r,r.done};var e=function(){function t(){}return t.prototype.createOutputPrompt=function(){return new _},t.prototype.createStdin=function(t){return new m(t)},t}();t.ContentFactory=e,t.defaultContentFactory=new e}(p=e.OutputArea||(e.OutputArea={})),e.OutputArea=p;var _=function(t){function e(){var e=t.call(this)||this;return e._executionCount=null,e.addClass(c),e}return r(e,t),Object.defineProperty(e.prototype,"executionCount",{get:function(){return this._executionCount},set:function(t){this._executionCount=t,this.node.textContent=null===t?"":"Out["+t+"]:"},enumerable:!0,configurable:!0}),e}(a.Widget);e.OutputPrompt=_;var g,m=function(t){function e(e){var n=t.call(this,{node:g.createInputWidgetNode(e.prompt,e.password)})||this;return n._future=null,n._input=null,n.addClass(h),n._input=n.node.getElementsByTagName("input")[0],n._input.focus(),n._future=e.future,n}return r(e,t),e.prototype.handleEvent=function(t){var e=this._input;if("keydown"===t.type&&13===t.keyCode){this._future.sendInputReply({value:e.value});var n=document.createElement("span");n.className="jp-Stdin-rendered","password"===e.type?n.textContent=Array(e.value.length+1).join(""):n.textContent=e.value,e.parentElement.replaceChild(n,e)}},e.prototype.onAfterAttach=function(t){this._input.addEventListener("keydown",this),this.update()},e.prototype.onUpdateRequest=function(t){this._input.focus()},e.prototype.onBeforeDetach=function(t){this._input.removeEventListener("keydown",this)},e}(a.Widget);e.Stdin=m,function(t){t.createInputWidgetNode=function(t,e){var n=document.createElement("div"),i=document.createElement("pre");i.className=d,i.textContent=t;var r=document.createElement("input");return r.className=f,e&&(r.type="password"),n.appendChild(i),i.appendChild(r),n};var e=function(t){function e(e){var n=t.call(this,{node:document.createElement("iframe")})||this;n.addClass("jp-mod-isolated"),n._wrapped=e;var i=n.node;return i.frameBorder="0",i.scrolling="auto",i.addEventListener("load",function(){i.contentDocument.open(),i.contentDocument.write(n._wrapped.node.innerHTML),i.contentDocument.close();var t=i.contentDocument.body;i.style.height=t.scrollHeight+"px"}),n}return r(e,t),e.prototype.renderModel=function(t){var e=this;return this._wrapped.renderModel(t).then(function(){var t=e.node.contentWindow;t&&t.location.reload()})},e}(a.Widget);t.IsolatedRenderer=e}(g||(g={}))},function(t,e,n){var i=n(460);"string"==typeof i&&(i=[[t.i,i,""]]);var r={transform:void 0};n(36)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(23)(!1)).push([t.i,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n.jp-OutputArea-child {\n    margin-top: 1em;\n    margin-bottom: 1em;\n}\n\n.jp-RenderedText pre {\n    padding-left: 1em;\n    padding-top: 0.8em;\n    padding-bottom: 0.8em;\n}\n",""])},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{l(i.next(t))}catch(t){o(t)}}function a(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(11);e.WIDGET_MIMETYPE="application/vnd.jupyter.widget-view+json";var l=function(t){function e(e,n){var i=t.call(this)||this;return i.mimeType=e.mimeType,i._manager=n,i}return r(e,t),e.prototype.renderModel=function(t){return o(this,void 0,void 0,function(){var e,n,i,r;return s(this,function(o){switch(o.label){case 0:if(e=t.data[this.mimeType],!(n=this._manager.get_model(e.model_id)))return[3,6];o.label=1;case 1:return o.trys.push([1,4,,5]),[4,n];case 2:return i=o.sent(),[4,this._manager.display_model(null,i,{el:this.node})];case 3:return o.sent(),[3,5];case 4:return r=o.sent(),console.log("Error displaying widget"),console.log(r),this.node.textContent="Error displaying widget",[3,5];case 5:return[3,7];case 6:return this.node.textContent="Error creating widget: could not find model",[2,Promise.resolve()];case 7:return[2]}})})},e}(a.Widget);e.WidgetRenderer=l},function(t){t.exports={_from:"@jupyter-widgets/html-manager@^0.11.9",_id:"@jupyter-widgets/html-manager@0.11.10",_inBundle:!1,_integrity:"sha512-d1bJKx1tLqvf8pPQNSbudwb7aiQg5qb8O6MVEkb/8aikUt7LElLwFiUzjDcwLDpUU+/VOfpEFrjIyGp/R8Z9Lw==",_location:"/@jupyter-widgets/html-manager",_phantomChildren:{co:"4.6.0","fast-json-stable-stringify":"2.0.0"},_requested:{type:"range",registry:!0,raw:"@jupyter-widgets/html-manager@^0.11.9",name:"@jupyter-widgets/html-manager",escapedName:"@jupyter-widgets%2fhtml-manager",scope:"@jupyter-widgets",rawSpec:"^0.11.9",saveSpec:null,fetchSpec:"^0.11.9"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/@jupyter-widgets/html-manager/-/html-manager-0.11.10.tgz",_shasum:"fff24c5f34a0ed418b0ad952cb69145cb05bf532",_spec:"@jupyter-widgets/html-manager@^0.11.9",_where:"/Users/sam/repos/nbinteract",author:{name:"Jupyter Project"},bugs:{url:"https://github.com/jupyter-widgets/ipywidgets/issues"},bundleDependencies:!1,dependencies:{"@jupyter-widgets/base":"^1.1.8","@jupyter-widgets/controls":"^1.1.6","@jupyter-widgets/output":"^1.0.15","@jupyter-widgets/schema":"^0.3.2","@jupyterlab/outputarea":"^0.15.0","@jupyterlab/rendermime":"^0.15.0","@jupyterlab/rendermime-interfaces":"^1.0.1","@phosphor/widgets":"^1.3.0",ajv:"^5.2.2","font-awesome":"^4.7.0",jquery:"^3.1.1"},deprecated:!1,description:"Standalone package for rendering Jupyter widgets outside notebooks",devDependencies:{"@types/mocha":"^2.2.41","@types/requirejs":"^2.1.28",chai:"^4.0.0","css-loader":"^0.28.4","file-loader":"^0.11.2","json-loader":"^0.5.4",karma:"^1.6.0","karma-chrome-launcher":"^2.0.0","karma-firefox-launcher":"^1.0.1","karma-ie-launcher":"^1.0.0","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.3",mocha:"^3.3.0",postcss:"^6.0.2","postcss-cssnext":"^3.0.2","postcss-import":"^10.0.0","postcss-loader":"^2.0.6",rimraf:"^2.6.1","style-loader":"^0.18.1",tslint:"^5.8.0",typescript:"~2.6.2","url-loader":"^0.5.9",webpack:"^3.5.5"},files:["lib/**/*.d.ts","lib/**/*.js","dist/","css/*.css"],homepage:"https://github.com/jupyter-widgets/ipywidgets#readme",license:"BSD-3-Clause",main:"lib/index.js",name:"@jupyter-widgets/html-manager",repository:{type:"git",url:"git+https://github.com/jupyter-widgets/ipywidgets.git"},scripts:{build:"npm run build:src && webpack && npm run build:embed-amd","build:embed-amd":"node scripts/concat-amd-build.js && rimraf dist/amd","build:src":"tsc --project src","build:test":"tsc --project test/src && webpack --config test/webpack.conf.js",clean:"rimraf lib && rimraf dist",lint:"tslint --project tslint.json --format stylish",prepublish:"npm run clean && npm run build",test:"npm run test:unit","test:unit":"npm run test:unit:firefox && npm run test:unit:chrome","test:unit:chrome":"npm run test:unit:default -- --browsers=Chrome","test:unit:default":"npm run build:test && karma start test/karma.conf.js --log-level debug --browsers=Firefox","test:unit:firefox":"npm run test:unit:default -- --browsers=Firefox"},typings:"lib/index.d.ts",version:"0.11.10"}},function(t,e,n){n(1);var i=n(0),r=n(17),o=r.MarkModel.extend({defaults:function(){return i.extend(r.MarkModel.prototype.defaults(),{_model_name:"GridHeatMapModel",_view_name:"GridHeatMap",row:[],column:[],color:null,scales_metadata:{row:{orientation:"vertical",dimension:"y"},column:{orientation:"horizontal",dimension:"x"},color:{dimension:"color"}},null_color:"black",row_align:"start",column_align:"start",stroke:"black",opacity:1,anchor_style:{fill:"white",stroke:"blue"}})},initialize:function(){o.__super__.initialize.apply(this,arguments),this.on_some_change(["row","column","color"],this.update_data,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data(),this.update_domains()},update_data:function(){this.dirty=!0;var t=this;this.colors=this.get_typed_field("color"),this.rows=this.get_typed_field("row"),this.columns=this.get_typed_field("column");this.colors.length;var e=this.colors[0].length,n=[];n=n.concat.apply(n,this.colors),this.mark_data=n.map(function(n,i){var r=Math.floor(i/e),o=i%e;return{row_num:r,row:t.rows[r],column:t.columns[o],column_num:o,color:n,_cell_num:i}}),this.identify_modes(),this.update_domains(),this.dirty=!1,this.trigger("data_updated")},update_domains:function(){if(this.mark_data){var t=this.get("scales"),e=t.row,n=t.column,i=t.color;this.get("preserve_domain").row?e.del_domain([],this.model_id+"_row"):e.compute_and_set_domain(this.rows,this.model_id+"_row"),this.get("preserve_domain").column?n.del_domain([],this.model_id+"_column"):n.compute_and_set_domain(this.columns,this.model_id+"_column"),null!=i&&(this.get("preserve_domain").color?i.del_domain([],this.model_id+"_color"):i.compute_and_set_domain(this.mark_data.map(function(t){return t.color}),this.model_id+"_color"))}},get_data_dict:function(t,e){return t},identify_modes:function(){var t={},e=this.get("scales"),n=e.row,i=e.column,r=this.colors.length,o=this.colors[0].length;"ordinal"===n.type?t.row="middle":r===this.rows.length-1?t.row="boundaries":r===this.rows.length?t.row="expand_one":r===this.rows.length+1&&(t.row="expand_two"),"ordinal"===i.type?t.column="middle":o===this.columns.length-1?t.column="boundaries":o===this.columns.length?t.column="expand_one":o===this.columns.length+1&&(t.column="expand_two"),this.modes=t}});t.exports={GridHeatMapModel:o}},function(t,e,n){var i=n(2),r=(n(1),n(0)),o=n(27),s="^"+n(18).version,a=o.BaseModel.extend({defaults:function(){return r.extend(i.WidgetModel.prototype.defaults(),{_model_name:"AxisModel",_view_name:"Axis",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:s,_view_module_version:s,orientation:"horizontal",side:null,label:"",grid_lines:"solid",tick_format:null,scale:void 0,num_ticks:null,tick_values:[],offset:{},label_location:"middle",label_color:null,grid_color:null,color:null,label_offset:null,visible:!0})},initialize:function(){a.__super__.initialize.apply(this,arguments),this.on("change:side",this.validate_orientation,this),this.on("change:orientation",this.validate_side,this),this.validate_orientation(),this.validate_side()},validate_side:function(){var t=this.get("orientation"),e=this.get("side");"vertical"===t?"left"!==e&&"right"!==e&&this.set("side","left"):"bottom"!==e&&"top"!==e&&this.set("side","bottom"),this.save_changes()},validate_orientation:function(){this.get("orientation");var t=this.get("side");t&&("left"===t||"right"===t?this.set("orientation","vertical"):this.set("orientation","horizontal"),this.save_changes())}},{serializers:r.extend({scale:{deserialize:i.unpack_models},offset:{deserialize:i.unpack_models}},i.WidgetModel.serializers)}),l=a.extend({defaults:function(){return r.extend(a.prototype.defaults(),{_model_name:"ColorAxisModel",_view_name:"ColorAxis"})}});t.exports={AxisModel:a,ColorAxisModel:l}},function(t,e,n){var i=n(1),r=n(9),o=n(63).Interaction.extend({render:function(){o.__super__.render.apply(this),this.d3el.style({cursor:"crosshair"}),this.active=!1;var t=this;this.set_lines_view().then(function(){t.d3el.on("mousedown",function(){return t.mousedown()}),t.set_limits()}),this.update_line_index(),this.listenTo(this.model,"change:line_index",this.update_line_index,this),this.model.on_some_change(["min_x","max_x"],this.set_limits,this)},set_lines_view:function(){var t=this.parent,e=this.model.get("lines"),n=this;return Promise.all(t.mark_views.views).then(function(i){var r=t.mark_views._models.map(function(t){return t.model_id}).indexOf(e.model_id);n.lines_view=i[r]})},mousedown:function(){this.active=!0,this.mouse_entry(!1);var t=this;this.d3el.on("mousemove",function(){t.mousemove()}),this.d3el.on("mouseleave",function(){t.mouseup()}),this.d3el.on("mouseup",function(){t.mouseup()})},mouseup:function(){if(this.active){this.mouse_entry(!0);var t=this.model.get("lines");t.set_typed_field("y",r.deepCopy(t.y_data)),this.lines_view.touch(),this.active=!1,this.d3el.on("mousemove",null),this.d3el.on("mouseleave",null),this.d3el.on("mouseup",null)}},mousemove:function(){this.mouse_entry(!0)},mouse_entry:function(t){if(this.active){var e=this.model.get("lines"),n=Math.min(this.line_index,e.x_data.length-1),r=i.mouse(this.el);t&&"previous_pos"in this||(this.previous_pos=r);for(var o=this.lines_view.scales.x.scale,s=this.lines_view.scales.y.scale,a=o.invert(r[0]),l=s.invert(r[1]),u=o.invert(this.previous_pos[0]),c=(s.invert(this.previous_pos[1]),this.nns(e.x_data[n],u)),h=this.nns(e.x_data[n],a),d=Math.min(c,h),f=Math.max(c,h),p=d;p<=f;++p)(!this.valid_min||e.x_data[n][p]>=this.min_x)&&(!this.valid_max||e.x_data[n][p]<=this.max_x)&&(e.y_data[this.line_index][p]=l);var _=this,g=e.x_data[n].map(function(t,n){return{x:t,y:e.y_data[_.line_index][n]}});this.lines_view.d3el.select("#curve"+(_.line_index+1)).attr("d",function(t){return _.lines_view.line(g)}),this.previous_pos=r}},capnfloor:function(t){return Math.max(Math.min(t,this.model.get("max_x")),this.model.get("min_x"))},set_limits:function(){"date"==this.lines_view.scales.x.model.type?(this.min_x=this.model.get_date_elem("min_x"),this.valid_min=!(null===this.min_x||void 0===this.min_x||isNaN(this.min_x.getTime())),this.max_x=this.model.get_date_elem("max_x"),this.valid_max=!(null===this.max_x||void 0===this.max_x||isNaN(this.max_x.getTime()))):(this.min_x=this.model.get("min_x"),this.max_x=this.model.get("max_x"),this.valid_min=!(null===this.min_x||void 0===this.min_x),this.valid_max=!(null===this.max_x||void 0===this.max_x))},nns:function(t,e){var n=this.lines_view.bisect(t,e);return e-t[n-1]>t[n]-e?n:n-1},update_line_index:function(){this.line_index=this.model.get("line_index")}});t.exports={HandDraw:o}},function(t,e,n){var i=n(1),r=n(0),o=n(14),s=n(9),a=o.Mark.extend({render:function(){this.padding=this.model.get("padding");var t=a.__super__.render.apply(this);this.set_internal_scales(),this.selected_indices=this.model.get("selected"),this.selected_style=this.model.get("selected_style"),this.unselected_style=this.model.get("unselected_style"),this.display_el_classes=["bar","legendtext"];var e=this;return this.displayed.then(function(){e.parent.tooltip_div.node().appendChild(e.tooltip_div.node()),e.create_tooltip()}),t.then(function(){e.event_listeners={},e.process_interactions(),e.create_listeners(),e.compute_view_padding(),e.draw()})},set_scale_orientation:function(){this.model.get("orientation");this.dom_scale=this.scales.x,this.range_scale=this.scales.y},set_ranges:function(){var t=this.model.get("orientation");this.set_scale_orientation();var e=this.dom_scale,n=this.range_scale,i="vertical"===t?"x":"y",r="vertical"===t?"y":"x";"ordinal"!==e.model.type?e.set_range(this.parent.padded_range(i,e.model)):e.set_range(this.parent.padded_range(i,e.model),this.padding),n.set_range(this.parent.padded_range(r,n.model)),this.dom_offset=0,this.range_offset="vertical"===t?n.offset:-n.offset},set_positional_scales:function(){var t=this.scales.x,e=this.scales.y;this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()}),this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()})},set_internal_scales:function(){this.x=i.scale.ordinal(),this.x1=i.scale.ordinal()},adjust_offset:function(){"ordinal"!==this.dom_scale.model.type?"center"===this.model.get("align")?this.dom_offset=-(this.x.rangeBand()/2).toFixed(2):"left"===this.model.get("align")?this.dom_offset=-this.x.rangeBand().toFixed(2):this.dom_offset=0:"center"===this.model.get("align")?this.dom_offset=0:"left"===this.model.get("align")?this.dom_offset=-this.x.rangeBand()/2:this.dom_offset=this.x.rangeBand()/2},create_listeners:function(){a.__super__.create_listeners.apply(this),this.d3el.on("mouseover",r.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",r.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"data_updated",function(){this.draw(!0)},this),this.listenTo(this.model,"change:colors",this.update_colors,this),this.listenTo(this.model,"colors_updated",this.update_colors,this),this.listenTo(this.model,"change:type",this.update_type,this),this.listenTo(this.model,"change:align",this.realign,this),this.listenTo(this.model,"change:orientation",this.relayout,this),this.listenTo(this.model,"change:padding",this.relayout,this),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.model.on_some_change(["stroke","opacities"],this.update_stroke_and_opacities,this),this.listenTo(this.model,"change:selected",this.update_selected),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")})},process_interactions:function(){var t=this.model.get("interactions");r.isEmpty(t)?this.reset_interactions():(void 0!==t.click&&null!==t.click?"tooltip"===t.click?(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"select"===t.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.element_clicked=this.bar_click_handler):this.reset_click(),void 0!==t.hover&&null!==t.hover?"tooltip"===t.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover(),void 0!==t.legend_click&&null!==t.legend_click?"tooltip"===t.legend_click&&(this.event_listeners.legend_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):this.event_listeners.legend_clicked=function(){},void 0!==t.legend_hover&&null!==t.legend_hover?"highlight_axes"===t.legend_hover&&(this.event_listeners.legend_mouse_over=r.bind(this.highlight_axes,this),this.event_listeners.legend_mouse_out=r.bind(this.unhighlight_axes,this)):this.reset_legend_hover())},realign:function(){this.relayout()},draw_zero_line:function(){this.set_scale_orientation();var t=this.range_scale;"vertical"===this.model.get("orientation")?this.d3el.select(".zeroLine").attr("x1",0).attr("x2",this.parent.plotarea_width).attr("y1",t.scale(this.model.base_value)).attr("y2",t.scale(this.model.base_value)):this.d3el.select(".zeroLine").attr("x1",t.scale(this.model.base_value)).attr("x2",t.scale(this.model.base_value)).attr("y1",0).attr("y2",this.parent.plotarea_height)},relayout:function(){this.set_ranges(),this.compute_view_padding();this.range_scale;this.draw_zero_line(),this.x.rangeRoundBands(this.set_x_range(),this.padding),this.adjust_offset(),this.x1.rangeRoundBands([0,this.x.rangeBand().toFixed(2)]),this.draw_bars()},invert_point:function(t){if(void 0===t)return this.model.set("selected",null),void this.touch();var e=this.x_pixels.map(function(e){return Math.abs(e-t)});this.model.set("selected",[e.indexOf(i.min(e))]),this.touch()},invert_range:function(t,e){if(void 0===t||void 0===e)return this.model.set("selected",null),this.touch(),[];var n=this,i=r.range(this.model.mark_data.length).filter(function(i){var r=n.x_pixels[i];return r<=e&&r>=t});this.model.set("selected",i),this.touch()},update_selected:function(t,e){this.selected_indices=e,this.apply_styles()},draw:function(t){this.set_ranges();this.model.get("colors");var e=this,n=this.d3el.selectAll(".bargroup").data(this.model.mark_data,function(t){return t.key}),i=this.dom_scale;this.range_scale;if("ordinal"!==i.model.type){var o=this.model.mark_data.map(function(t){return t.key});this.x.domain(o)}else this.x.domain(i.scale.domain());this.x.rangeRoundBands(this.set_x_range(),this.padding),this.adjust_offset(),this.x1.rangeRoundBands([0,this.x.rangeBand().toFixed(2)]),this.model.mark_data.length>0&&this.x1.domain(r.range(this.model.mark_data[0].values.length)).rangeRoundBands([0,this.x.rangeBand().toFixed(2)]),n.enter().append("g").attr("class","bargroup"),n.order(),n.on("click",function(t,n){return e.event_dispatcher("element_clicked",{data:t,index:n})}),n.exit().remove();var s=n.selectAll(".bar").data(function(t){return t.values});s.enter().append("rect").attr("class","bar").attr("width",0).attr("height",0),s.exit().remove(),this.draw_bars(t),this.apply_styles(),this.d3el.selectAll(".zeroLine").remove(),this.d3el.append("g").append("line").attr("class","zeroLine"),this.draw_zero_line()},draw_bars:function(t){var e=this.d3el.selectAll(".bargroup"),n=e.selectAll(".bar"),r=!0===t?this.parent.model.get("animation_duration"):0,o=this,s=this.model.get("orientation"),a=this.dom_scale,l=this.range_scale,u="vertical"===s?"x":"y",c="vertical"===s?"y":"x",h="vertical"===s?"width":"height",d="vertical"===s?"height":"width";if("ordinal"===a.model.type){var f=i.max(this.parent.range(u));e.attr("transform",function(t){return"vertical"===s?"translate("+((void 0!==a.scale(t.key)?a.scale(t.key):f)+o.dom_offset)+", 0)":"translate(0, "+((void 0!==a.scale(t.key)?a.scale(t.key):f)+o.dom_offset)+")"})}else e.attr("transform",function(t){return"vertical"===s?"translate("+(a.scale(t.key)+o.dom_offset)+", 0)":"translate(0, "+(a.scale(t.key)+o.dom_offset)+")"});"stacked"===this.model.get("type")?n.transition("draw_bars").duration(r).attr(u,0).attr(h,this.x.rangeBand().toFixed(2)).attr(c,function(t){return"y"===c?l.scale(t.y1):l.scale(t.y0)}).attr(d,function(t){return Math.abs(l.scale(t.y1+t.y_ref)-l.scale(t.y1))}):n.transition("draw_bars").duration(r).attr(u,function(t,e){return o.x1(e)}).attr(h,this.x1.rangeBand().toFixed(2)).attr(c,function(t){return i.min([l.scale(t.y),l.scale(o.model.base_value)])}).attr(d,function(t){return Math.abs(l.scale(o.model.base_value)-l.scale(t.y_ref))}),this.x_pixels=this.model.mark_data.map(function(t){return a.scale(t.key)+a.offset})},update_type:function(t,e){this.model.update_domains(),this.draw()},update_stroke_and_opacities:function(){var t=this.model.get("stroke"),e=this.model.get("opacities");this.d3el.selectAll(".bar").style("stroke",t).style("opacity",function(t,n){return e[n]})},update_colors:function(){var t=this,e=this.scales.color;this.model.mark_data.length>0&&(this.model.is_y_2d?this.d3el.selectAll(".bargroup").selectAll(".bar").style("fill",function(n,i){return void 0!==n.color&&void 0!==e?e.scale(n.color):t.get_colors(n.color_index)}):this.d3el.selectAll(".bar").style("fill",function(n,i){return void 0!==n.color&&void 0!==e?e.scale(n.color):t.get_colors(n.color_index)})),this.legend_el&&(this.legend_el.selectAll(".legendrect").style("fill",function(n,i){return n.color&&e?e.scale(n.color):t.get_colors(n.color_index)}),this.legend_el.selectAll(".legendtext").style("fill",function(n,i){return void 0!==n.color&&void 0!==e?e.scale(n.color):t.get_colors(n.color_index)}))},draw_legend:function(t,e,n,o,s){if(!this.model.is_y_2d&&1!==this.model.get("colors").length&&"element"!==this.model.get("color_mode"))return[0,0];var a=this.model.mark_data[0].values.map(function(t){return{index:t.sub_index,color:t.color,color_index:t.color_index}}),l=this.scales.color;this.legend_el=t.selectAll(".legend"+this.uuid).data(a);var u=this,c=.8*s;this.legend_el.enter().append("g").attr("class","legend"+this.uuid).attr("transform",function(t,e){return"translate(0, "+(e*s+n)+")"}).on("mouseover",r.bind(function(){this.event_dispatcher("legend_mouse_over")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("legend_mouse_out")},this)).on("click",r.bind(function(){this.event_dispatcher("legend_clicked")},this)).append("rect").classed("legendrect",!0).style("fill",function(t,e){return void 0!==t.color&&void 0!==l?l.scale(t.color):u.get_colors(t.color_index)}).attr({x:0,y:0,width:c,height:c}),this.legend_el.append("text").attr("class","legendtext").attr("x",1.2*c).attr("y",c/2).attr("dy","0.35em").text(function(t,e){return u.model.get("labels")[e]}).style("fill",function(t,e){return void 0!==t.color&&void 0!==l?l.scale(t.color):u.get_colors(t.color_index)});var h=i.max(this.model.get("labels"),function(t){return t.length});return this.legend_el.exit().remove(),[this.model.mark_data[0].values.length,h]},clear_style:function(t,e){var n=this.d3el.selectAll(".bargroup");void 0!==e&&(n=n.filter(function(t,n){return-1!==e.indexOf(n)}));var i={};for(var r in t)i[r]=null;n.selectAll(".bar").style(i)},set_style_on_elements:function(t,e){if(null!=e&&0!==e.length&&0!==Object.keys(t).length){var n=this.d3el.selectAll(".bargroup");(n=n.filter(function(t,n){return-1!==e.indexOf(n)})).selectAll(".bar").style(t)}},set_default_style:function(t){this.update_colors(),this.update_stroke_and_opacities()},set_x_range:function(){var t=this.dom_scale;return"ordinal"===t.model.type?t.scale.rangeExtent():[t.scale(i.min(this.x.domain())),t.scale(i.max(this.x.domain()))]},bar_click_handler:function(t){t.data;var e=t.index,n=this.model.get("selected"),o=n?s.deepCopy(n):[],a=o.indexOf(e),l=i.event.ctrlKey||i.event.metaKey;if(a>-1&&l)o.splice(a,1);else if(i.event.shiftKey){if(a>-1)return;var u=0!==o.length?i.min(o):-1,c=0!==o.length?i.max(o):this.model.mark_data.length;e>c?r.range(c+1,e+1).forEach(function(t){o.push(t)}):e<u&&r.range(e,u).forEach(function(t){o.push(t)})}else l?o.push(e):(o=[]).push(e);this.model.set("selected",0===o.length?null:o,{updated_view:this}),this.touch(),i.event||(i.event=window.event);var h=i.event;void 0!==h.cancelBubble&&(h.cancelBubble=!0),h.stopPropagation&&h.stopPropagation(),h.preventDefault()},reset_selection:function(){this.model.set("selected",null),this.selected_indices=null,this.touch()},compute_view_padding:function(){var t=this.dom_scale,e=this.model.get("orientation"),n=0,i="vertical"===e?this.parent.plotarea_width:this.parent.plotarea_height;t&&null!==this.x&&void 0!==this.x&&0!==this.x.domain().length&&("ordinal"!==t.model.type?"center"===this.model.get("align")?n=i/(2*this.x.domain().length)+1:"left"!==this.model.get("align")&&"right"!==this.model.get("align")||(n=i/this.x.domain().length+1):"left"!==this.model.get("align")&&"right"!==this.model.get("align")||(n=(this.x.rangeBand()/2).toFixed(2))),"vertical"===e?n!==this.x_padding&&(this.x_padding=n,this.trigger("mark_padding_updated")):n!==this.y_padding&&(this.y_padding=n,this.trigger("mark_padding_updated"))}});t.exports={Bars:a}},function(t,e,n){var i=n(2),r=n(0),o=n(27),s="^"+n(18).version,a=o.BaseModel.extend({defaults:function(){return r.extend(i.WidgetModel.prototype.defaults(),{_model_name:"HandDrawModel",_view_name:"HandDraw",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:s,_view_module_version:s,lines:null,line_index:0,min_x:null,max_x:null})}},{serializers:r.extend({lines:{deserialize:i.unpack_models}},o.BaseModel.serializers)});t.exports={HandDrawModel:a}},function(t,e,n){var i=n(1),r=n(0),o=n(14).Mark.extend({render:function(){var t=o.__super__.render.apply(this),e=this;return this.displayed.then(function(){e.parent.tooltip_div.node().appendChild(e.tooltip_div.node()),e.create_tooltip()}),t.then(function(){e.create_listeners(),e.draw()},null)},set_ranges:function(){var t=this.scales.x;t&&t.set_range(this.parent.padded_range("x",t.model));var e=this.scales.y;e&&e.set_range(this.parent.padded_range("y",e.model))},set_positional_scales:function(){var t=this.scales.x,e=this.scales.y;this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()}),this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()})},create_listeners:function(){o.__super__.create_listeners.apply(this),this.d3el.on("mouseover",r.bind(this.mouse_over,this)).on("mousemove",r.bind(this.mouse_move,this)).on("mouseout",r.bind(this.mouse_out,this)),this.listenTo(this.model,"change:stroke",this.update_stroke,this),this.listenTo(this.model,"change:stroke_width",this.update_stroke_width,this),this.listenTo(this.model,"change:colors",this.update_colors,this),this.listenTo(this.model,"change:opacities",this.update_opacities,this),this.listenTo(this.model,"change:marker",this.update_marker,this),this.listenTo(this.model,"format_updated",this.draw,this),this.listenTo(this.model,"data_updated",this.draw)},update_stroke:function(){var t=this.model.get("stroke");this.d3el.selectAll(".stick").style("stroke",t),this.legend_el&&(this.legend_el.selectAll("path").style("stroke",t),this.legend_el.selectAll("text").style("fill",t))},update_stroke_width:function(){var t=this.model.get("stroke_width");this.d3el.selectAll(".stick").attr("stroke-width",t)},update_colors:function(){var t=this,e=this.model.get("colors"),n=e[0]?e[0]:"none",i=e[1]?e[1]:"none";this.d3el.selectAll(".stick").style("fill",function(e){return e.y[t.model.px.o]>e.y[t.model.px.c]?i:n}),this.legend_el&&this.legend_el.selectAll("path").style("fill",n)},update_opacities:function(){var t=this.model.get("opacities");this.d3el.selectAll(".stick").style("opacity",function(e,n){return t[n]}),this.legend_el&&this.legend_el.selectAll("path").attr("opacity",function(e,n){return t[n]})},update_marker:function(){var t=this.model.get("marker");this.legend_el&&this.rect_dim&&this.draw_legend_icon(this.rect_dim,this.legend_el),this.draw_mark_paths(t,this.d3el,this.model.mark_data.map(function(t,e){return t[1]}))},update_selected_colors:function(t,e){this.d3el.selectAll(".stick");var n=r.range(t,e+1);n.length==this.model.mark_data.length&&(n=[]);var i=this,o=this.model.get("stroke"),s=this.model.get("colors"),a=s[0]?s[0]:o,l=s[1]?s[1]:o,u=this.model.px;r.range(0,this.model.mark_data.length).forEach(function(t){i.d3el.selectAll("#stick"+t).style("stroke",o)}),n.forEach(function(t){i.d3el.selectAll("#stick"+t).style("stroke",function(t){return t[u.o]>t[u.c]?l:a})})},invert_range:function(t,e){if(void 0===t||void 0===e||0===this.model.mark_data.length)return this.update_selected_colors(-1,-1),o=[];var n=r.range(this.model.mark_data.length),i=this,o=r.filter(n,function(n){var r=i.x_pixels[n];return r>=t&&r<=e}),s=this.scales.x,a=-1,l=-1;return o.length>0&&(t!==s.scale.range()[0]||e!==s.scale.range()[1])&&(a=o[0],l=o[o.length-1]),this.update_selected_colors(a,l),this.model.set("selected",o),this.touch(),o},invert_point:function(t){this.scales.x;var e=this.x_pixels.map(function(e){return Math.abs(e-t)}),n=e.indexOf(i.min(e));return this.update_selected_colors(n,n),this.model.set("selected",[n]),this.touch(),n},draw:function(){var t=this.scales.x,e=this.scales.y;this.set_ranges();var n=this.model.get("colors"),r=this.model.get("opacities"),o=n[0]?n[0]:"none",s=n[1]?n[1]:"none",a=this.model.px,l=this.d3el.selectAll(".stick").data(this.model.mark_data.map(function(t,e){return{x:t[0],y:t[1],index:e}})),u=l.enter().append("g").attr("class","stick").attr("id",function(t,e){return"stick"+e}).style("stroke",this.model.get("stroke")).style("opacity",function(t,e){return r[e]});u.append("path").attr("class","stick_head"),u.append("path").attr("class","stick_tail"),u.append("path").attr("class","stick_body"),l.exit().remove();var c=this,h=a.h;if(-1===a.h&&(h=a.o),this.d3el.selectAll(".stick").style("fill",function(t,e){return t.y[a.o]>t.y[a.c]?s:o}).attr("stroke-width",this.model.get("stroke_width")),"ordinal"===t.model.type){var d=i.max(this.parent.range("x"));this.d3el.selectAll(".stick").attr("transform",function(n,i){return"translate("+((void 0!==t.scale(c.model.mark_data[i][0])?t.scale(c.model.mark_data[i][0]):d)+t.scale.rangeBand()/2)+","+(e.scale(n.y[h])+e.offset)+")"})}else this.d3el.selectAll(".stick").attr("transform",function(n,i){return"translate("+(t.scale(c.model.mark_data[i][0])+t.offset)+","+(e.scale(n.y[h])+e.offset)+")"});this.draw_mark_paths(this.model.get("marker"),this.d3el,this.model.mark_data.map(function(t){return t[1]})),this.x_pixels=this.model.mark_data.map(function(e){return t.scale(e[0])+t.offset})},draw_mark_paths:function(t,e,n){for(var i,r,o=this.model.px,s=this,a=[],l=[],u=[],c=[],h=[],d=[],f=[],p=[],_=this.calculate_mark_width(),g=this.scales.x,m=this.scales.y,v=0;v<n.length;v++)-1===o.o?a[v]=void 0:a[v]=m.scale(n[v][o.o]),-1===o.c?c[v]=void 0:c[v]=m.scale(n[v][o.c]),-1!==o.o&&-1!==o.c&&(h[v]=n[v][o.o]>n[v][o.c]?a[v]:c[v],d[v]=n[v][o.o]<n[v][o.c]?a[v]:c[v]),-1===o.h||-1===o.l?(l[v]=a[v],u[v]=c[v]):(l[v]=m.scale(n[v][o.h]),u[v]=m.scale(n[v][o.l])),r=s.model.mark_data[v][0],_ instanceof Date&&(_=_.getTime()),r instanceof Date&&(r=r.getTime()),i=r+_,"ordinal"===g.model.type?p[v]=.75*g.scale.rangeBand():p[v]=.75*(g.scale(i)-g.scale(r)),f[v]=-1*p[v]/2;"candle"==t&&-1!==o.o&&-1!==o.c?(-1!==o.h||-1!==o.l?(e.selectAll(".stick_head").attr("d",function(t,e){return s.head_path_candle(h[e]-l[e])}),e.selectAll(".stick_tail").attr("d",function(t,e){return s.tail_path_candle(d[e]-l[e],u[e]-d[e])})):(e.selectAll(".stick_head").attr("d",""),e.selectAll(".stick_tail").attr("d","")),e.selectAll(".stick_body").attr("d",function(t,e){return s.body_path_candle(f[e],a[e]-l[e],p[e],c[e]-a[e])})):(-1!==o.o?e.selectAll(".stick_head").attr("d",function(t,e){return s.head_path_bar(f[e],a[e]-l[e],-1*f[e])}):e.selectAll(".stick_head").attr("d",""),-1!==o.c?e.selectAll(".stick_tail").attr("d",function(t,e){return s.tail_path_bar(c[e]-l[e],-1*f[e])}):e.selectAll(".stick_tail").attr("d",""),e.selectAll(".stick_body").attr("d",function(t,e){return s.body_path_bar(u[e]-l[e])}))},head_path_candle:function(t){return"m0,0 l0,"+t},tail_path_candle:function(t,e){return"m0,"+t+" l0,"+e},body_path_candle:function(t,e,n,i){return"m"+t+","+e+" l"+n+",0 l0,"+i+" l"+-1*n+",0 z"},head_path_bar:function(t,e,n){return"m"+t+","+e+" l"+n+",0"},tail_path_bar:function(t,e){return"m0,"+t+" l"+e+",0"},body_path_bar:function(t){return"m0,0 l0,"+t},calculate_mark_width:function(){for(var t=Number.POSITIVE_INFINITY,e=this.model.get("scales").x,n=1;n<this.model.mark_data.length;n++){var i=this.model.mark_data[n][0]-this.model.mark_data[n-1][0];i<t&&(t=i)}return t===Number.POSITIVE_INFINITY&&(t=(e.domain[1]-e.domain[0])/2),t<0&&(t*=-1),t},relayout:function(){o.__super__.relayout.apply(this),this.set_ranges(),this.d3el.select(".intselmouse").attr("width",this.width).attr("height",this.height),this.draw()},draw_legend:function(t,e,n,o,s){var a=this.model.get("stroke"),l=this.model.get("colors"),u=l[0]?l[0]:"none";l[1]&&l[1];this.rect_dim=.8*s;var c=this;this.legend_el=t.selectAll("#legend"+this.uuid).data([this.model.mark_data]);var h=this.legend_el.enter().append("g").attr("transform",function(t,e){return"translate(0, "+(e*s+n)+")"}).attr("class","legend").attr("id","legend"+this.uuid).style("fill",u).on("mouseover",r.bind(this.highlight_axes,this)).on("mouseout",r.bind(this.unhighlight_axes,this));h.append("path").attr("class","stick_head stick"),h.append("path").attr("class","stick_tail stick"),h.append("path").attr("class","stick_body stick").style("fill",u),h.selectAll("path").style("stroke",a).attr("transform","translate("+c.rect_dim/2+",0)"),this.draw_legend_icon(c.rect_dim,h),this.legend_el.append("text").attr("class","legendtext sticktext").attr("x",1.2*c.rect_dim).attr("y",c.rect_dim/2).attr("dy","0.35em").text(function(t,e){return c.model.get("labels")[e]}).style("fill",a);var d=i.max(this.model.get("labels"),function(t){return t.length});return this.legend_el.exit().remove(),[1,d]},draw_legend_icon:function(t,e){var n=t,i=t/2,r=3*t/4,o=t/4;"candle"===this.model.get("marker")?(e.selectAll(".stick_head").attr("d",this.head_path_candle(i/2)),e.selectAll(".stick_tail").attr("d",this.tail_path_candle(r,i/2)),e.selectAll(".stick_body").attr("d",this.body_path_candle(-1*i/2,o,i,n/2))):(e.selectAll(".stick_head").attr("d",this.head_path_bar(-1*i/2,r,i/2)),e.selectAll(".stick_tail").attr("d",this.tail_path_bar(o,i/2)),e.selectAll(".stick_body").attr("d",this.body_path_bar(n)))}});t.exports={OHLC:o}},function(t,e,n){var i=n(1),r=n(0),o=n(17),s=o.MarkModel.extend({defaults:function(){return r.extend(o.MarkModel.prototype.defaults(),{_model_name:"BarsModel",_view_name:"Bars",x:[],y:[],color:null,scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"},color:{dimension:"color"}},color_mode:"auto",type:"stacked",colors:i.scale.category10().range(),padding:.05,stroke:null,base:0,opacities:[],orientation:"vertical",align:"center"})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.is_y_2d=!1,this.on_some_change(["x","y","base"],this.update_data,this),this.on("change:color",function(){this.update_color(),this.trigger("colors_updated")},this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data(),this.update_color(),this.update_domains()},update_data:function(){var t=this.get_typed_field("x"),e=this.get_typed_field("y"),n=this.get("scales");n.x,n.y;e=0===e.length||e[0]instanceof Array?e:[e];var r=this;this.base_value=this.get("base"),void 0!==this.base_value&&null!==this.base_value||(this.base_value=0),0===t.length||0===e.length?(this.mark_data=[],this.is_y_2d=!1):(t=t.slice(0,i.min(e.map(function(t){return t.length}))),this.mark_data=t.map(function(t,n){var i={},o=r.base_value,s=r.base_value,a=r.base_value;return i.key=t,i.values=e.map(function(e,i){var l=e[n]-r.base_value,u=l>=0;return{index:n,sub_index:i,x:t,y0:u?o:a+=l,y1:u?o+=l:(s+=l)-l,y_ref:l,y:e[n]}}),i.pos_max=o,i.neg_max=s,i}),this.is_y_2d=this.mark_data[0].values.length>1,this.update_color()),this.update_domains(),this.trigger("data_updated")},get_data_dict:function(t,e,n){return t},update_color:function(){if(this.mark_data){var t=this.get_typed_field("color"),e=this.get("scales").color,n=this.get("color_mode"),i="group"===n||"auto"===n&&!this.is_y_2d;this.mark_data.forEach(function(e,n){e.values.forEach(function(e,r){e.color_index=i?n:r,e.color=t[e.color_index]})}),e&&t.length>0&&(this.get("preserve_domain").color?e.del_domain([],this.model_id+"_color"):e.compute_and_set_domain(t,this.model_id+"_color"))}},update_domains:function(){if(this.mark_data){var t=this.get("scales"),e=(this.get("orientation"),t.x),n=t.y;if(this.get("preserve_domain").x?e.del_domain([],this.model_id+"_x"):e.compute_and_set_domain(this.mark_data.map(function(t){return t.key}),this.model_id+"_x"),this.get("preserve_domain").y)n.del_domain([],this.model_id+"_y");else if("stacked"===this.get("type"))n.compute_and_set_domain([i.min(this.mark_data,function(t){return t.neg_max}),i.max(this.mark_data,function(t){return t.pos_max}),this.base_value],this.model_id+"_y");else{var r=i.min(this.mark_data,function(t){return i.min(t.values,function(t){return t.y_ref})}),o=i.max(this.mark_data,function(t){return i.max(t.values,function(t){return t.y_ref})});n.compute_and_set_domain([r,o,this.base_value],this.model_id+"_y")}}}});t.exports={BarsModel:s}},function(t,e,n){var i=n(0),r=n(1),o=n(9),s=n(14).Mark.extend({render:function(){var t=s.__super__.render.apply(this);this.bars_selected=[],this.display_el_classes=["rect","legendtext"];var e=this;return this.displayed.then(function(){e.parent.tooltip_div.node().appendChild(e.tooltip_div.node()),e.create_tooltip()}),t.then(function(){e.event_listeners={},e.process_interactions(),e.create_listeners(),e.draw(),e.update_selected(e.model,e.model.get("selected"))})},set_ranges:function(){var t=this.scales.sample;t&&t.set_range(this.parent.padded_range("x",t.model));var e=this.scales.count;e&&e.set_range(this.parent.padded_range("y",e.model))},set_positional_scales:function(){var t=this.scales.sample,e=this.scales.count;this.listenTo(t,"domain_changed",function(){this.model.dirty||this.model.update_data()}),this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()})},create_listeners:function(){s.__super__.create_listeners.apply(this),this.d3el.on("mouseover",i.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",i.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",i.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.listenTo(this.model,"data_updated",this.draw,this),this.listenTo(this.model,"change:colors",this.update_colors,this),this.model.on_some_change(["stroke","opacities"],this.update_stroke_and_opacities,this),this.listenTo(this.model,"change:selected",this.update_selected,this),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")})},process_interactions:function(){var t=this.model.get("interactions");i.isEmpty(t)?this.reset_interactions():(void 0!==t.click&&null!==t.click?"tooltip"===t.click?(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"select"===t.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.element_clicked=this.bar_click_handler):this.reset_click(),void 0!==t.hover&&null!==t.hover?"tooltip"===t.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover(),void 0!==t.legend_click&&null!==t.legend_click?"tooltip"===t.legend_click&&(this.event_listeners.legend_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):this.event_listeners.legend_clicked=function(){},void 0!==t.legend_hover&&null!==t.legend_hover?"highlight_axes"===t.legend_hover&&(this.event_listeners.legend_mouse_over=i.bind(this.highlight_axes,this),this.event_listeners.legend_mouse_out=i.bind(this.unhighlight_axes,this)):this.reset_legend_hover())},update_colors:function(t,e){this.d3el.selectAll(".bargroup").selectAll("rect").style("fill",this.get_colors(0)),t.get("labels")&&e.length>1&&this.d3el.selectAll(".bargroup").selectAll("text").style("fill",this.get_colors(1)),this.legend_el&&(this.legend_el.selectAll("rect").style("fill",this.get_colors(0)),this.legend_el.selectAll("text").style("fill",this.get_colors(0)))},update_stroke_and_opacities:function(){var t=this.model.get("stroke"),e=this.model.get("opacities");this.d3el.selectAll(".rect").style("stroke",t).style("opacity",function(t,n){return e[n]})},calculate_bar_width:function(){var t=this.scales.sample,e=(t.scale(this.model.max_x)-t.scale(this.model.min_x))/this.model.num_bins;return e>=10&&(e-=2),e},relayout:function(){this.set_ranges();var t=this.scales.sample,e=this.scales.count;this.d3el.selectAll(".bargroup").attr("transform",function(n){return"translate("+t.scale(n.x)+","+e.scale(n.y)+")"});var n=this.calculate_bar_width();this.d3el.selectAll(".bargroup").select("rect").transition("relayout").duration(this.parent.model.get("animation_duration")).attr("x",2).attr("width",n).attr("height",function(t){return e.scale(0)-e.scale(t.y)})},draw:function(){this.set_ranges();var t=this.model.get("colors"),e=t[0],n=(t.length>1&&t[1],[]);this.model.mark_data.forEach(function(t,e){n.push(e)});var i=this.scales.sample,r=this.scales.count,o=this,s=this.calculate_bar_width(),a=this.d3el.selectAll(".bargroup").data(this.model.mark_data);a.enter().append("g").attr("class","bargroup").append("rect").attr("class","rect").attr("x",2).attr("width",0).attr("height",0),a.attr("transform",function(t){return"translate("+i.scale(t.x)+","+r.scale(t.y)+")"}),a.select(".rect").style("fill",e).on("click",function(t,e){return o.event_dispatcher("element_clicked",{data:t,index:e})}).attr("id",function(t,e){return"rect"+e}).transition("draw").duration(this.parent.model.get("animation_duration")).attr("width",s).attr("height",function(t){return r.scale(0)-r.scale(t.y)}),a.exit().remove(),this.bin_pixels=this.model.x_bins.map(function(t){return i.scale(t)+i.offset}),this.update_stroke_and_opacities()},bar_click_handler:function(t){t.data;var e=t.index,n=this.bars_selected,s=n?o.deepCopy(n):[],a=s.indexOf(e),l=r.event.ctrlKey||r.event.metaKey;if(a>-1&&l)s.splice(a,1);else if(r.event.shiftKey){if(a>-1)return;var u=0!==s.length?r.min(s):-1,c=0!==s.length?r.max(s):this.model.mark_data.length;e>c?i.range(c+1,e+1).forEach(function(t){s.push(t)}):e<u&&i.range(e,u).forEach(function(t){s.push(t)})}else l?s.push(e):(s=[]).push(e);this.bars_selected=s,this.model.set("selected",0===s.length?null:this.calc_data_indices(s),{updated_view:this}),this.touch(),r.event||(r.event=window.event);var h=r.event;void 0!==h.cancelBubble&&(h.cancelBubble=!0),h.stopPropagation&&h.stopPropagation(),h.preventDefault()},draw_legend:function(t,e,n,o,s){this.legend_el=t.selectAll(".legend"+this.uuid).data([this.model.mark_data[0]]);var a=this,l=.8*s;this.legend_el.enter().append("g").attr("class","legend"+this.uuid).attr("transform",function(t,e){return"translate(0, "+(e*s+n)+")"}).on("mouseover",i.bind(function(){this.event_dispatcher("legend_mouse_over")},this)).on("mouseout",i.bind(function(){this.event_dispatcher("legend_mouse_out")},this)).on("click",i.bind(function(){this.event_dispatcher("legend_clicked")},this)).append("rect").style("fill",function(t,e){return a.get_colors(e)}).attr({x:0,y:0,width:l,height:l}),this.legend_el.append("text").attr("class","legendtext").attr("x",1.2*l).attr("y",l/2).attr("dy","0.35em").text(function(t,e){return a.model.get("labels")[e]}).style("fill",function(t,e){return a.get_colors(e)});var u=r.max(this.model.get("labels"),function(t){return t.length});return this.legend_el.exit().remove(),[1,u]},reset_colors:function(t,e){this.d3el.selectAll("#rect"+t).style("fill",e)},update_selected:function(t,e){if(null!=e&&0!==e.length){var n=this.calc_bar_indices_from_data_idx(e);this.update_selected_colors(n)}else this.update_selected_colors([])},update_selected_colors:function(t){var e=this.model.get("colors"),n=e.length>1?e[1]:"red",r=e[0],o=(this.d3el.selectAll(".bargroup"),this);i.difference(i.range(0,this.model.num_bins),t).forEach(function(t){o.d3el.selectAll("#rect"+t).style("fill",r)}),t.forEach(function(t){o.d3el.selectAll("#rect"+t).style("fill",n)})},invert_point:function(t){if(void 0===t)return this.model.set("selected",null),void this.touch();var e=this.calculate_bar_width(),n=(this.scales.sample,this.bin_pixels.map(function(n){return Math.abs(n+e/2-t)})),i=n.indexOf(r.min(n));this.model.set("selected",this.calc_data_indices([i])),this.touch()},invert_range:function(t,e){if(void 0===t||void 0===e)return this.model.set("selected",null),this.touch(),[];var n=this.calc_data_indices_from_data_range(r.min([t,e]),r.max([t,e]));return this.model.set("selected",n),this.touch(),n},calc_data_indices:function(t){var e=this.reduce_intervals(t);if(0===e.length)return[];var n=this.model.get_typed_field("sample"),r=e.length;return i.filter(i.range(n.length),function(t){var i=n[t],o=0;for(o=0;o<r;o++)if(i<=e[o][1]&&i>=e[o][0])return!0;return!1})},reduce_intervals:function(t){var e=[];if(0!==t.length){t.sort();for(var n=t[0],i=t[0],r=1;r<t.length;r++)t[r]===i+1?i++:(e.push([this.model.x_bins[n],this.model.x_bins[i+1]]),n=i=t[r]);e.push([this.model.x_bins[n],this.model.x_bins[i+1]])}return e},calc_data_indices_from_data_range:function(t,e){this.scales.sample;var n=r.max([0,r.bisectLeft(this.bin_pixels,t)-1]),o=r.min([this.model.num_bins,r.bisectRight(this.bin_pixels,e)]),s=this.model.get_typed_field("sample"),a=this;return i.filter(i.range(s.length),function(t){return s[t]>=a.model.x_bins[n]&&s[t]<=a.model.x_bins[o]})},calc_bar_indices_from_data_idx:function(t){for(var e=this.model.get_typed_field("sample"),n=t.map(function(t){return e[t]}),r=[],o=0;o<n.length;o++){var s=Math.min(i.indexOf(this.model.x_bins,n[o],!0),this.model.x_bins.length-2);-1===s&&(s=i.sortedIndex(this.model.x_bins,n[o])-1),r.push(s)}return r.sort(),r=i.uniq(r,!0)},reset_selection:function(){this.bars_selected=[],this.model.set("selected",null),this.touch()}});t.exports={Hist:s}},function(t,e,n){var i=n(1),r=n(0),o=n(17),s=o.MarkModel.extend({defaults:function(){return r.extend(o.MarkModel.prototype.defaults(),{_model_name:"OHLCModel",_view_name:"OHLC",x:[],y:[],scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"}},stroke:null,box_fill_color:"dodgerblue",outlier_fill_color:"gray",opacities:[]})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.on_some_change(["x","y"],this.update_data,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.on("change:format",this.update_format,this),this.px={o:-1,h:-1,l:-1,c:-1},this.mark_data=[],this.display_el_classes=["stick_body"],this.update_data(),this.update_domains(),this.update_format()},update_format:function(){this.update_data(),this.trigger("format_updated")},update_data:function(){var t=this.get_typed_field("x"),e=this.get_typed_field("y"),n=this.get("format");function o(t){console&&console.error("Invalid OHLC format: '"+t+"'")}if(this.px=n.toLowerCase().split("").reduce(function(i,r,s){return-1!==i[r]&&(o(n),t=[],e=[]),i[r]=s,i},{o:-1,h:-1,l:-1,c:-1}),-1!==this.px.h&&-1===this.px.l||-1===this.px.h&&-1!==this.px.l||n.length<2||n.length>4)o(n),t=[],e=[];else{var s=this.px;(-1===this.px.h||e.every(function(t){return t[s.h]===i.max(t)&&t[s.l]===i.min(t)}))&&e.every(function(t){return t.length===n.length})||(t=[],e=[],console&&console.error("Invalid OHLC data"))}t.length>e.length?t=t.slice(0,e.length):t.length<e.length&&(e=e.slice(0,t.length)),this.mark_data=r.zip(t,e),this.mark_data.forEach(function(t,e){t.index=e}),this.update_domains(),this.trigger("data_updated")},update_domains:function(){if(this.mark_data){for(var t,e,n=this.get("scales"),r=n.x,o=n.y,s=Number.POSITIVE_INFINITY,a=0,l=0,u=0,c=0;c<this.mark_data.length;c++)c>0&&(l=this.mark_data[c][0]-this.mark_data[c-1][0])<s&&(s=l),(u=this.mark_data[c][this.px.h]-this.mark_data[c][this.px.l])>a&&(a=u);if(this.mark_data.length<2&&(s=0),this.get("preserve_domain").x||0===this.mark_data.length?r.del_domain([],this.model_id+"_x"):"ordinal"===r.type?r.compute_and_set_domain(this.mark_data.map(function(t){return t[0]})):(t=i.min(this.mark_data.map(function(t){return t[0]})),(e=i.max(this.mark_data.map(function(t){return t[0]})))instanceof Date&&(e=e.getTime()),r.set_domain([t-s/2,e+s/2],this.model_id+"_x")),this.get("preserve_domain").y||0===this.mark_data.length)o.del_domain([],this.model_id+"_y");else{var h=this.px.h,d=this.px.l;-1!==h&&-1!==d||(h=this.px.o,d=this.px.c),t=i.min(this.mark_data.map(function(t){return t[1][d]<t[1][h]?t[1][d]:t[1][h]})),(e=i.max(this.mark_data.map(function(t){return t[1][h]>t[1][d]?t[1][h]:t[1][d]})))instanceof Date&&(e=e.getTime()),o.set_domain([t-a,e+a],this.model_id+"_y")}}},get_data_dict:function(t,e){var n=this,i={};return i.index=e,i.x=t.x,["open","low","high","close"].forEach(function(e){i[e]=t.y[n.px[e.substr(0,1)]]}),i}});t.exports={OHLCModel:s}},function(t,e,n){var i=n(0),r=n(1),o=n(17),s=o.MarkModel.extend({defaults:function(){return i.extend(o.MarkModel.prototype.defaults(),{_model_name:"HistModel",_view_name:"Hist",sample:[],count:[],scales_metadata:{sample:{orientation:"horizontal",dimension:"x"},count:{orientation:"vertical",dimension:"y"}},bins:10,midpoints:[],colors:r.scale.category10().range(),stroke:null,opacities:[],normalized:!1})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.mark_data=[],this.on_some_change(["bins","sample","preserve_domain"],this.update_data,this),this.update_data(),this.on("change:normalized",function(){this.normalize_data(!0)},this),this.normalize_data(!0)},update_data:function(){var t=this.get_typed_field("sample"),e=this.get("scales").sample;if(this.num_bins=this.get("bins"),0==t.length)this.mark_data=[],this.x_mid=[],this.count=[],this.x_bins=[];else{this.get("preserve_domain").sample?e.del_domain([],this.model_id+"_sample"):e.compute_and_set_domain(t,this.model_id+"_sample"),this.min_x=e.domain[0],this.max_x=e.domain[1];var n=this,i=(t=t.filter(function(t){return t<=n.max_x&&t>=n.min_x})).map(function(t,e){return{index:e,value:t}});this.x_bins=this.create_uniform_bins(this.min_x,this.max_x,this.num_bins),this.x_mid=this.x_bins.map(function(t,e){return.5*(t+n.x_bins[e-1])}).slice(1),this.mark_data=r.layout.histogram().bins(this.x_bins).value(function(t){return t.value})(i),this.mark_data.forEach(function(t,e){t.index=e})}this.normalize_data(!1),this.set("midpoints",this.x_mid),this.set_typed_field("count",this.count),this.update_domains(),this.save_changes(),this.trigger("data_updated")},normalize_data:function(t){if(this.count=this.mark_data.map(function(t){return t.length}),this.get("normalized")){var e=1;this.mark_data.length>0&&(e=this.mark_data[0].dx);var n=this.count.reduce(function(t,e){return t+e},0);0!=n&&(this.count=this.count.map(function(t){return t/(n*e)}))}var i=this;this.mark_data.forEach(function(t,e){t.y=i.count[e]}),t&&(this.set_typed_field("count",this.count),this.update_domains(),this.save_changes(),this.trigger("data_updated"))},get_data_dict:function(t,e){var n={};return n.midpoint=this.x_mid[e],n.bin_start=this.x_bins[e],n.bin_end=this.x_bins[e+1],n.index=e,n.count=this.count[e],n},update_domains:function(){if(this.mark_data){var t=this.get("scales").count;this.get("preserve_domain").count||t.set_domain([0,1.05*r.max(this.mark_data,function(t){return t.y})],this.model_id+"_count")}},create_uniform_bins:function(t,e,n){for(var i=(e-t)/n,r=[],o=0;o<n;o++)r[o]=t+o*i;return r[n]=e,r}});t.exports={HistModel:s}},function(t,e,n){var i=n(2),r=n(0),o=n(27),s="^"+n(18).version,a=o.BaseModel.extend({defaults:function(){return r.extend(o.BaseModel.prototype.defaults(),{_model_name:"SelectorModel",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:s,_view_module_version:s,marks:[]})}},{serializers:r.extend({marks:{deserialize:i.unpack_models}},o.BaseModel.serializers)}),l=a.extend({defaults:function(){return r.extend(a.prototype.defaults(),{_model_name:"OneDSelectorModel",scale:null})}},{serializers:r.extend({scale:{deserialize:i.unpack_models}},a.serializers)}),u=a.extend({defaults:function(){return r.extend(a.prototype.defaults(),{_model_name:"TwoDSelectorModel",x_scale:null,y_scale:null})}},{serializers:r.extend({x_scale:{deserialize:i.unpack_models},y_scale:{deserialize:i.unpack_models}},a.serializers)}),c=l.extend({defaults:function(){return r.extend(l.prototype.defaults(),{_model_name:"FastIntervalSelectorModel",_view_name:"FastIntervalSelector",selected:[],color:null,size:null})}}),h=l.extend({defaults:function(){return r.extend(l.prototype.defaults(),{_model_name:"IndexSelectorModel",_view_name:"IndexSelector",selected:[],line_width:2,color:null})}}),d=l.extend({defaults:function(){return r.extend(l.prototype.defaults(),{_model_name:"BrushIntervalSelectorModel",_view_name:"BrushIntervalSelector",brushing:!1,selected:[],color:null})}}),f=u.extend({defaults:function(){return r.extend(u.prototype.defaults(),{_model_name:"BrushSelectorModel",_view_name:"BrushSelector",clear:!1,brushing:!1,selected:[],color:null})}}),p=l.extend({defaults:function(){return r.extend(l.prototype.defaults(),{_model_name:"MultiSelectorModel",_view_name:"MultiSelector",names:[],brushing:!1,selected:{},_selected:{},show_names:!0})}}),_=u.extend({defaults:function(){return r.extend(l.prototype.defaults(),{_model_name:"LassoSelectorModel",_view_name:"LassoSelector",color:null})}});t.exports={SelectorModel:a,OneDSelectorModel:l,TwoDSelectorModel:u,FastIntervalSelectorModel:c,IndexSelectorModel:h,BrushIntervalSelectorModel:d,BrushSelectorModel:f,MultiSelectorModel:p,LassoSelectorModel:_}},function(t,e,n){var i=n(1),r=n(0),o=n(14).Mark.extend({render:function(){var t=o.__super__.render.apply(this),e=this;return t.then(function(){e.create_listeners(),e.draw()},null)},set_ranges:function(){var t=this.scales.x;t&&t.set_range(this.parent.padded_range("x",t.model));var e=this.scales.y;e&&e.set_range(this.parent.padded_range("y",e.model))},set_positional_scales:function(){var t=this.scales.x;this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()});var e=this.scales.y;this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()})},create_listeners:function(){o.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:stroke",this.update_stroke,this),this.listenTo(this.model,"change:opacities",this.update_opacities,this),this.listenTo(this.model,"change:marker",this.update_marker,this),this.listenTo(this.model,"change:outlier_fill_color",this.update_outlier_fill_color,this),this.listenTo(this.model,"change:box_fill_color",this.update_box_fill_color,this),this.listenTo(this.model,"data_updated",this.draw,this),this.listenTo(this.model,"change:box_width",this.update_box_width,this)},update_stroke:function(){var t=this.model.get("stroke");this.d3el.selectAll(".boxplot").selectAll("path, rect").style("stroke",t),this.d3el.selectAll(".outlier").style("stroke",t),this.legend_el&&(this.legend_el.selectAll("path").attr("stroke",t),this.legend_el.selectAll("text").style("fill",t))},update_outlier_fill_color:function(){this.d3el.selectAll(".outlier").style("fill",this.model.get("outlier_fill_color"))},update_box_fill_color:function(){this.d3el.selectAll(".box").style("fill",this.model.get("box_fill_color"))},update_opacities:function(){var t=this.model.get("opacities");this.d3el.selectAll(".boxplot").style("opacity",function(e,n){return t[n]}),this.legend_el&&this.legend_el.selectAll("path").attr("opacity",function(e,n){return t[n]})},update_marker:function(){var t=this.model.get("marker");if(this.legend_el&&this.rect_dim){var e=[.25*this.rect_dim,0,this.rect_dim,.75*this.rect_dim];this.draw_mark_paths(t,this.rect_dim/2,this.legend_el,[e])}this.draw_mark_paths(t,this.calculate_mark_max_width(),this.d3el,this.model.mark_data)},compute_view_padding:function(){var t=this.model.get("box_width")/2+1;t!==this.x_padding&&(this.x_padding=t,this.trigger("mark_padding_updated"))},update_box_width:function(){this.compute_view_padding(),this.draw()},update_idx_selected:function(t,e){this.selected_indices=e,this.apply_styles(e)},apply_styles:function(t){var e=r.range(this.model.mark_data.length);this.set_default_style(e),this.set_style_on_elements(this.selected_style,this.selected_indices);var n=void 0===t?[]:r.difference(e,t);this.set_style_on_elements(this.unselected_style,n)},set_style_on_elements:function(t,e){if(void 0!==e&&0!==e.length){var n=this.d3el.selectAll(".boxplot");(n=n.filter(function(t,n){return-1!=e.indexOf(n)})).style(t)}},set_default_style:function(t){if(void 0!==t&&0!==t.length){var e=this.model.get("color"),n=this.model.get("stroke"),i=this.model.get("opacities"),r=this.d3el.selectAll(".boxplot").filter(function(e,n){return-1!=t.indexOf(n)});r.style("fill",function(t){return t[0]>t[3]?e:"none"}).style("opacity",function(t,e){return i[e]}),r.selectAll("path, rect").style("stroke",n),r.selectAll(".outliers").style("stroke",n)}},clear_style:function(t,e){var n=this.d3el.selectAll(".boxplot");void 0!==e&&(n=n.filter(function(t,n){return-1!=e.indexOf(n)}));var i={};for(var r in t)i[r]=null;n.style(i)},style_updated:function(t,e){this.set_default_style(e),this.set_style_on_elements(t,e)},selected_style_updated:function(t,e){this.selected_style=e,this.style_updated(e,this.selected_indices)},unselected_style_updated:function(t,e){this.unselected_style=e;var n=this.selected_indices,i=n?r.range(this.model.mark_data.length).filter(function(t){return-1==n.indexOf(t)}):[];this.style_updated(e,i)},update_selected_colors:function(t,e){this.d3el.selectAll(".boxplot");var n=r.range(t,e+1);n.length==this.model.mark_data.length&&(n=[]);var i=this,o=this.model.get("stroke"),s=this.model.get("stroke");r.range(0,this.model.mark_data.length).forEach(function(t){i.d3el.selectAll("#boxplot"+t).style("stroke",o)}),n.forEach(function(t){i.d3el.selectAll("#boxplot"+t).style("stroke",s)})},invert_range:function(t,e){if(void 0===t||void 0===e||0===this.model.mark_data.length)return this.update_selected_colors(-1,-1),o=[];var n=this,i=r.range(this.model.mark_data.length),o=r.filter(i,function(i){var r=n.x_pixels[i];return r<=e&&r>=t});return this.update_selected_colors(o[0],o[o.length-1]),this.model.set("selected",o),this.touch(),o},invert_point:function(t){if(void 0===t)return this.update_selected_colors(-1,-1),this.model.set("selected",null),void this.touch();var e=this.x_pixels.map(function(e){return Math.abs(e-t)}),n=e.indexOf(i.min(e));return this.model.set("selected",[n]),this.update_selected_colors(n,n),this.touch(),n},prepareBoxPlots:function(){var t=this.scales.x,e=this.scales.y;this.plotData=[];for(var n=0;n<this.model.mark_data.length;++n){var r=this.model.mark_data[n],o={};o.x=t.scale(r[0]),o.boxUpper=e.scale(i.quantile(r[1],.75)),o.boxLower=e.scale(i.quantile(r[1],.25)),o.boxMedian=e.scale(i.quantile(r[1],.5));var s=o.boxLower-o.boxUpper,a=o.boxLower+1.5*s,l=o.boxUpper-1.5*s;o.outliers=[],o.whiskerMax=Number.MAX_VALUE,o.whiskerMin=Number.MIN_VALUE;for(var u=0;u<r[1].length;++u){var c=e.scale(r[1][u]);c>a||c<l?o.outliers.push(c):(c>o.whiskerMin&&(o.whiskerMin=c),c<o.whiskerMax&&(o.whiskerMax=c))}this.plotData.push(o)}},draw:function(){this.set_ranges();var t=this.scales.x;this.prepareBoxPlots();var e=this.plotData;this.draw_mark_paths(".boxplot",this.d3el,e),this.x_pixels=this.model.mark_data.map(function(e){return t.scale(e[0])+t.offset})},draw_mark_paths:function(t,e,n){this.calculate_mark_max_width();var i=this.model.get("color"),r=this.d3el.selectAll(t).data(n),o=this.model.get("box_fill_color"),s=(this.model.get("start_time"),r.enter().append("g").attr("class","boxplot").attr("id",function(t,e){return"boxplot"+e}));s.append("path").attr("class","whisker_max"),s.append("path").attr("class","whisker_max_end"),s.append("path").attr("class","whisker_min"),s.append("path").attr("class","whisker_min_end"),s.append("rect").attr("class","box"),s.append("path").attr("class","median_line"),s.append("g").attr("class","outliers"),e.selectAll(".boxplot").style("stroke",this.model.get("stroke")).style("opacity",i).attr("transform",function(t,e){return"translate("+t.x+", 0)"});var a=this.model.get("box_width");e.selectAll(".box").style("fill",o).attr("x",-a/2).attr("width",a).attr("y",function(t,e){return t.boxUpper}).attr("height",function(t,e){return t.boxLower-t.boxUpper}),e.selectAll(".median_line").style("stroke-width",2).attr("d",function(t,e){var n=t.boxMedian;return"M"+(0-a/2)+","+n+" L"+(0+a/2)+","+n}),e.selectAll(".whisker_max").attr("d",function(t,e){return"M0,"+t.whiskerMax+" L0,"+t.boxUpper}).attr("stroke-dasharray",function(t,e){return"5,5"}),e.selectAll(".whisker_max_end").attr("d",function(t,e){var n=t.whiskerMax;return"M"+(0-a/2)+","+n+" L"+(0+a/2)+","+n}),e.selectAll(".whisker_min").attr("d",function(t,e){return"M0,"+t.whiskerMin+" L0,"+t.boxLower}).attr("stroke-dasharray",function(t,e){return"5,5"}),e.selectAll(".whisker_min_end").attr("d",function(t,e){var n=t.whiskerMin;return"M"+(0-a/2)+","+n+" L"+(0+a/2)+","+n});var l=e.selectAll(".outliers").selectAll("circle").data(function(t){return t.outliers});l.enter().append("circle").attr("class","outlier"),e.selectAll(".outlier").style("fill",this.model.get("outlier_fill_color")).attr("class","outlier").attr("cx",0).attr("r",3).attr("cy",function(t){return t}),l.exit().remove(),r.exit().remove(),this.apply_styles(this.selected_indices)},calculate_mark_max_width:function(){for(var t=1/0,e=this.scales.x,n=1;n<this.model.mark_data.length;n++){var i=e.scale(this.model.mark_data[n][0])-e.scale(this.model.mark_data[n-1][0]);(i=i<0?-1*i:i)<t&&(t=i)}return t==1/0?(e.scale(this.model.max_x)-e.scale(this.model.min_x))/2:t},relayout:function(){o.__super__.relayout.apply(this),this.set_ranges(),this.compute_view_padding(),this.d3el.select(".intselmouse").attr("width",this.width).attr("height",this.height),this.draw()},draw_legend:function(t,e,n,o,s){var a=this.model.get("stroke");this.model.get("colors");this.rect_dim=.8*s;var l=this;this.legend_el=t.selectAll(".legend"+this.uuid).data([this.model.mark_data]),this.legend_el.enter().append("g").attr("transform",function(t,e){return"translate(0, "+(e*s+n)+")"}).attr("class","legend"+this.uuid).on("mouseover",r.bind(this.highlight_axes,this)).on("mouseout",r.bind(this.unhighlight_axes,this)).selectAll("path").attr("stroke",a).attr("transform","translate("+l.rect_dim/2+",0)"),this.legend_el.append("text").attr("class","legendtext").attr("x",1.2*l.rect_dim).attr("y",l.rect_dim/2).attr("dy","0.35em").text(function(t,e){return l.model.get("labels")[e]}).style("fill",a);var u=i.max(this.model.get("labels"),function(t){return t.length});return this.legend_el.exit().remove(),[1,u]}});t.exports={Boxplot:o}},function(t,e,n){var i=n(1),r=n(0),o=n(48).BaseXSelector.extend({render:function(){o.__super__.render.apply(this),this.active=!1;var t=this,e=this.create_scales();Promise.all([this.mark_views_promise,e]).then(function(){t.line=t.d3el.append("line").attr("class","selector indsel").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",t.height).attr("stroke-width",t.model.get("line_width")).attr("pointer-events","none").attr("visibility","hidden"),t.background=t.d3el.append("rect").attr("x",0).attr("y",0).attr("width",t.width).attr("height",t.height).attr("class","selector selectormouse").attr("pointer-events","all").attr("visibility","hidden"),t.background.on("mousemove",r.bind(t.mousemove,t)).on("click",r.bind(t.initial_click,t)),t.create_listeners()})},create_listeners:function(){o.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:color",this.color_change,this)},color_change:function(){null!==this.model.get("color")&&this.line.style("stroke",this.model.get("color"))},initial_click:function(){this.line.attr("visibility","visible"),this.click(),this.background.on("click",r.bind(this.click,this))},click:function(){this.active=!this.active},mousemove:function(){if(this.active){var t=i.mouse(this.background.node())[0];this.line.attr({x1:t,x2:t}),this.model.set_typed_field("selected",[this.invert_pixel(t)],{js_ignore:!0}),r.each(this.mark_views,function(e){e.invert_point(t)}),this.touch()}},invert_pixel:function(t){return this.scale.invert(t)},reset:function(){this.active=!1,void 0!==this.line&&null!==this.line&&this.line.attr({x1:0,x2:0,visibility:"hidden"}),void 0!==this.background&&null!==this.background&&this.background.on("click",r.bind(this.initial_click,this)),this.model.set_typed_field("selected",[],{js_ignore:!0}),r.each(this.mark_views,function(t){t.invert_point()}),this.touch()},update_scale_domain:function(t){o.__super__.update_scale_domain.apply(this),!0!==t&&this.selected_changed()},selected_changed:function(t,e,n){if(!n||!n.js_ignore){var i=this.model.get_typed_field("selected");if(0===i.length)this.reset();else{if(1!=i.length)return;var o=this.scale.scale(i[0]);void 0!==this.line&&null!==this.line&&this.line.attr({x1:o,x2:o,visibility:"visible"}),this.background.on("click",r.bind(this.click,this)),r.each(this.mark_views,function(t){t.invert_point(o)})}}},relayout:function(){o.__super__.relayout.apply(this),this.line.attr("y1",0).attr("y2",this.height),this.background.attr("width",this.width).attr("height",this.height),this.set_range([this.scale])},scale_changed:function(){this.reset(),this.scale=this.parent.x_scale},set_range:function(t){for(var e=0;e<t.length;e++)t[e].set_range([0,this.width])}});t.exports={IndexSelector:o}},function(t,e,n){n(1);var i=n(175),r=n(65),o=i.OrdinalScale.extend({render:function(){o.__super__.render.apply(this),this.listenTo(this.model,"domain_changed",this.model_domain_changed,this),this.listenTo(this.model,"set_ticks",this.model_ticks_changed,this),this.model.on_some_change(["colors","scheme"],this.colors_changed,this),this.set_range()},set_range:function(){this.model.get("colors").length>0?this.scale.range(r.cycle_colors(this.model.get("colors"),this.scale.domain().length)):this.scale.range(r.get_ordinal_scale_range(this.model.get("scheme"),this.scale.domain().length)),this.trigger("color_scale_range_changed")},model_domain_changed:function(){o.__super__.model_domain_changed.apply(this),this.set_range()},colors_changed:function(){this.set_range()}});t.exports={OrdinalColorScale:o}},function(t,e,n){var i=n(1),r=n(0),o=n(17),s=o.MarkModel.extend({defaults:function(){return r.extend(o.MarkModel.prototype.defaults(),{_model_name:"BoxplotModel",_view_name:"Boxplot",x:[],y:[],scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"}},stroke:null,box_fill_color:"dodgerblue",outlier_fill_color:"gray",opacities:[],box_width:30})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.on_some_change(["x","y"],this.update_data,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data(),this.update_domains()},update_data:function(){var t=this.get_typed_field("x"),e=this.get_typed_field("y");e.forEach(function(t){t.sort(function(t,e){return t-e})}),t.length>e.length?t=t.slice(0,e.length):t.length<e.length&&(e=e.slice(0,t.length)),this.mark_data=r.zip(t,e),this.update_domains(),this.trigger("data_updated")},update_domains:function(){var t=this.get("scales"),e=t.x,n=t.y;t.size,t.opacity;if(!this.get("preserve_domain").x&&this.mark_data?e.compute_and_set_domain(this.mark_data.map(function(t){return t[0]}),this.model_id+"_x"):e.del_domain([],this.model_id+"_x"),!this.get("preserve_domain").y&&this.mark_data){var r=i.min(this.mark_data.map(function(t){return t[1][0]})),o=i.max(this.mark_data.map(function(t){var e=t[1];return e[e.length-1]}));n.set_domain([r,o],this.model_id+"_y")}else n.del_domain([],this.model_id+"_y")}});t.exports={BoxplotModel:s}},function(t,e,n){var i=n(1),r=n(177).ScatterBase.extend({create_listeners:function(){r.__super__.create_listeners.apply(this),this.model.on_some_change(["font_weight","font_size","colors","align","font_unit"],this.update_style,this),this.model.on_some_change(["x","y","x_offset","y_offset","rotate_angle"],this.update_position,this)},update_default_opacities:function(t){if(!this.model.dirty){this.model.get("default_opacities").length;var e=!0===t?this.parent.model.get("animation_duration"):0,n=this;this.d3el.selectAll(".label").transition("update_default_opacities").duration(e).style("opacity",function(t,e){return n.get_element_opacity(t,e)})}},update_default_size:function(t){if(this.compute_view_padding(),!this.model.dirty){var e=!0===t?this.parent.model.get("animation_duration"):0,n=this;this.d3el.selectAll(".label").transition("update_default_size").duration(e).style("font-size",function(t,e){return n.get_element_size(t)})}},create_listeners:function(){r.__super__.create_listeners.apply(this),this.model.on_some_change(["font_weight","default_size","colors","align","font_unit"],this.update_style,this),this.model.on_some_change(["x","y","x_offset","y_offset","rotate_angle"],this.update_position,this)},relayout:function(){this.set_ranges(),this.update_position()},draw_elements:function(t,e){e.append("text").classed("label element",!0),this.update_text(),this.update_style(),this.update_default_opacities(!0)},update_text:function(){this.d3el.selectAll(".object_grp").select(".label").text(function(t){return t.text})},get_element_size:function(t){var e=this.scales.size,n=this.model.get("font_unit");return e&&void 0!==t.size?e.scale(t.size)+n:this.model.get("default_size")+n},get_element_rotation:function(t){var e=this.scales.rotation;return e&&t.rotation?"rotate("+e.scale(t.rotation)+")":"rotate("+this.model.get("rotate_angle")+")"},update_position:function(){var t=this,e=this.x_scale,n=this.y_scale,i=("date"===e.model.type?this.model.get_date_elem("x"):this.model.get("x"),"date"===n.model.type?this.model.get_date_elem("y"):this.model.get("y"),this.model.get("x_offset")),r=this.model.get("y_offset");this.d3el.selectAll(".object_grp").attr("transform",function(o){return"translate("+(e.scale(o.x)+e.offset+i)+","+(n.scale(o.y)+n.offset+r)+")"+t.get_element_rotation(o)})},update_style:function(){var t=this;this.d3el.selectAll(".object_grp").select("text").style("font-size",function(e,n){return t.get_element_size(e)}).style("font-weight",this.model.get("font_weight")).style("text-anchor",this.model.get("align")),this.d3el.selectAll(".label").style("fill",function(e,n){return t.get_element_color(e,n)})},color_scale_updated:function(t){var e=this,n=!0===t?this.parent.model.get("animation_duration"):0;this.d3el.selectAll(".object_grp").select("text").transition("color_scale_updated").duration(n).style("fill",function(t,n){return e.get_element_color(t,n)})},set_default_style:function(t){if(t&&0!==t.length){var e=this.d3el.selectAll(".element").filter(function(e,n){return-1!==t.indexOf(n)}),n=this;e.style("font-size",function(t,e){return n.get_element_size(t)}).style("font-weight",this.model.get("font_weight")).style("text-anchor",this.model.get("align")).style("fill",function(t,e){return n.get_element_color(t,e)})}},set_drag_style:function(t,e,n){var r=this.model.get("drag_size")*this.model.get("default_size")+this.model.get("font_unit");i.select(n).select("text").classed("drag_label",!0).transition("set_drag_style").style("font-size",r)},reset_drag_style:function(t,e,n){i.select(n).select("text").classed("drag_label",!1).transition("reset_drag_style").style("font-size",this.get_element_size(t))}});t.exports={Label:r}},function(t,e,n){n(1);var i=n(0),r=n(178),o=r.ScatterBaseModel.extend({defaults:function(){return i.extend(r.ScatterBaseModel.prototype.defaults(),{_model_name:"LabelModel",_view_name:"Label",x_offset:0,y_offset:0,rotate_angle:0,text:[],font_size:16,font_unit:"px",drag_size:1,font_weight:"bold",align:"start"})},initialize:function(){o.__super__.initialize.apply(this,arguments),this.on("change:text",this.update_data,this)},update_mark_data:function(){o.__super__.update_mark_data.apply(this);var t=this.get_typed_field("text");this.mark_data.forEach(function(e,n){e.text=t[n]})},update_unique_ids:function(){this.mark_data.forEach(function(t,e){t.unique_id="Label"+e})}});t.exports={LabelModel:o}},function(t,e,n){var i=n(0),r=(n(1),n(66)),o=r.ScaleModel.extend({defaults:function(){return i.extend(r.ScaleModel.prototype.defaults(),{_model_name:"OrdinalScaleModel",_view_name:"OrdinalScale",min:null,max:null})},initialize:function(){o.__super__.initialize.apply(this,arguments)},set_init_state:function(){this.type="ordinal",this.min_from_data=!0,this.max_from_data=!0},set_listeners:function(){this.on("change:domain",this.domain_changed,this),this.domain_changed(),this.on("change:reverse",this.reverse_changed,this),this.reverse_changed()},domain_changed:function(){this.ord_domain=this.get("domain"),null!==this.ord_domain&&0!==this.ord_domain.length?(this.max_from_data=!1,this.min_from_data=!1,this.domain=this.ord_domain.map(function(t){return t}),this.trigger("domain_changed")):(this.max_from_data=!0,this.min_from_data=!0,this.domain=[],this.update_domain())},reverse_changed:function(t,e,n){var i=void 0!==t&&t.previous("reverse");this.reverse=this.get("reverse");var r=(i+this.reverse)%2;this.domain.length>0&&1===r&&(this.domain.reverse(),this.trigger("domain_changed",this.domain))},update_domain:function(){var t=[];for(var e in this.domains)t=i.union(t,this.domains[e]);this.domain.length===t.length&&i.intersection(this.domain,t).length===t.length||(this.domain=t,this.trigger("domain_changed",t))},compute_and_set_domain:function(t,e){if(this.min_from_data||this.max_from_data)if(0!==t.length){var n=i.flatten(t);this.get("reverse")&&n.reverse(),this.set_domain(n,e)}else this.set_domain([],e)}});t.exports={OrdinalScaleModel:o}},function(t,e,n){var i=n(1),r=n(0),o=n(48),s=n(9),a=o.BaseXYSelector.extend({render:function(){a.__super__.render.apply(this);var t=this,e=this.create_scales();Promise.all([this.mark_views_promise,e]).then(function(){t.brush=i.svg.brush().x(t.x_scale.scale).y(t.y_scale.scale).on("brushstart",r.bind(t.brush_start,t)).on("brush",r.bind(t.brush_move,t)).on("brushend",r.bind(t.brush_end,t)),t.is_x_date="date"===t.x_scale.model.type,t.is_y_date="date"===t.y_scale.model.type,t.brushsel=t.d3el.attr("class","selector brushintsel").call(t.brush),null!==t.model.get("color")&&t.brushsel.style("fill",t.model.get("color")),t.create_listeners()})},create_listeners:function(){a.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:color",this.color_change,this)},color_change:function(){null!==this.model.get("color")&&this.brushsel.style("fill",this.model.get("color"))},brush_start:function(){this.model.set("brushing",!0),this.touch()},brush_move:function(){var t=this.brush.empty()?[]:this.brush.extent();this.convert_and_save(t)},brush_end:function(){var t=this.brush.empty()?[]:this.brush.extent();this.model.set("brushing",!1),this.convert_and_save(t)},convert_and_save:function(t){if(0===t.length)return this.model.set("selected",[],{js_ignore:!0}),r.each(this.mark_views,function(t){t.invert_2d_range([])}),void this.touch();var e=[t[0][0],t[1][0]],n=[t[0][1],t[1][1]];"ordinal"==this.x_scale.model.type&&(e=this.x_scale.invert_range(e)),"ordinal"==this.y_scale.model.type&&(n=this.y_scale.invert_range(n));var i=this;r.each(this.mark_views,function(t){t.invert_2d_range(i.x_scale.scale(e[0]),i.x_scale.scale(e[1]),i.y_scale.scale(n[0]),i.y_scale.scale(n[1]))}),this.model.set("selected",this.get_typed_selected([[e[0],n[0]],[e[1],n[1]]]),{js_ignore:!0}),this.touch()},get_typed_selected:function(t){return this.is_x_date&&(t[0][0]=this.x_scale.model.convert_to_json(t[0][0]),t[1][0]=this.x_scale.model.convert_to_json(t[1][0])),this.is_y_date&&(t[0][1]=this.y_scale.model.convert_to_json(t[0][1]),t[1][1]=this.y_scale.model.convert_to_json(t[1][1])),t},scale_changed:function(){this.brush.clear(),this.create_scales()},relayout:function(){a.__super__.relayout.apply(this),this.d3el.select(".background").attr("width",this.width).attr("height",this.height),this.set_x_range([this.x_scale]),this.set_y_range([this.y_scale])},reset:function(){this.brush.clear(),this._update_brush(),this.model.set("selected",[],{js_ignore:!0}),r.each(this.mark_views,function(t){t.invert_2d_range([])}),this.touch()},update_xscale_domain:function(){a.__super__.update_xscale_domain.apply(this),void 0!==this.brush&&null!==this.brush&&this.brush.x(this.x_scale.scale)},update_yscale_domain:function(){a.__super__.update_yscale_domain.apply(this),void 0!==this.brush&&null!==this.brush&&this.brush.y(this.y_scale.scale)},_update_brush:function(){this.brushsel=this.d3el.call(this.brush),this.d3el.call(this.brush.event)}}),l=o.BaseXSelector.extend({render:function(){l.__super__.render.apply(this);var t=this,e=this.create_scales();Promise.all([this.mark_views_promise,e]).then(function(){t.brush=i.svg.brush().x(t.scale.scale).on("brushstart",r.bind(t.brush_start,t)).on("brush",r.bind(t.brush_move,t)).on("brushend",r.bind(t.brush_end,t)),t.d3el.attr("class","selector brushintsel"),t.brushsel=t.d3el.call(t.brush).selectAll("rect").attr("y",0).attr("height",t.height),null!==t.model.get("color")&&t.brushsel.style("fill",t.model.get("color")),t.create_listeners(),t.selected_changed()})},create_listeners:function(){a.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:color",this.change_color,this)},change_color:function(){null!==this.model.get("color")&&this.brushsel.style("fill",this.model.get("color"))},brush_start:function(){this.model.set("brushing",!0),this.touch()},brush_move:function(){var t=this.brush.empty()?[]:this.brush.extent();this.convert_and_save(t)},brush_end:function(){var t=this.brush.empty()?[]:this.brush.extent();this.model.set("brushing",!1),this.convert_and_save(t)},convert_and_save:function(t){var e=this;0===t.length?r.each(this.mark_views,function(e){return e.invert_range(t)}):"ordinal"===this.scale.model.type?r.each(this.mark_views,function(e){e.invert_range(t[0],t[1])}):r.each(this.mark_views,function(n){n.invert_range(e.scale.scale(t[0]),e.scale.scale(t[1]))}),"ordinal"==this.scale.model.type&&(t=this.scale.invert_range(t)),this.model.set_typed_field("selected",t,{js_ignore:!0}),this.touch()},scale_changed:function(){this.brush.clear(),this.create_scale(),this.brush.x(this.scale.scale)},reset:function(){this.brush.clear(),this._update_brush(),this.model.set_typed_field("selected",[],{js_ignore:!0}),r.each(this.mark_views,function(t){t.invert_range([])}),this.touch()},update_scale_domain:function(t){l.__super__.update_scale_domain.apply(this),void 0!==this.brush&&null!==this.brush&&this.brush.x(this.scale.scale),!0!==t&&this.selected_changed()},selected_changed:function(t,e,n){if(!n||!n.js_ignore){var i=this.model.get_typed_field("selected");if(0===i.length)this.reset();else{if(2!=i.length)return;var o=this;i=i.sort(function(t,e){return t-e}),this.brush.extent([i[0],i[1]]),this._update_brush(),r.each(this.mark_views,function(t){t.invert_range(o.scale.scale(i[0]),o.scale.scale(i[1]))},this)}}},_update_brush:function(){this.brushsel=this.d3el.call(this.brush),this.d3el.call(this.brush.event)},remove:function(){this.brush.clear(),l.__super__.remove.apply(this)},relayout:function(){l.__super__.relayout.apply(this),this.d3el.selectAll("rect").attr("y",0).attr("height",this.height),this.d3el.select(".background").attr("width",this.width).attr("height",this.height),this.set_range([this.scale])}}),u=function(t,e,n){n&&n.forEach(function(e){t.classed(e,!1)}),e&&e.forEach(function(e){t.classed(e,!0)})},c=o.BaseXSelector.extend({render:function(){c.__super__.render.apply(this);var t=this;this.names=this.model.get("names"),this.curr_index=0;var e=this.names.length>this.curr_index?this.names[this.curr_index]:this.curr_index,n=this.create_scales();Promise.all([this.mark_views_promise,n]).then(function(){i.svg.brush().x(t.scale.scale).on("brushstart",function(){t.brush_start(e,t)}).on("brush",function(){t.brush_move(e,t)}).on("brushend",function(){t.brush_end(e,t)});t.is_date="date"===t.scale.model.type,t.d3el.attr("class","multiselector"),t.create_brush(),t.model.on("change:names",t.labels_change,t),t.selecting_brush=!1,t.create_listeners()})},labels_change:function(t,e){var n=t.previous("names");this.names=e;var i=r.range(this.curr_index+1),o=this,a=s.deepCopy(this.model.get("selected"));i.forEach(function(t){var e=o.get_label(t),i=o.get_label(t,n);i!==e&&(o.d3el.select(".brush_text_"+t).text(e),a[e]=a[i],delete a[i])}),this.model.set("_selected",a),this.touch()},create_brush:function(t){var e=this,n=(this.names.length>this.curr_index?this.names[this.curr_index]:this.curr_index,this.curr_index),r=i.svg.brush().x(this.scale.scale).on("brushstart",function(){e.brush_start()}).on("brush",function(){e.brush_move(n,this)}).on("brushend",function(){e.brush_end(n,this)}),o=this.d3el.append("g").attr("class","selector brushintsel active");e.new_brushsel=o.call(r).selectAll("rect").attr("y",0).attr("height",this.height),null!==e.model.get("color")&&e.new_brushsel.style("fill",e.model.get("color")),o.append("text").attr("y",30).text(this.get_label(this.curr_index)).attr("class","brush_text_"+this.curr_index).style("text-anchor","middle").style("stroke","yellow").style("font-size","16px").style("display","none");var s=o.on("mousedown.brush");o.on("mousedown.brush",function(){u(e.d3el.selectAll(".selector"),["inactive"],["visible"]),u(i.select(this),["active"],["inactive"]),s.call(this),i.select(this).on("mousedown.brush",function(){var t=i.event.ctrlKey||i.event.metaKey;i.event.shiftKey&&t&&i.event.altKey?e.reset():t?(u(i.select(this),["inactive"],["active"]),e.create_brush(i.event)):i.event.shiftKey&&!1===e.selecting_brush?(u(e.d3el.selectAll(".selector"),["visible"],["active","inactive"]),e.selecting_brush=!0):(u(e.d3el.selectAll(".selector"),["inactive"],["visible"]),u(i.select(this),["active"],["inactive"]),s.call(this),e.selecting_brush=!1)})}),this.curr_index=this.curr_index+1},get_label:function(t,e){return null==e&&(e=this.names),e.length>t?e[t]:t},brush_start:function(){this.model.set("brushing",!0),this.touch()},brush_move:function(t,e){var n=i.event.target,r=n.empty()?this.scale.scale.domain():n.extent(),o=!this.model.get("show_names");i.select(e).select("text").attr("x",this.get_text_location(r)).style("display",n.empty()||o?"none":"inline"),this.convert_and_save(r,t)},get_text_location:function(t){var e=(t[0]+t[1])/2;return"date"===this.scale.model.type&&(e=new Date((t[0].getTime()+t[1].getTime())/2)),this.scale.scale(e)},brush_end:function(t,e){var n=i.event.target,r=n.empty()?this.scale.scale.domain():n.extent();this.model.set("brushing",!1),this.convert_and_save(r,t)},reset:function(){this.d3el.selectAll(".selector").remove(),this.model.set("_selected",{}),this.curr_index=0,this.touch(),this.create_brush()},convert_and_save:function(t,e){var n=s.deepCopy(this.model.get("_selected")),i=this;r.each(this.mark_views,function(e){e.invert_range(i.scale.scale(t[0]),i.scale.scale(t[1]))}),n[this.get_label(e)]=t.map(function(t){return i.is_date?i.scale.model.convert_to_json(t):t}),this.model.set("_selected",n),this.touch()},scale_changed:function(){this.d3el.selectAll(".selector").remove(),this.curr_index=0,this.create_scale(),this.create_brush()},relayout:function(){c.__super__.relayout.apply(this),this.d3el.selectAll(".brushintsel").selectAll("rect").attr("y",0).attr("height",this.height),this.d3el.select(".background").attr("width",this.width).attr("height",this.height),this.set_range([this.scale])},remove:function(){this.model.off("change:names",null,this),c.__super__.remove.apply(this)}});t.exports={BrushSelector:a,BrushIntervalSelector:l,MultiSelector:c}},function(t,e,n){var i=n(1),r=n(0),o=(n(9),n(48)),s=n(179),a=o.BaseXYSelector.extend({render:function(){a.__super__.render.apply(this);var t=this.create_scales();this.line=i.svg.line(),this.lasso_vertices=[],this.lasso_counter=0;var e=this;Promise.all([this.mark_views_promise,t]).then(function(){var t=i.behavior.drag().on("dragstart",r.bind(e.drag_start,e)).on("drag",r.bind(e.drag_move,e)).on("dragend",r.bind(e.drag_end,e));i.select(window).on("keydown",r.bind(e.keydown,e)),e.d3el.attr("class","lassoselector"),e.background=e.d3el.append("rect").attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).attr("visibility","hidden").attr("pointer-events","all").style("cursor","crosshair").call(t),e.create_listeners()})},create_listeners:function(){a.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:color",this.change_color,this)},change_color:function(t,e){e&&this.d3el.selectAll("path").style("stroke",e)},drag_start:function(){this.lasso_vertices=[];var t=this.d3el.append("path").attr("id","l"+ ++this.lasso_counter).on("click",function(){var t=i.select(this);t.classed("selected",!t.classed("selected"))}),e=this.model.get("color");e&&t.style("stroke",e)},drag_move:function(){this.lasso_vertices.push(i.mouse(this.background.node())),this.d3el.select("#l"+this.lasso_counter).attr("d",this.line(this.lasso_vertices))},drag_end:function(){this.d3el.select("#l"+this.lasso_counter).attr("d",this.line(this.lasso_vertices)+"Z");var t=!1,e=this;r.each(this.mark_views,function(n){n.update_selected_in_lasso("l"+e.lasso_counter,e.lasso_vertices,s.point_in_lasso)&&(t=!0)}),t||(this.d3el.select("#l"+this.lasso_counter).remove(),this.lasso_counter--)},relayout:function(){a.__super__.relayout.apply(this),this.background.attr("width",this.width).attr("height",this.height)},keydown:function(){if(46===i.event.keyCode){var t=this.d3el.selectAll(".selected"),e=this;t.each(function(){var t=i.select(this).attr("id");r.each(e.mark_views,function(e){e.update_selected_in_lasso(t,null,null)})}),t.remove()}}});t.exports={LassoSelector:a}},function(t,e,n){var i=n(2),r=n(0),o=n(1),s=n(63).Interaction.extend({render:function(){s.__super__.render.apply(this);var t=this;this.d3el.style({cursor:"move"}).on("mousedown",function(){t.mousedown()}).on("mousemove",function(){t.mousemove()}).on("mouseup",function(){t.mouseup()}).on("mousewheel",function(){t.mousewheel()}).on("DOMMouseScroll.zoom",function(){t.mousewheel()}).on("mousewheel.zoom",null).on("wheel.zoom",null),this.active=!1,this.update_scales(),this.listenTo(this.model,"change:scales",this.update_scales,this),this.set_ranges(),this.listenTo(this.parent,"margin_updated",this.set_ranges,this)},update_scales:function(){var t=this.model.get("scales"),e=this;this.scale_promises=i.resolvePromisesDict({x:Promise.all((t.x||[]).map(function(t){return e.create_child_view(t)})),y:Promise.all((t.y||[]).map(function(t){return e.create_child_view(t)}))}),i.resolvePromisesDict(this.scale_promises).then(r.bind(this.set_ranges,this))},set_ranges:function(){var t,e=this;this.scale_promises.then(function(n){var i=n.x;for(t=0;t<i.length;t++)i[t].set_range(e.parent.padded_range("x",i[t].model));var r=n.y;for(t=0;t<r.length;t++)r[t].set_range(e.parent.padded_range("y",r[t].model))})},mousedown:function(){var t=this.model.get("scales");this.active=!0,this.d3el.style({cursor:"move"}),this.previous_pos=o.mouse(this.el),this.domains={x:(t.x||[]).map(function(t){return t.domain.slice(0)}),y:(t.y||[]).map(function(t){return t.domain.slice(0)})}},mouseup:function(){this.active=!1},mousemove:function(){if(this.active&&this.model.get("allow_pan")){var t=o.mouse(this.el);"previous_pos"in this||(this.previous_pos=t);var e=this.model.get("scales"),n=this;this.scale_promises.then(function(i){var r,o,s,a,l=i.x,u=n.domains.x,c=l.map(function(e){if(e.scale.invert)return e.scale.invert(t[0])-e.scale.invert(n.previous_pos[0])});for(r=0;r<l.length;r++)s=(o=u[r])[0]-c[r],a=o[1]-c[r],n.set_scale_attribute(e.x[r],"min",s),n.set_scale_attribute(e.x[r],"max",a),l[r].touch();var h=i.y,d=n.domains.y,f=h.map(function(e){if(e.scale.invert)return e.scale.invert(t[1])-e.scale.invert(n.previous_pos[1])});for(r=0;r<h.length;r++)s=(o=d[r])[0]-f[r],a=o[1]-f[r],n.set_scale_attribute(e.y[r],"min",s),n.set_scale_attribute(e.y[r],"max",a),h[r].touch()})}},mousewheel:function(){if(this.model.get("allow_zoom")){o.event.preventDefault();var t=o.event.wheelDelta||-40*o.event.detail,e=o.mouse(this.el);if(t){t>0?this.d3el.style({cursor:"zoom-in"}):this.d3el.style({cursor:"zoom-out"});var n=this.model.get("scales"),i=this;this.scale_promises.then(function(r){var o,s,a,l,u=r.x,c=u.map(function(t){return t.scale.invert(e[0])}),h=Math.exp(.001*-t);for(o=0;o<u.length;o++)a=(s=n.x[o].domain)[0],l=s[1],i.set_scale_attribute(n.x[o],"min",(1-h)*c[o]+h*a),i.set_scale_attribute(n.x[o],"max",(1-h)*c[o]+h*l),u[o].touch();var d=r.y,f=d.map(function(t){return t.scale.invert(e[1])});for(o=0;o<d.length;o++)a=(s=n.y[o].domain)[0],l=s[1],i.set_scale_attribute(n.y[o],"min",(1-h)*f[o]+h*a),i.set_scale_attribute(n.y[o],"max",(1-h)*f[o]+h*l),d[o].touch()})}}},set_scale_attribute:function(t,e,n){"date"==t.type?(n=n instanceof Date?n:new Date(n),t.set_date_elem(e,n)):t.set(e,n)}});t.exports={PanZoom:s}},function(t,e,n){var i=n(1),r=(n(0),n(9),n(174).Axis.extend({render:function(){this.parent=this.options.parent,this.margin=this.parent.margin,this.vertical="vertical"===this.model.get("orientation"),this.height=this.parent.height-(this.margin.top+this.margin.bottom),this.width=this.parent.width-(this.margin.left+this.margin.right);var t=this.set_scale(this.model.get("scale"));this.side=this.model.get("side"),this.x_offset=100,this.y_offset=40,this.bar_height=20,this.d3el.attr("class","ColorBar").attr("display",this.model.get("visible")?"inline":"none").attr("transform",this.get_topg_transform()),this.ordinal=!1,this.num_ticks=this.model.get("num_ticks");var e=this;t.then(function(){e.create_listeners(),e.tick_format=e.generate_tick_formatter(),e.set_scales_range(),e.append_axis()})},create_listeners:function(){this.listenTo(this.model,"change:scale",function(t,e){this.update_scale(t.previous("scale"),e),this.axis.scale(this.axis_scale.scale),this.rescale_axis()},this),this.listenTo(this.model,"change:tick_format",this.tickformat_changed,this),this.axis_scale.on("domain_changed",this.redraw_axisline,this),this.axis_scale.on("color_scale_range_changed",this.redraw_axis,this),this.axis_scale.on("highlight_axis",this.highlight,this),this.axis_scale.on("unhighlight_axis",this.unhighlight,this),this.parent.on("margin_updated",this.parent_margin_updated,this),this.listenTo(this.model,"change:visible",this.update_visibility,this),this.listenTo(this.model,"change:label",this.update_label,this),this.model.on_some_change(["side","orientation"],this.update_display,this)},update_display:function(){this.side=this.model.get("side"),this.vertical="vertical"===this.model.get("orientation"),this.rescale_axis(),this.d3el.select("#colorBarG"+this.cid).attr("transform",this.get_colorbar_transform()),this.d3el.select("#colorBarG"+this.cid).select(".g-rect").attr("transform",this.vertical?"rotate(-90)":""),this.redraw_axisline()},set_scale:function(t){var e=this;return this.axis_scale&&this.axis_scale.remove(),this.create_child_view(t).then(function(t){e.displayed.then(function(){t.trigger("displayed")}),e.axis_scale=t,"date_color_linear"===e.axis_scale.model.type?e.axis_line_scale=i.time.scale().nice():"ordinal"===e.axis_scale.model.type?(e.axis_line_scale=i.scale.ordinal(),e.ordinal=!0):e.axis_line_scale=i.scale.linear()})},append_axis:function(){void 0!==this.model.get("label")&&null!==this.model.get("label")&&this.d3el.append("g").attr("transform",this.get_label_transform()).attr("class","axis label_g").append("text").append("tspan").attr("id","text_elem").attr("dy","0.5ex").text(this.model.get("label")).attr("class","axislabel").style("text-anchor",this.vertical?"middle":"end");var t=this.d3el.append("g").attr("id","colorBarG"+this.cid);this.draw_color_bar(),this.axis_line_scale.domain(this.axis_scale.scale.domain()),this.g_axisline=t.append("g").attr("class","axis"),this.axis=i.svg.axis().tickFormat(this.tick_format),this.redraw_axisline()},draw_color_bar:function(){var t=this.d3el.select("#colorBarG"+this.cid);t.attr("transform",this.get_colorbar_transform());var e=this;t.selectAll(".g-rect").remove(),t.selectAll(".g-defs").remove(),this.colors=this.axis_scale.scale.range();var n=100/(this.colors.length-1);if(this.ordinal){var i=this.get_color_bar_width()/this.colors.length,r=t.append("g").attr("class","g-rect axis").selectAll("rect").data(this.colors);r.enter().append("rect").attr("y",0).attr("height",this.bar_height).attr("width",i).style("fill",function(t){return t}),this.vertical?r.attr("x",function(t,n){return n*i-(e.height-2*e.x_offset)}):r.attr("x",function(t,e){return e*i})}else t.append("g").attr("class","g-defs").append("defs").append("linearGradient").attr({id:"colorBarGradient"+this.cid,x1:"0%",y1:"0%",x2:"100%",y2:"0%"}).selectAll("stop").data(this.colors).enter().append("stop").attr({offset:function(t,e){return n*e+"%"},"stop-color":function(t,n){return e.colors[n]},"stop-opacity":1}),t.append("g").attr("class","g-rect axis").append("rect").attr({width:this.get_color_bar_width(),height:this.bar_height,x:this.vertical?-(this.height-2*this.x_offset):0,y:0,"stroke-width":1}).style("fill","url(#colorBarGradient"+this.cid+")");this.vertical&&t.select(".g-rect").attr("transform","rotate(-90)")},get_topg_transform:function(){return this.vertical?"right"===this.side?"translate("+String(this.get_basic_transform()+this.margin.right/2-this.bar_height)+", 0)":"translate("+String(this.get_basic_transform()-this.margin.left/2+this.bar_height)+", 0)":"top"===this.side?"translate(0, "+String(this.get_basic_transform()-this.margin.top+this.bar_height+24)+")":"translate(0, "+String(this.get_basic_transform()+this.margin.bottom-this.bar_height-24)+")"},get_label_transform:function(){return this.vertical?"translate("+("right"===this.side?this.bar_height/2:-this.bar_height/2)+", "+(this.x_offset-15)+")":"translate("+(this.x_offset-5)+", "+this.bar_height/2+")"},get_colorbar_transform:function(){return this.vertical?"translate(0, "+String(this.x_offset)+")":"translate("+String(this.x_offset)+", 0)"},set_axisline_scale_range:function(){var t=this.vertical?[this.height-2*this.x_offset,0]:[0,this.width-2*this.x_offset];this.ordinal?this.axis_line_scale.rangeRoundBands(t,.05):this.axis_scale.divergent?this.axis_line_scale.range([t[0],.5*(t[0]+t[1]),t[1]]):this.axis_line_scale.range(t)},set_scales_range:function(){this.axis_scale.set_range(),this.set_axisline_scale_range()},get_color_bar_width:function(){return this.vertical?this.height-2*this.x_offset:this.width-2*this.x_offset},update_label:function(t,e){this.d3el.select("#text_elem").text(this.model.get("label"))},rescale_axis:function(){this.set_axisline_scale_range(),this.d3el.attr("transform",this.get_topg_transform());var t=this,e=this.get_color_bar_width()/this.colors.length;if(this.ordinal){var n=this.d3el.select("#colorBarG"+this.cid).select(".g-rect").selectAll("rect").attr("width",e);this.vertical?n.attr("x",function(n,i){return i*e-(t.height-2*t.x_offset)}):n.attr("x",function(t,n){return n*e})}else this.d3el.select("#colorBarG"+this.cid).select(".g-rect").selectAll("rect").attr("width",this.get_color_bar_width()).attr("x",this.vertical?-(this.height-2*this.x_offset):0);void 0!==this.model.get("label")&&null!==this.model.get("label")&&this.d3el.select(".label_g").attr("transform",this.get_label_transform()).select("#text_elem").style("text-anchor",this.vertical?"middle":"end"),this.g_axisline.call(this.axis)},redraw_axisline:function(){var t;this.axis&&(this.axis_line_scale.domain(this.axis_scale.scale.domain()),this.set_axisline_scale_range(),this.axis.orient(this.side).scale(this.axis_line_scale),this.set_tick_values(),t=this.vertical?"translate("+("right"===this.side?this.bar_height:0)+", 0)":"translate(0, "+("top"===this.side?0:this.bar_height)+")",this.g_axisline.attr("transform",t).call(this.axis))},redraw_axis:function(){this.draw_color_bar(),this.redraw_axisline()}}));t.exports={ColorAxis:r}},function(t,e,n){var i=n(2),r=n(0),o=n(27),s="^"+n(18).version,a=o.BaseModel.extend({defaults:function(){return r.extend(o.BaseModel.prototype.defaults(),{_model_name:"PanZoomModel",_view_name:"PanZoom",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:s,_view_module_version:s,scales:{},allow_pan:!0,allow_zoom:!0})},initialize:function(){a.__super__.initialize.apply(this,arguments),this.on("change:scales",this.snapshot_scales,this),this.snapshot_scales()},reset_scales:function(){var t=this;i.resolvePromisesDict(this.get("scales")).then(function(e){r.each(Object.keys(e),function(n){r.each(e[n],function(e,i){e.set_state(t.scales_states[n][i])},t)},t)})},snapshot_scales:function(){var t=this;i.resolvePromisesDict(this.get("scales")).then(function(e){t.scales_states=Object.keys(e).reduce(function(t,n){return t[n]=e[n].map(function(t){return t.get_state()}),t},{})})}},{serializers:r.extend({scales:{deserialize:i.unpack_models}},o.BaseModel.serializers)});t.exports={PanZoomModel:a}},function(t,e,n){var i=n(1),r=n(14),o=n(9),s=n(0),a=r.Mark.extend({render:function(){var t=a.__super__.render.apply(this);this.selected_indices=this.model.get("selected"),this.selected_style=this.model.get("selected_style"),this.unselected_style=this.model.get("unselected_style"),this.display_el_classes=["slice","text"];var e=this;this.pie_g=this.d3el.append("g").attr("class","pie"),this.pie_g.append("g").attr("class","slices"),this.pie_g.append("g").attr("class","labels"),this.pie_g.append("g").attr("class","lines");var n=this.model.get("radius"),r=this.model.get("inner_radius");return"outside"===this.model.get("display_labels")?(this.arc=i.svg.arc().outerRadius(.8*n).innerRadius(.8*r),this.outer_arc=i.svg.arc().innerRadius(.9*n).outerRadius(.9*n)):this.arc=i.svg.arc().outerRadius(n).innerRadius(r),this.displayed.then(function(){e.parent.tooltip_div.node().appendChild(e.tooltip_div.node()),e.create_tooltip()}),this.join_key=function(t){return t.data.label},t.then(function(){e.event_listeners={},e.process_interactions(),e.create_listeners(),e.compute_view_padding(),e.draw()},null)},set_ranges:function(){var t=this.scales.x;t&&(t.set_range(this.parent.padded_range("x",t.model)),this.x_offset=t.offset);var e=this.scales.y;e&&(e.set_range(this.parent.padded_range("y",e.model)),this.y_offset=e.offset)},set_positional_scales:function(){var t=this.scales.x?this.scales.x:this.parent.scale_x,e=this.scales.y?this.scales.y:this.parent.scale_y,n=this;this.listenTo(t,"domain_changed",function(){n.model.dirty||n.draw()}),this.listenTo(e,"domain_changed",function(){n.model.dirty||n.draw()})},create_listeners:function(){a.__super__.create_listeners.apply(this),this.d3el.on("mouseover",s.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",s.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",s.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"data_updated",function(){this.draw(!0)},this),this.listenTo(this.model,"change:colors",this.update_colors,this),this.listenTo(this.model,"colors_updated",this.update_colors,this),this.model.on_some_change(["inner_radius","radius"],function(){this.compute_view_padding();this.update_radii(!0)},this),this.model.on_some_change(["stroke","opacities"],this.update_stroke_and_opacities,this),this.model.on_some_change(["x","y"],this.position_center,this),this.model.on_some_change(["display_labels","label_color","font_size","font_weight"],this.update_labels,this),this.model.on_some_change(["start_angle","end_angle","sort"],function(){this.draw(!0)},this),this.model.on_some_change(["display_values","values_format"],this.update_values,this),this.listenTo(this.model,"labels_updated",this.update_values,this),this.listenTo(this.model,"change:selected",function(){this.selected_indices=this.model.get("selected"),this.apply_styles()},this),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")})},process_interactions:function(){var t=this.model.get("interactions");s.isEmpty(t)?this.reset_interactions():(void 0!==t.click&&null!==t.click?"tooltip"===t.click?(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"select"===t.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.element_clicked=this.click_handler):this.reset_click(),void 0!==t.hover&&null!==t.hover?"tooltip"===t.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover(),void 0!==t.legend_click&&null!==t.legend_click?"tooltip"===t.legend_click&&(this.event_listeners.legend_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):this.event_listeners.legend_clicked=function(){},void 0!==t.legend_hover&&null!==t.legend_hover?"highlight_axes"===t.legend_hover&&(this.event_listeners.legend_mouse_over=s.bind(this.highlight_axes,this),this.event_listeners.legend_mouse_out=s.bind(this.unhighlight_axes,this)):this.reset_legend_hover())},relayout:function(){this.set_ranges(),this.position_center(),this.update_radii()},position_center:function(t){var e=!0===t?this.parent.model.get("animation_duration"):0,n=this.scales.x?this.scales.x:this.parent.scale_x,i=this.scales.y?this.scales.y:this.parent.scale_y,r="date"===n.model.type?this.model.get_date_elem("x"):this.model.get("x"),o="date"===i.model.type?this.model.get_date_elem("y"):this.model.get("y"),s="translate("+(n.scale(r)+n.offset)+", "+(i.scale(o)+i.offset)+")";this.pie_g.transition("position_center").duration(e).attr("transform",s)},update_radii:function(t){var e=!0===t?this.parent.model.get("animation_duration"):0,n=this.model.get("radius"),i=this.model.get("inner_radius"),r=this.model.get("display_labels");"inside"===r?this.arc.outerRadius(n).innerRadius(i):"outside"===r&&(this.arc.outerRadius(.8*n).innerRadius(.8*i),this.outer_arc.innerRadius(.9*n).outerRadius(.9*n));var o=this.pie_g.select(".slices"),s=this.pie_g.select(".labels"),a=this.pie_g.select(".lines"),l=this;o.selectAll("path.slice").transition("update_radii").duration(e).attr("d",this.arc),"inside"===r?s.selectAll("text").transition("update_radii").duration(e).attr("transform",function(t){return"translate("+l.arc.centroid(t)+")"}):"outside"===r&&(s.selectAll("text").transition("update_radii").duration(e).attr("transform",function(t){var e=l.outer_arc.centroid(t);return e[0]=n*(l.is_mid_angle_left(t)?-1:1),"translate("+e+")"}),a.selectAll("polyline").transition("update_radii").duration(e).attr("points",function(t){var e=l.outer_arc.centroid(t);return e[0]=.95*n*(l.is_mid_angle_left(t)?-1:1),[l.arc.centroid(t),l.outer_arc.centroid(t),e]}))},outer_join:function(t,e){var n=i.set(t.concat(e).map(function(t){return t.label})).values().sort(),r={};t.forEach(function(t){r[t.label]=t});var s={};e.forEach(function(t){s[t.label]=t});var a=[],l=[];return n.forEach(function(t){var e;t in r?a.push(r[t]):((e=o.deepCopy(s[t])).size=0,a.push(e));t in s?l.push(s[t]):((e=o.deepCopy(r[t])).size=0,l.push(e))}),{first:a,second:l}},is_mid_angle_left:function(t){var e=(t.startAngle+t.endAngle)/2;return e>Math.PI||e<0&&e>-Math.PI},draw:function(t){this.set_ranges(),this.position_center(t);var e=this.model.mark_data,n=this.pie_g.select(".slices").selectAll("path.slice").data().map(function(t){return t.data});0===n.length&&(n=e);var r=this.outer_join(n,e),o=r.first,s=r.second,a=i.layout.pie().startAngle(2*this.model.get("start_angle")*Math.PI/360).endAngle(2*this.model.get("end_angle")*Math.PI/360).value(function(t){return t.size});this.model.get("sort")||a.sort(null);var l=this,u=!0===t?this.parent.model.get("animation_duration"):0,c=this.pie_g.select(".slices").selectAll("path.slice").data(a(o),this.join_key);c.enter().insert("path").attr("class","slice").style("fill",function(t,e){return l.get_colors(e)}).each(function(t){this._current=t}),(c=this.pie_g.select(".slices").selectAll("path.slice").data(a(s),this.join_key)).transition("draw").duration(u).attrTween("d",function(t){var e=i.interpolate(this._current,t),n=this;return function(t){return n._current=e(t),l.arc(n._current)}}),(c=this.pie_g.select(".slices").selectAll("path.slice").data(a(e),this.join_key)).exit().transition("draw").delay(u).duration(0).remove();var h=this.pie_g.select(".labels").selectAll("text").data(a(o),this.join_key);h.enter().append("text").attr("dy",".35em").style("opacity",0).text(function(t){return t.data.label}).each(function(t){this._current=t});var d=(h=this.pie_g.select(".labels").selectAll("text").data(a(s),this.join_key)).transition("draw").duration(u).style("opacity",function(t){return 0===t.data.value?0:1}),f=this.model.get("display_labels");if("inside"===f?d.attr("transform",function(t){return"translate("+l.arc.centroid(t)+")"}).style("text-anchor","middle"):"outside"===f&&d.attrTween("transform",function(t){var e=i.interpolate(this._current,t),n=this;return function(t){var i=e(t);n._current=i;var r=l.outer_arc.centroid(i);return r[0]=l.model.get("radius")*(l.is_mid_angle_left(i)?-1:1),"translate("+r+")"}}).styleTween("text-anchor",function(t){var e=i.interpolate(this._current,t);return function(t){var n=e(t);return l.is_mid_angle_left(n)?"end":"start"}}),(h=this.pie_g.select(".labels").selectAll("text").data(a(e),this.join_key)).exit().transition("draw").delay(u).remove(),"outside"===f){var p=this.pie_g.select(".lines").selectAll("polyline").data(a(o),this.join_key);p.enter().append("polyline").style("opacity",0).each(function(t){this._current=t}),(p=this.pie_g.select(".lines").selectAll("polyline").data(a(s),this.join_key)).transition("draw").duration(u).style("opacity",function(t){return 0===t.data.value?0:.5}).attrTween("points",function(t){this._current=this._current;var e=i.interpolate(this._current,t),n=this;return function(t){var i=e(t);n._current=i;var r=l.outer_arc.centroid(i);return r[0]=.95*l.model.get("radius")*(l.is_mid_angle_left(i)?-1:1),[l.arc.centroid(i),l.outer_arc.centroid(i),r]}}),(p=this.pie_g.select(".lines").selectAll("polyline").data(a(e),this.join_key)).exit().transition("draw").delay(u).remove()}c.order(),c.on("click",function(t,e){return l.event_dispatcher("element_clicked",{data:t,index:e})}),this.update_labels(),this.update_values(),this.apply_styles()},update_stroke_and_opacities:function(){var t=this.model.get("stroke"),e=this.model.get("opacities");this.pie_g.selectAll("path.slice").style("stroke",t).style("opacity",function(t,n){return e[n]})},update_colors:function(){var t=this,e=this.scales.color;this.pie_g.select(".slices").selectAll("path.slice").style("fill",function(n,i){return void 0!==n.data.color&&void 0!==e?e.scale(n.data.color):t.get_colors(n.data.index)})},update_labels:function(){var t=this.model.get("display_labels"),e=this.pie_g.selectAll(".labels text").style("visibility","none"===t?"hidden":"visible").style("font-weight",this.model.get("font_weight")).style("font-size",this.model.get("font_size")),n=this.model.get("label_color");void 0!==n&&e.style("fill",n)},update_values:function(){var t=this.model.get("display_values"),e=i.format(this.model.get("values_format"));this.pie_g.selectAll(".labels text").text(function(n){return n.data.label+(t?": "+e(n.data.size):"")})},clear_style:function(t,e){var n=this.pie_g.selectAll("path.slice");e&&(n=n.filter(function(t,n){return-1!==e.indexOf(n)}));var i={};for(var r in t)i[r]=null;n.style(i)},set_style_on_elements:function(t,e){if(null!=e&&0!==e.length){var n=this.pie_g.selectAll(".slice");(n=n.filter(function(t,n){return-1!==e.indexOf(n)})).style(t)}},set_default_style:function(t){this.update_colors(),this.update_stroke_and_opacities()},click_handler:function(t){t.data;var e=t.index,n=this.model.get("selected"),r=n?o.deepCopy(n):[],a=r.indexOf(e),l=i.event.ctrlKey||i.event.metaKey;if(a>-1&&l)r.splice(a,1);else{if(i.event.shiftKey){if(a>-1)return;var u=0!==r.length?i.min(r):-1,c=0!==r.length?i.max(r):this.model.mark_data.length;e>c?s.range(c+1,e).forEach(function(t){r.push(t)}):e<u&&s.range(e+1,u).forEach(function(t){r.push(t)})}else l||(r=[]);r.push(e)}this.model.set("selected",0===r.length?null:r,{updated_view:this}),this.touch(),i.event||(i.event=window.event);var h=i.event;void 0!==h.cancelBubble&&(h.cancelBubble=!0),h.stopPropagation&&h.stopPropagation(),h.preventDefault(),this.selected_indices=r,this.apply_styles()},reset_selection:function(){this.model.set("selected",null),this.touch(),this.selected_indices=null,this.clear_style(this.selected_style),this.clear_style(this.unselected_style),this.set_default_style()},compute_view_padding:function(){var t=this.model.get("scales"),e=i.max([this.model.get("radius"),this.model.get("inner_radius")]),n=t.x?e+1:0,r=t.y?e+1:0;n===this.x_padding&&r===this.y_padding||(this.x_padding=n,this.y_padding=r,this.trigger("mark_padding_updated"))}});t.exports={Pie:a}},function(t,e,n){var i=n(1),r=n(0),o=n(67).LinearScaleModel.extend({initialize:function(){o.__super__.initialize.apply(this,arguments)},set_init_state:function(){this.type="color_linear",this.divergent=!1},set_listeners:function(){o.__super__.set_listeners.apply(this,arguments),this.on("change:mid",this.mid_changed,this),this.mid_changed()},mid_changed:function(){this.mid=this.get("mid"),this.update_domain()},update_domain:function(){var t=this,e=this.divergent?2:1,n=this.min_from_data?i.min(r.map(this.domains,function(e){return e.length>0?e[0]:t.global_max})):this.min,o=this.max_from_data?i.max(r.map(this.domains,function(n){return n.length>e?n[e]:n.length>1?n[1]:t.global_min})):this.max,s=this.domain;if(n!=s[0]||o!=s[e]){if(this.divergent){var a=void 0===this.mid||null===this.mid?(n+o)/2:this.mid;this.domain=this.reverse?[o,a,n]:[n,a,o]}else this.domain=this.reverse?[o,n]:[n,o];this.trigger("domain_changed",this.domain)}}});t.exports={ColorScaleModel:o}},function(t,e,n){var i=n(1),r=n(0),o=n(17),s=o.MarkModel.extend({defaults:function(){return r.extend(o.MarkModel.prototype.defaults(),{_model_name:"PieModel",_view_name:"Pie",sizes:[],color:null,x:.5,y:.5,scales_metadata:{color:{dimension:"color"}},sort:!1,colors:i.scale.category10().range(),stroke:null,opacities:[],radius:180,inner_radius:.1,start_angle:0,end_angle:360})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.on("change:sizes",this.update_data,this),this.on("change:color",function(){this.update_color(),this.trigger("colors_updated")},this),this.on("change:labels",this.update_labels,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data(),this.update_color(),this.update_labels(),this.update_domains()},update_data:function(){var t=this.get_typed_field("sizes"),e=this.get_typed_field("color"),n=this.get("labels");this.mark_data=t.map(function(t,i){return{size:t,color:e[i],label:null==n[i]?"S"+(i+1):n[i],index:i}}),this.update_color(),this.update_domains(),this.trigger("data_updated")},update_labels:function(){if(this.mark_data){var t=this.get("labels");this.mark_data.forEach(function(e,n){e.label=null==t[n]?"S"+(n+1):t[n]}),this.trigger("labels_updated")}},update_color:function(){if(this.mark_data){var t=this.get_typed_field("color"),e=this.get("scales").color;e&&(this.get("preserve_domain").color?e.del_domain([],this.model_id+"_color"):e.compute_and_set_domain(t,this.model_id+"_color"))}},update_domains:function(){if(this.mark_data){var t=this.get("scales"),e=t.x,n=t.y;if(e){var i="date"===e.type?this.get_date_elem("x"):this.get("x");this.get("preserve_domain").x?e.del_domain([],this.model_id+"_x"):e.compute_and_set_domain([i],this.model_id+"_x")}n&&(this.get("preserve_domain").y?n.del_domain([],this.model_id+"_y"):n.compute_and_set_domain([this.get("y")],this.model_id+"_y"))}},get_data_dict:function(t,e){return t.data}});t.exports={PieModel:s}},function(t,e,n){var i=n(1),r=(n(0),n(180)),o=n(65),s=r.ColorScale.extend({render:function(){this.scale=i.time.scale(),this.model.domain.length>0&&this.scale.domain(this.model.domain),this.offset=0,0===this.model.get("colors").length?this.divergent=this.model.divergent=o.is_divergent(this.model.get("scheme")):this.divergent=this.model.divergent=this.model.get("colors").length>2,this.set_range(),this.listenTo(this.model,"domain_changed",this.model_domain_changed,this),this.model.on_some_change(["colors","scheme"],this.colors_changed,this)}});t.exports={DateColorScale:s}},function(t,e,n){var i=n(1),r=n(0),o=n(181),s=o.DateScaleModel.extend({defaults:function(){return r.extend(o.DateScaleModel.prototype.defaults(),{_model_name:"DateColorScaleModel",_view_name:"DateColorScale"})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.type="date_color_linear",this.divergent=!1,this.on("change:mid",this.mid_changed,this),this.mid_changed()},mid_changed:function(){this.mid=this.get("mid"),this.update_domain()},update_domain:function(){var t=this,e=this.divergent?2:1,n=this.min_from_data?i.min(r.map(this.domains,function(e){return e.length>0?e[0]:t.global_max})):this.min,o=this.max_from_data?i.max(r.map(this.domains,function(n){return n.length>e?n[e]:n.length>1?n[1]:t.global_min})):this.max,s=this.domain;if(n!=s[0]||o!=s[e]){if(this.divergent){var a=new Date;a.setTime(n.getTime()+Math.abs(o-n)/2),this.domain=this.reverse?[o,a,n]:[n,a,o]}else this.domain=this.reverse?[o,n]:[n,o];this.trigger("domain_changed",this.domain)}}});t.exports={DateColorScaleModel:s}},function(t,e,n){var i=n(1),r=(n(0),n(97).LinearScale.extend({render:function(){this.scale=i.time.scale(),this.model.domain.length>0&&this.scale.domain(this.model.domain),this.offset=0,this.create_event_listeners()}}));t.exports={DateScale:r}},function(t,e,n){var i=n(177),r=n(98),o=n(1),s=r.symbol,a=i.ScatterBase.extend({render:function(){return this.dot=s().type(this.model.get("marker")).size(this.model.get("default_size")).skew(this.model.get("default_skew")),a.__super__.render.apply(this)},create_listeners:function(){a.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:colors",this.update_colors,this),this.listenTo(this.model,"change:stroke",this.update_stroke,this),this.listenTo(this.model,"change:stroke_width",this.update_stroke_width,this),this.listenTo(this.model,"change:default_opacities",this.update_default_opacities,this),this.listenTo(this.model,"change:default_skew",this.update_default_skew,this),this.listenTo(this.model,"change:default_rotation",this.update_xy_position,this),this.listenTo(this.model,"change:marker",this.update_marker,this),this.listenTo(this.model,"change:default_size",this.update_default_size,this),this.listenTo(this.model,"change:fill",this.update_fill,this),this.listenTo(this.model,"change:display_names",this.update_names,this)},update_colors:function(t,e){if(!this.model.dirty){var n=this,i=this.model.get("stroke"),r=e.length;this.d3el.selectAll(".dot").style("fill",this.model.get("fill")?function(t,e){return n.get_element_color(t,e)}:"none").style("stroke",i||function(t,e){return n.get_element_color(t,e)}),this.legend_el&&(this.legend_el.select("path").style("fill",function(t,n){return e[n%r]}).style("stroke",i||function(t,n){return e[n%r]}),this.legend_el.select("text").style("fill",this.model.get("fill")?function(t,n){return e[n%r]}:"none"))}},update_fill:function(t,e){var n=this,i=this.model.get("colors"),r=i.length;this.d3el.selectAll(".dot").style("fill",e?function(t,e){return n.get_element_color(t,e)}:"none"),this.legend_el&&this.legend_el.selectAll("path").style("fill",e?function(t,e){return i[e%r]}:"none")},update_stroke_width:function(){var t=this.model.get("stroke_width");this.d3el.selectAll(".dot").style("stroke-width",t),this.legend_el&&this.legend_el.selectAll("path").style("stroke-width",t)},update_stroke:function(t,e){var n=this,i=this.model.get("stroke");this.d3el.selectAll(".dot").style("stroke",i||function(t,e){return n.get_element_color(t,e)}),this.legend_el&&this.legend_el.selectAll("path").style("stroke",i)},update_default_opacities:function(t){if(!this.model.dirty){var e=this.model.get("default_opacities"),n=this.model.get("colors"),i=n.length,r=e.length,o=!0===t?this.parent.model.get("animation_duration"):0,s=this;this.d3el.selectAll(".dot").transition("update_default_opacities").duration(o).style("opacity",function(t,e){return s.get_element_opacity(t,e)}),this.legend_el&&this.legend_el.select("path").style("opacity",function(t,n){return e[n%r]}).style("fill",function(t,e){return n[e%i]})}},update_marker:function(t,e){this.model.dirty||(this.d3el.selectAll(".dot").transition("update_marker").duration(this.parent.model.get("animation_duration")).attr("d",this.dot.type(e)),this.legend_el.select("path").attr("d",this.dot.type(e)))},update_default_skew:function(t){if(!this.model.dirty){var e=!0===t?this.parent.model.get("animation_duration"):0,n=this;this.d3el.selectAll(".dot").transition("update_default_skew").duration(e).attr("d",this.dot.skew(function(t){return n.get_element_skew(t)}))}},update_default_size:function(t){if(this.compute_view_padding(),!this.model.dirty){var e=!0===t?this.parent.model.get("animation_duration"):0,n=this;this.d3el.selectAll(".dot").transition("update_default_size").duration(e).attr("d",this.dot.size(function(t){return n.get_element_size(t)})),this.update_names(t)}},update_names:function(t){var e=this,n=this.model.get_typed_field("names"),i=this.model.get("display_names")&&0!==n.length,r=t?this.parent.model.get("animation_duration"):0;this.d3el.selectAll(".object_grp").select("text").text(function(t){return t.name}).transition("update_names").duration(r).attr("transform",function(t){var n=Math.sqrt(e.get_element_size(t))/2;return"translate("+n+","+-n+")"}).attr("display",function(t){return i?"inline":"none"})},color_scale_updated:function(t){var e=this,n=this.model.get("fill"),i=this.model.get("stroke"),r=!0===t?this.parent.model.get("animation_duration"):0;this.d3el.selectAll(".object_grp").select("path").transition("color_scale_updated").duration(r).style("fill",n?function(t,n){return e.get_element_color(t,n)}:"none").style("stroke",i||function(t,n){return e.get_element_color(t,n)})},draw_elements:function(t,e){var n=this,i=!0===t?this.parent.model.get("animation_duration"):0,r=this.d3el.selectAll(".object_grp");e.append("path").attr("class","dot element"),e.append("text").attr("class","dot_text"),r.select("path").transition("draw_elements").duration(i).attr("d",this.dot.size(function(t){return n.get_element_size(t)}).skew(function(t){return n.get_element_skew(t)})),this.update_names(t),this.apply_styles()},draw_legend_elements:function(t,e){var n=this.model.get("colors"),i=n.length,r=this.model.get("stroke");t.append("path").attr("transform",function(t,n){return"translate( "+e/2+", "+e/2+")"}).attr("d",this.dot.size(64)).style("fill",this.model.get("fill")?function(t,e){return n[e%i]}:"none").style("stroke",r||function(t,e){return n[e%i]})},set_default_style:function(t){if(t&&0!==t.length){var e=this.d3el.selectAll(".element").filter(function(e,n){return-1!==t.indexOf(n)}),n=this.model.get("fill"),i=this.model.get("stroke"),r=this.model.get("stroke_width"),o=this;e.style("fill",n?function(t,e){return o.get_element_color(t,e)}:"none").style("stroke",i||function(t,e){return o.get_element_color(t,e)}).style("opacity",function(t,e){return o.get_element_opacity(t,e)}).style("stroke-width",r)}},set_drag_style:function(t,e,n){o.select(n).select("path").classed("drag_scatter",!0).transition("set_drag_style").attr("d",this.dot.size(5*this.model.get("default_size")));var i=this.model.get("drag_color");i&&o.select(n).select("path").style("fill",i).style("stroke",i)},reset_drag_style:function(t,e,n){var i=this.model.get("stroke"),r=this.get_element_color(t,e);o.select(n).select("path").classed("drag_scatter",!1).transition("reset_drag_style").attr("d",this.dot.size(this.get_element_size(t))),this.model.get("drag_color")&&o.select(n).select("path").style("fill",r).style("stroke",i||r)}});t.exports={Scatter:a}},function(t,e,n){var i=n(1),r=n(0),o=n(17),s=o.MarkModel.extend({defaults:function(){return r.extend(o.MarkModel.prototype.defaults(),{_model_name:"LinesModel",_view_name:"Lines",x:[],y:[],color:null,scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"},color:{dimension:"color"}},colors:i.scale.category10().range(),fill_colors:i.scale.category10().range(),stroke_width:2,labels_visibility:"none",curves_subset:[],line_style:"solid",interpolation:"linear",close_path:!1,fill:"none",marker:null,marker_size:64,opacities:[],fill_opacities:[]})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.on_some_change(["x","y","color"],this.update_data,this),this.on("change:labels",this.update_labels,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data(),this.update_domains()},update_data:function(){this.dirty=!0;var t=this;this.x_data=this.get_typed_field("x"),this.y_data=this.get_typed_field("y"),this.color_data=this.get_typed_field("color");var e=this.get("scales"),n=(e.x,e.y,this.get("labels"));0===this.x_data.length||0===this.y_data.length?this.mark_data=[]:(this.x_data=this.x_data[0]instanceof Array?this.x_data:[this.x_data],this.y_data=this.y_data[0]instanceof Array?this.y_data:[this.y_data],n=this.get_labels(),1==this.x_data.length&&this.y_data.length>1?this.mark_data=n.map(function(e,n){return{name:e,values:t.y_data[n].map(function(e,n){return{x:t.x_data[0][n],y:e,sub_index:n}}),color:t.color_data[n],index:n}}):this.mark_data=n.map(function(e,n){return{name:e,values:i.zip(t.x_data[n],t.y_data[n]).map(function(t,e){return{x:t[0],y:t[1],sub_index:e}}),color:t.color_data[n],index:n}})),this.update_domains(),this.dirty=!1,this.trigger("data_updated")},update_labels:function(){var t=this.get_labels();this.mark_data.forEach(function(e,n){e.name=t[n]}),this.trigger("labels_updated")},get_labels:function(){var t=this.get("labels"),e=1==this.x_data.length?this.y_data.length:Math.min(this.x_data.length,this.y_data.length);return t.length>e?t=t.slice(0,e):t.length<e&&r.range(t.length,e).forEach(function(e){t[e]="C"+(e+1)}),t},update_domains:function(){if(this.mark_data){var t=this.get("scales"),e=t.x,n=t.y,i=t.color;this.get("preserve_domain").x?e.del_domain([],this.model_id+"_x"):e.compute_and_set_domain(this.mark_data.map(function(t){return t.values.map(function(t){return t.x})}),this.model_id+"_x"),this.get("preserve_domain").y?n.del_domain([],this.model_id+"_y"):n.compute_and_set_domain(this.mark_data.map(function(t){return t.values.map(function(t){return t.y})}),this.model_id+"_y"),null!=i&&(this.get("preserve_domain").color?i.del_domain([],this.model_id+"_color"):i.compute_and_set_domain(this.mark_data.map(function(t){return t.color}),this.model_id+"_color"))}},get_data_dict:function(t,e){return t}}),a=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"FlexLineModel",_view_name:"FlexLine",x:[],y:[],color:null,scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"},color:{dimension:"color"}},colors:i.scale.category10().range(),fill_colors:i.scale.category10().range(),stroke_width:2,labels_visibility:"none",curves_subset:[],line_style:"solid",interpolation:"linear",close_path:!1,fill:"none",marker:null,marker_size:64,opacities:[],fill_opacities:[]})},update_data:function(){this.dirty=!0;var t=this;this.x_data=this.get_typed_field("x"),this.y_data=this.get_typed_field("y");var e=this.get("scales"),n=(e.x,e.y,this.get("labels"));if(0===this.x_data.length||0===this.y_data.length)this.mark_data=[],this.data_len=0;else{this.x_data=this.x_data[0]instanceof Array?this.x_data:[this.x_data],this.y_data=this.y_data[0]instanceof Array?this.y_data:[this.y_data],n=this.get_labels();var i=this.get_typed_field("color"),o=this.get_typed_field("width");this.data_len=Math.min(this.x_data[0].length,this.y_data[0].length),this.mark_data=[{name:n[0],values:r.range(this.data_len-1).map(function(e,n){return{x1:t.x_data[0][n],y1:t.y_data[0][n],x2:t.x_data[0][n+1],y2:t.y_data[0][n+1],color:i[n],size:o[n]}})}]}this.update_domains(),this.dirty=!1,this.trigger("data_updated")},update_domains:function(){if(this.mark_data){var t=this.get("scales"),e=t.x,n=t.y,i=t.color,r=t.width;this.get("preserve_domain").x?e.del_domain([],this.model_id+"_x"):e.compute_and_set_domain(this.x_data[0].slice(0,this.data_len),this.model_id+"_x"),this.get("preserve_domain").y?n.del_domain([],this.model_id+"_y"):n.compute_and_set_domain(this.y_data[0].slice(0,this.data_len),this.model_id+"_y"),null!=i&&(this.get("preserve_domain").color?i.del_domain([],this.model_id+"_color"):i.compute_and_set_domain(this.mark_data.map(function(t){return t.values.map(function(t){return t.color})}),this.model_id+"_color")),null!=r&&(this.get("preserve_domain").width?r.del_domain([],this.model_id+"_width"):r.compute_and_set_domain(this.mark_data.map(function(t){return t.values.map(function(t){return t.size})}),this.model_id+"_width"))}}});t.exports={LinesModel:s,FlexLineModel:a}},function(t,e,n){n(1);var i=n(0),r=n(178),o=r.ScatterBaseModel.extend({defaults:function(){return i.extend(r.ScatterBaseModel.prototype.defaults(),{_model_name:"ScatterModel",_view_name:"Scatter",skew:null,marker:"circle",stroke:null,stroke_width:1.5,default_skew:.5,default_size:64,names:[],display_names:!0,fill:!0,drag_color:null,drag_size:5,names_unique:!0})},initialize:function(){o.__super__.initialize.apply(this,arguments),this.on("change:skew",this.update_data,this),this.on_some_change(["names","names_unique"],function(){this.update_unique_ids(),this.trigger("data_updated")},this)},update_mark_data:function(){o.__super__.update_mark_data.apply(this);var t=this.get_typed_field("skew");this.mark_data.forEach(function(e,n){e.skew=t[n]})},update_unique_ids:function(){var t=this.get_typed_field("names"),e=0!==t.length;t=e?t:this.mark_data.map(function(t,e){return"Dot"+e});var n=[];n=this.get("names_unique")?t.slice(0):i.range(this.mark_data.length),this.mark_data.forEach(function(e,i){e.name=t[i],e.unique_id=n[i]})}});t.exports={ScatterModel:o}},function(t,e,n){var i=n(0),r=n(1),o=n(48),s=(n(14),o.BaseXSelector.extend({render:function(){s.__super__.render.apply(this),this.freeze_but_move=!0,this.freeze_dont_move=!1,this.active=!1,this.size=this.model.get("size"),this.width=this.parent.width-this.parent.margin.left-this.parent.margin.right,this.height=this.parent.height-this.parent.margin.top-this.parent.margin.bottom;var t=this,e=this.create_scales();Promise.all([this.mark_views_promise,e]).then(function(){t.background=t.d3el.append("rect").attr("x",0).attr("y",0).attr("width",t.width).attr("height",t.height).attr("class","selector selectormouse").attr("pointer-events","all").attr("visibility","hidden"),t.background.on("mousemove",i.bind(t.mousemove,t)).on("click",i.bind(t.click,t)).on("dblclick",i.bind(t.dblclick,t)),t.rect=t.d3el.append("rect").attr("class","selector intsel").attr("x",0).attr("y",0).attr("width",t.size).attr("height",t.height).attr("pointer-events","none").attr("display","none"),null!==t.model.get("color")&&t.rect.style("fill",t.model.get("color")),t.create_listeners()})},create_listeners:function(){s.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:color",this.color_change,this)},color_change:function(){null!==this.model.get("color")&&this.rect.style("fill",this.model.get("color"))},click:function(){this.active=!0,this.rect.style("display","inline"),this.freeze_but_move=!!this.model.get("size")||!this.freeze_but_move},dblclick:function(){this.freeze_dont_move=!this.freeze_dont_move},mousemove:function(){if(!this.freeze_dont_move&&this.active){var t,e=r.mouse(this.background.node()),n=this.size>0?this.size:parseInt(this.rect.attr("width")),o=(this.height-e[1])/this.height,s=this.freeze_but_move?n:Math.round(o*this.width);t=e[0]-s/2<0?0:e[0]+s/2>this.width?this.width-s:e[0]-s/2,this.rect.attr("x",t),this.rect.attr("width",s),this.model.set_typed_field("selected",this.invert_range(t,t+s),{js_ignore:!0}),i.each(this.mark_views,function(e){e.invert_range(t,t+s)}),this.touch()}},invert_range:function(t,e){return this.scale.invert_range([t,e])},scale_changed:function(){this.reset(),this.create_scale()},relayout:function(){s.__super__.relayout.apply(this),this.background.attr("width",this.width).attr("height",this.height),this.rect.attr("height",this.height),this.set_range([this.scale])},reset:function(){this.rect.attr("x",0).attr("width",0),this.model.set_typed_field("selected",[],{js_ignore:!0}),i.each(this.mark_views,function(t){t.invert_range([])}),this.touch()},update_scale_domain:function(t){s.__super__.update_scale_domain.apply(this),!0!==t&&this.selected_changed()},selected_changed:function(t,e,n){if(!n||!n.js_ignore){var r=this.model.get_typed_field("selected");if(0===r.length)this.reset();else{if(2!=r.length)return;var o=this,s=r.map(function(t){return o.scale.scale(t)});s=s.sort(function(t,e){return t-e}),this.rect.attr({x:s[0],width:s[1]-s[0]}).style("display","inline"),this.active=!0,i.each(this.mark_views,function(t){t.invert_range(s[0],s[1])})}}}}));t.exports={FastIntervalSelector:s}},function(t,e,n){var i=n(1),r=n(97).LinearScale.extend({render:function(){this.scale=i.scale.log(),this.model.domain.length>0&&this.scale.domain(this.model.domain),this.offset=0,this.create_event_listeners()}});t.exports={LogScale:r}},function(t,e,n){n(1);var i=n(0),r=n(67),o=r.LinearScaleModel.extend({defaults:function(){return i.extend(r.LinearScaleModel.prototype.defaults(),{_model_name:"LogScaleModel",_view_name:"LogScale",domain:[]})},initialize:function(){o.__super__.initialize.apply(this,arguments)},set_init_state:function(){this.type="log",this.global_min=Number.MIN_VALUE,this.global_max=Number.POSITIVE_INFINITY}});t.exports={LogScaleModel:o}},function(t,e,n){var i=n(2),r=(n(0),n(1)),o=i.DOMWidgetView.extend({render:function(){this.width=this.model.get("width"),this.height=this.model.get("height"),this.margin=this.model.get("margin"),this.el.style.width=this.width+this.margin.left+this.margin.right,this.el.style.height=this.height+this.margin.top+this.margin.bottom;var t=this.model.get("data");this.colors=this.model.get("colors"),this.mode=this.model.get("mode");var e=r.scale.category10();this.d3el.append("div").style("position","relative").style("width",this.width+this.margin.left+this.margin.right+"px").style("height",this.height+this.margin.top+this.margin.bottom+"px").style("left",this.margin.left+"px").style("top",this.margin.top+"px"),this.margin=this.model.get("margin"),this.tree_map=r.layout.treemap().size([this.width,this.height]).sticky(!0).padding(null).mode(this.mode).value(function(t){return t.size});this.d3el.datum(t).selectAll(".node").data(this.tree_map.nodes).enter().append("div").attr("class","node").call(this.position).style({background:function(t,n){return t.children?e(t.name):null},border:"solid white"}).text(function(t){return t.children?null:t.name}).style({font:"11px sans-serif",position:"absolute","text-align":"center",overflow:"hidden",color:"white"})},position:function(){this.style("left",function(t){return t.x+"px"}).style("top",function(t){return t.y+"px"}).style("width",function(t){return Math.max(0,t.dx-1)+"px"}).style("height",function(t){return Math.max(0,t.dy-1)+"px"})}});t.exports={SquareMarketMap:o}},function(t,e,n){var i=n(2),r=(n(1),n(0)),o=n(27),s="^"+n(18).version,a=o.BaseModel.extend({defaults:function(){return r.extend(o.BaseModel.prototype.defaults(),{_model_name:"FigureModel",_view_name:"Figure",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:s,_view_module_version:s,title:"",axes:[],marks:[],interaction:null,scale_x:void 0,scale_y:void 0,fig_color:null,title_style:{},background_style:{},legend_style:{},legend_text:{},min_width:"",min_height:"",preserve_aspect:!1,min_aspect_ratio:1,max_aspect_ratio:16/9,fig_margin:{top:60,bottom:60,left:60,right:60},padding_x:0,padding_y:.025,legend_location:"top-right",animation_duration:0})},save_png:function(){this.trigger("save_png")}},{serializers:r.extend({marks:{deserialize:i.unpack_models},axes:{deserialize:i.unpack_models},interaction:{deserialize:i.unpack_models},scale_x:{deserialize:i.unpack_models},scale_y:{deserialize:i.unpack_models},layout:{deserialize:i.unpack_models}},o.BaseModel.serializers)});t.exports={FigureModel:a}},function(t,e,n){var i=n(2),r=n(1),o=n(0),s=n(14),a=n(9),l=s.Mark.extend({render:function(){var t=l.__super__.render.apply(this);this.map=this.d3el.append("svg").attr("viewBox","0 0 1200 980"),this.width=this.parent.plotarea_width,this.height=this.parent.plotarea_height,this.map_id=i.uuid(),this.enable_hover=this.model.get("enable_hover"),this.display_el_classes=["event_layer"];var e=this;return this.displayed.then(function(){e.parent.tooltip_div.node().appendChild(e.tooltip_div.node()),e.create_tooltip()}),t.then(function(){e.event_listeners={},e.process_interactions(),e.create_listeners(),e.draw()})},set_ranges:function(){},set_positional_scales:function(){var t=this.scales.projection;this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()})},initialize_additional_scales:function(){var t=this.scales.color;t&&(this.listenTo(t,"domain_changed",function(){this.update_style()}),t.on("color_scale_range_changed",this.update_style,this))},remove_map:function(){r.selectAll(".world_map.map"+this.map_id).remove()},draw:function(){this.set_ranges();var t=this;this.remove_map(),this.transformed_g=this.map.append("g").attr("class","world_map map"+this.map_id),this.fill_g=this.transformed_g.append("g"),this.highlight_g=this.transformed_g.append("g"),this.stroke_g=this.transformed_g.append("g");var e=this.scales.projection;this.fill_g.selectAll("path").data(t.model.geodata).enter().append("path").attr("d",e.path).style("fill",function(e,n){return t.fill_g_colorfill(e,n)}),this.stroke_g.selectAll("path").data(t.model.geodata).enter().append("path").attr("class","event_layer").attr("d",e.path).style("fill-opacity",0).on("click",function(e,n){return t.event_dispatcher("element_clicked",{data:e,index:n})}),this.validate_color(this.model.get("stroke_color"))&&this.stroke_g.selectAll("path").style("stroke",this.model.get("stroke_color")),this.zoom=r.behavior.zoom().scaleExtent([1,8]).on("zoom",function(){t.zoomed(t,!1)}),this.parent.bg.call(this.zoom),this.parent.bg.on("dblclick.zoom",null),this.parent.bg.on("dblclick",function(){t.zoomed(t,!0)})},validate_color:function(t){return""!==t},mouseover_handler:function(){if(this.model.get("hover_highlight")){var t=r.select(r.event.target);if(this.is_hover_element(t)){var e=t.data()[0],n=this.model.get("selected"),i=n?a.deepCopy(n):[],o=this.highlight_g.append(function(){return t.node().cloneNode(!0)});o.classed("hovered",!0),o.classed("event_layer",!1),this.validate_color(this.model.get("hovered_styles").hovered_stroke)&&-1===i.indexOf(e.id)&&o.style("stroke",this.model.get("hovered_styles").hovered_stroke).style("stroke-width",this.model.get("hovered_styles").hovered_stroke_width);var s=this;this.validate_color(this.model.get("hovered_styles").hovered_fill)&&-1===i.indexOf(e.id)&&o.style("fill-opacity",1).style("fill",function(){return s.model.get("hovered_styles").hovered_fill})}}},mouseout_handler:function(){if(this.model.get("hover_highlight")){var t=r.select(r.event.target);if(this.is_hover_element(t)){var e=this;t.transition("mouseout_handler").style("fill",function(t,n){return e.fill_g_colorfill(t,n)}).style("stroke",function(t,n){return e.hoverfill(t,n)}),e.highlight_g.selectAll(".hovered").remove()}}},click_handler:function(){var t=r.select(r.event.target);if(this.is_hover_element(t)){var e=t.data()[0],n=this.model.get("selected"),i=n?a.deepCopy(n):[],o=i.indexOf(e.id);if(o>-1){i.splice(o,1),t.transition("click_handler").style("fill-opacity",0),this.highlight_g.selectAll(".hovered").remove();var s="#c".concat(e.id.toString());r.select(s).remove()}else this.highlight_g.selectAll(".hovered").remove(),this.highlight_g.append(function(){return t.node().cloneNode(!0)}).attr("id","c"+e.id).classed("selected",!0).classed("event_layer",!1),this.validate_color(this.model.get("selected_styles").selected_fill)&&this.highlight_g.selectAll(".selected").style("fill-opacity",1).style("fill",this.model.get("selected_styles").selected_fill),this.validate_color(this.model.get("selected_styles").selected_stroke)&&this.highlight_g.selectAll(".selected").style("stroke",this.model.get("selected_styles").selected_stroke).style("stroke-width",this.model.get("selected_styles").selected_stroke_width),i.push(e.id),this.model.set("selected",i),this.touch();this.model.set("selected",0===i.length?null:i,{updated_view:this}),this.touch()}},zoomed:function(t,e){var n=e?[0,0]:r.event.translate,i=e?1:r.event.scale,o=t.height/3,s=e?t.width:2*t.width;n[0]=Math.min(t.width/2*(i-1),Math.max(s/2*(1-i),n[0])),n[1]=Math.min(t.height/2*(i-1)+this.height*i,Math.max(o/2*(1-i)-t.width*i,n[1])),t.zoom.translate(n),e&&t.zoom.scale(i),t.transformed_g.style("stroke-width",1/i).attr("transform","translate("+n+")scale("+i+")")},create_listeners:function(){var t=this;this.d3el.on("mouseover",o.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",o.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",o.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"data_updated",this.draw,this),this.listenTo(this.model,"change:color",this.update_style,this),this.listenTo(this.model,"change:stroke_color",this.change_stroke_color,this),this.listenTo(this.model,"change:colors",this.change_map_color,this),this.listenTo(this.model,"change:selected",this.change_selected,this),this.listenTo(this.model,"change:selected_styles",function(){t.change_selected_fill(),t.change_selected_stroke()}),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")})},process_interactions:function(){var t=this.model.get("interactions");o.isEmpty(t)?this.reset_interactions():(void 0!==t.click&&null!==t.click?"tooltip"===t.click?(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"select"===t.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.element_clicked=this.click_handler):this.reset_click(),void 0!==t.hover&&null!==t.hover?"tooltip"===t.hover&&(this.event_listeners.mouse_over=function(){return this.mouseover_handler(),this.refresh_tooltip()},this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=function(){return this.mouseout_handler(),this.hide_tooltip()}):this.reset_hover(),void 0!==t.legend_click&&null!==t.legend_click?"tooltip"===t.legend_click&&(this.event_listeners.legend_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):this.event_listeners.legend_clicked=function(){})},change_selected_fill:function(){this.validate_color(this.model.get("selected_styles").selected_fill)?this.highlight_g.selectAll(".selected").style("fill-opacity",1).style("fill",this.model.get("selected_styles").selected_fill):this.highlight_g.selectAll(".selected").style("fill-opacity",0)},change_selected_stroke:function(){this.validate_color(this.model.get("selected_styles").selected_stroke)?this.highlight_g.selectAll(".selected").style("stroke-width",this.model.get("selected_styles").selected_stroke_width).style("stroke",this.model.get("selected_styles").selected_stroke):this.highlight_g.selectAll(".selected").style("stroke-width",0)},change_selected:function(){this.highlight_g.selectAll("path").remove();var t=this,e=this.model.get("selected"),n=e||[],i=this.stroke_g.selectAll("path").data();this.stroke_g.selectAll("path").style("stroke",function(e,n){return t.hoverfill(e,n)});for(var r=this.stroke_g.selectAll("path"),o=0;o<i.length;o++)n.indexOf(i[o].id)>-1&&t.highlight_g.append(function(){return r[0][o].cloneNode(!0)}).attr("id",i[o].id).style("fill-opacity",function(){return t.validate_color(t.model.get("selected_styles").selected_fill)?1:0}).style("fill",t.model.get("selected_styles").selected_fill).style("stroke-opacity",function(){return t.validate_color(t.model.get("selected_styles").selected_stroke)?1:0}).style("stroke",t.model.get("selected_styles").selected_stroke).style("stroke-width",t.model.get("selected_styles").selected_stroke_width).classed("selected",!0)},reset_selection:function(){this.model.set("selected",[]),this.touch(),this.highlight_g.selectAll(".selected").remove(),r.select(this.d3el.parentNode).selectAll("path").classed("selected",!1),r.select(this.d3el.parentNode).selectAll("path").classed("hovered",!1);var t=this;this.stroke_g.selectAll("path").style("stroke",function(e,n){return t.hoverfill(e,n)}),this.fill_g.selectAll("path").classed("selected",!1).style("fill",function(e,n){return t.fill_g_colorfill(e,n)})},change_stroke_color:function(){this.stroke_g.selectAll("path").style("stroke",this.model.get("stroke_color"))},change_map_color:function(){var t=this;this.is_object_empty(this.model.get("color"))&&this.fill_g.selectAll("path").style("fill",function(e,n){return t.fill_g_colorfill(e,n)})},update_style:function(){var t=this.model.get("color"),e=this;this.is_object_empty(t)||this.fill_g.selectAll("path").style("fill",function(t,n){return e.fill_g_colorfill(t,n)})},is_object_empty:function(t){var e=!0;for(var n in t){e=!1;break}return e},hoverfill:function(t,e){var n=this.model.get("selected");return(n||[]).indexOf(t.id)>-1&&this.validate_color(this.model.get("selected_styles").selected_stroke)?this.model.get("selected_styles").selected_stroke:this.model.get("stroke_color")},fill_g_colorfill:function(t,e){var n=this.scales.color,i=this.model.get("selected"),r=i||[],o=this.model.get("color"),s=this.model.get("colors");return r.indexOf(t.id)>-1?this.model.get("selected_styles").selected_fill:this.is_object_empty(o)?s[t.id]||s.default_color:void 0===o[t.id]||null===o[t.id]||"nan"===o[t.id]||void 0===n?s.default_color:n.scale(o[t.id])}});t.exports={Map:l}},function(t,e,n){var i=n(2),r=n(1),o=n(9),s=n(0),a=i.DOMWidgetView.extend({initialize:function(){this.d3el=r.select(this.el),a.__super__.initialize.apply(this,arguments)},render:function(){this.parent=this.options.parent,this.update_formats(),this.create_listeners(),this.create_table()},create_listeners:function(){this.listenTo(this.parent,"update_tooltip",this.update_tooltip),this.model.on_some_change(["fields","show_labels","labels"],this.create_table,this),this.listenTo(this.model,"change:formats",this.update_formats)},update_formats:function(){var t=this.model.get("fields"),e=this.model.get("formats");this.tooltip_formats=t.map(function(t,n){var i=e[n];return void 0===i||""===i?function(t){return t}:o.is_valid_time_format(i)?r.time.format(i):r.format(i)})},update_tooltip:function(t){var e=this;this.d3el.select("table").selectAll("tr").select(".datavalue").text(function(n,i){return e.tooltip_formats[i](t[n])})},create_table:function(){for(var t=this.model.get("fields"),e=s.clone(this.model.get("labels")),n=e.length;n<t.length;n++)e[n]=t[n];this.d3el.select("table").remove();var i=this.d3el.append("table").selectAll("tr").data(t);i.exit().remove();var r=i.enter().append("tr").attr("class","datarow");this.model.get("show_labels")&&r.append("td").text(function(t,n){return e[n]}).attr("class","tooltiptext datafield"),r.append("td").attr("class","tooltiptext datavalue"),this.update_formats()}});t.exports={Tooltip:a}},function(t,e,n){var i=n(2),r=n(0),o="^"+n(18).version,s=i.DOMWidgetModel.extend({defaults:function(){return r.extend(i.DOMWidgetModel.prototype.defaults(),{_model_name:"TooltipModel",_view_name:"Tooltip",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:o,_view_module_version:o,fields:[],formats:[],show_labels:!0,labels:[]})}});t.exports={TooltipModel:s}},function(t,e,n){var i=n(1),r=n(0),o=n(182),s=o.Lines.extend({render:function(){var t=o.Lines.__super__.render.apply(this),e=this;return t.then(function(){e.scales.x,e.scales.y;e.create_listeners(),e.draw()})},set_ranges:function(){s.__super__.set_ranges.apply(this);var t=this.scales.width;t&&t.set_range([.5,this.model.get("stroke_width")])},create_listeners:function(){s.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:colors",this.update_colors,this),this.listenTo(this.model,"change:labels_visibility",this.update_legend_labels,this),this.listenTo(this.model,"change:color change:width",this.update_and_draw,this)},draw_legend:function(t,e,n,o,s){var a=t.selectAll(".legend"+this.uuid).data(this.model.mark_data,function(t,e){return t.name}),l=this,u=.8*s;a.enter().append("g").attr("class","legend"+this.uuid).attr("transform",function(t,e){return"translate(0, "+(e*s+n)+")"}).on("mouseover",r.bind(this.make_axis_bold,this)).on("mouseout",r.bind(this.make_axis_non_bold,this)).append("line").style("stroke",function(t,e){return l.get_colors(e)}).attr({x1:0,x2:u,y1:u/2,y2:u/2}),a.append("text").attr("class","legendtext").attr("x",1.2*u).attr("y",u/2).attr("dy","0.35em").text(function(t,e){return l.model.get("labels")[e]}).style("fill",function(t,e){return l.get_colors(e)});var c=i.max(this.model.get("labels"),function(t){return t.length});return a.exit().remove(),[this.model.mark_data.length,c]},set_positional_scales:function(){var t=this.scales.x,e=this.scales.y;this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()}),this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()})},initialize_additional_scales:function(){var t=this.scales.color;t&&(this.listenTo(t,"domain_changed",function(){this.draw()}),t.on("color_scale_range_changed",this.draw,this))},draw:function(){this.set_ranges();var t=this.d3el.selectAll(".curve").data(this.model.mark_data,function(t,e){return t.name});t.enter().append("g").attr("class","curve"),t.exit().transition("draw").duration(this.parent.model.get("animation_duration")).remove();var e=this.scales.x,n=this.scales.y,r=this;t[0].forEach(function(t,o){var s=i.select(t).selectAll("line").data(r.model.mark_data[o].values);s.enter().append("line"),s.attr("class","line-elem").attr({x1:function(t){return e.scale(t.x1)},x2:function(t){return e.scale(t.x2)},y1:function(t){return n.scale(t.y1)},y2:function(t){return n.scale(t.y2)}}).attr("stroke",function(t){return r.get_element_color(t)}).attr("stroke-width",function(t){return r.get_element_width(t)})})},get_element_color:function(t){var e=this.scales.color;return void 0!==e&&void 0!==t.color?e.scale(t.color):this.model.get("colors")[0]},get_element_width:function(t){var e=this.scales.width;return void 0!==e&&void 0!==t.size?e.scale(t.size):this.model.get("stroke_width")},relayout:function(){o.Lines.__super__.relayout.apply(this),this.set_ranges();var t=this.scales.x,e=this.scales.y;this.d3el.selectAll(".curve").selectAll(".line-elem").transition("relayout").duration(this.parent.model.get("animation_duration")).attr({x1:function(e){return t.scale(e.x1)},x2:function(e){return t.scale(e.x2)},y1:function(t){return e.scale(t.y1)},y2:function(t){return e.scale(t.y2)}})},create_labels:function(){}});t.exports={FlexLine:s}},function(t,e,n){var i=n(0),r=n(17),o=n(505),s=r.MarkModel.extend({defaults:function(){return i.extend(r.MarkModel.prototype.defaults(),{_model_name:"MapModel",_view_name:"Map",color:{},hover_highlight:!0,hovered_styles:{hovered_fill:"Orange",hovered_stroke:null,hovered_stroke_width:2},stroke_color:null,default_color:null,scales_metadata:{color:{dimension:"color"},projection:{dimension:"geo"}},selected:[],selected_styles:{selected_fill:"Red",selected_stroke:null,selected_stroke_width:2},map_data:void 0})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.on("change:map_data",this.update_data,this),this.on("change:color",this.color_data_updated,this),this.update_data(),this.update_domains()},update_data:function(){this.dirty=!0;var t=this.get("map_data");"Topology"==t.type?this.geodata=o.feature(t,t.objects.subunits).features:this.geodata=t.features,this.color_data_updated(),this.dirty=!1,this.trigger("data_updated")},update_properties:function(t){t.properties?t.properties.color=this.color_data[t.id]:t.properties={color:this.color_data[t.id]}},color_data_updated:function(){var t=this;this.update_domains(),this.geodata.map(function(e){return t.update_properties(e)})},update_domains:function(){var t=this.get("scales"),e=this,n=t.color;this.color_data=this.get("color"),null!=n&&(this.get("preserve_domain").color?n.del_domain([],this.model_id+"_color"):n.compute_and_set_domain(Object.keys(this.color_data).map(function(t){return e.color_data[t]}),this.model_id+"_color"))},get_data_dict:function(t,e){return i.extend(t.properties,{id:t.id})}});t.exports={MapModel:s}},function(t,e,n){!function(t){"use strict";function e(){}function n(t){if(!t)return e;var n,i,r=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,e){e||(n=i=0),t[0]=(n+=t[0])*r+s,t[1]=(i+=t[1])*o+a}}function i(t,e){for(var n=0,i=t.length;n<i;){var r=n+i>>>1;t[r]<e?n=r+1:i=r}return n}function r(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:o(t,e)};return null==e.id&&delete n.id,n}function o(t,e){var i=n(t.transform),r=t.arcs;function o(t,e){e.length&&e.pop();for(var n,o=r[t<0?~t:t],s=0,a=o.length;s<a;++s)e.push(n=o[s].slice()),i(n,s);t<0&&function(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}(e,a)}function s(t){return t=t.slice(),i(t,0),t}function a(t){for(var e=[],n=0,i=t.length;n<i;++n)o(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function l(t){for(var e=a(t);e.length<4;)e.push(e[0].slice());return e}function u(t){return t.map(l)}var c={Point:function(t){return s(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(s)},LineString:function(t){return a(t.arcs)},MultiLineString:function(t){return t.arcs.map(a)},Polygon:function(t){return u(t.arcs)},MultiPolygon:function(t){return t.arcs.map(u)}};return function t(e){var n=e.type;return"GeometryCollection"===n?{type:n,geometries:e.geometries.map(t)}:n in c?{type:n,coordinates:c[n](e)}:null}(e)}function s(t,e){var n={},i={},r={},o=[],s=-1;function a(t,e){for(var i in t){var r=t[i];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){n[t<0?~t:t]=1}),o.push(r)}}return e.forEach(function(n,i){var r,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++s],e[s]=n,e[i]=r)}),e.forEach(function(e){var n,o,s=function(e){var n,i=t.arcs[e<0?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],e<0?[n,r]:[r,n]}(e),a=s[0],l=s[1];if(n=r[a])if(delete r[n.end],n.push(e),n.end=l,o=i[l]){delete i[o.start];var u=o===n?n:n.concat(o);i[u.start=n.start]=r[u.end=o.end]=u}else i[n.start]=r[n.end]=n;else if(n=i[l])if(delete i[n.start],n.unshift(e),n.start=a,o=r[a]){delete r[o.end];var c=o===n?n:o.concat(n);i[c.start=o.start]=r[c.end=n.end]=c}else i[n.start]=r[n.end]=n;else i[(n=[e]).start=a]=r[n.end=l]=n}),a(r,i),a(i,r),e.forEach(function(t){n[t<0?~t:t]||o.push([t])}),o}function a(t,e,n){var i=[];function r(t){var e=t<0?~t:t;(u[e]||(u[e]=[])).push({i:t,g:l})}function o(t){t.forEach(r)}function a(t){t.forEach(o)}if(arguments.length>1){var l,u=[],c={LineString:o,MultiLineString:a,Polygon:a,MultiPolygon:function(t){t.forEach(a)}};!function t(e){"GeometryCollection"===e.type?e.geometries.forEach(t):e.type in c&&(l=e,c[e.type](e.arcs))}(e),u.forEach(arguments.length<3?function(t){i.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&i.push(t[0].i)})}else for(var h=0,d=t.arcs.length;h<d;++h)i.push(h);return{type:"MultiLineString",arcs:s(t,i)}}function l(t){var e=t[0],n=t[1],i=t[2];return Math.abs((e[0]-i[0])*(n[1]-e[1])-(e[0]-n[0])*(i[1]-e[1]))}function u(t,e){var n={},i=[],r=[];function a(t){t.forEach(function(e){e.forEach(function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)})}),i.push(t)}function l(e){return Math.abs(function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return o/2}(o(t,{type:"Polygon",arcs:[e]}).coordinates[0]))}return e.forEach(function(t){"Polygon"===t.type?a(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(a)}),i.forEach(function(t){if(!t._){var e=[],i=[t];for(t._=1,r.push(e);t=i.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].forEach(function(t){t._||(t._=1,i.push(t))})})})}}),i.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:r.map(function(e){var i,r=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].length<2&&r.push(t)})})}),r=s(t,r),(i=r.length)>1)for(var o,a,u=1,c=l(r[0]);u<i;++u)(o=l(r[u]))>c&&(a=r[0],r[0]=r[u],r[u]=a,c=o);return r})}}function c(t,e){return t[1][2]-e[1][2]}t.version="1.6.27",t.mesh=function(t){return o(t,a.apply(this,arguments))},t.meshArcs=a,t.merge=function(t){return o(t,u.apply(this,arguments))},t.mergeArcs=u,t.feature=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return r(t,e)})}:r(t,e)},t.neighbors=function(t){var e={},n=t.map(function(){return[]});function r(t,n){t.forEach(function(t){t<0&&(t=~t);var i=e[t];i?i.push(n):e[t]=[n]})}function o(t,e){t.forEach(function(t){r(t,e)})}var s={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(t,e){t.forEach(function(t){o(t,e)})}};for(var a in t.forEach(function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach(function(e){t(e,n)}):e.type in s&&s[e.type](e.arcs,n)}),e)for(var l=e[a],u=l.length,c=0;c<u;++c)for(var h=c+1;h<u;++h){var d,f=l[c],p=l[h];(d=n[f])[a=i(d,p)]!==p&&d.splice(a,0,p),(d=n[p])[a=i(d,f)]!==f&&d.splice(a,0,f)}return n},t.presimplify=function(t,i){var r=n(t.transform),o=function(t){if(!t)return e;var n,i,r=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,e){e||(n=i=0);var l=Math.round((t[0]-s)/r),u=Math.round((t[1]-a)/o);t[0]=l-n,t[1]=u-i,n=l,i=u}}(t.transform),s=function(){var t={},e=[],n=0;function i(t,n){for(;n>0;){var i=(n+1>>1)-1,r=e[i];if(c(t,r)>=0)break;e[r._=n]=r,e[t._=n=i]=t}}function r(t,i){for(;;){var r=i+1<<1,o=r-1,s=i,a=e[s];if(o<n&&c(e[o],a)<0&&(a=e[s=o]),r<n&&c(e[r],a)<0&&(a=e[s=r]),s===i)break;e[a._=i]=a,e[t._=i=s]=t}}return t.push=function(t){return i(e[t._=n]=t,n++),n},t.pop=function(){if(!(n<=0)){var t,i=e[0];return--n>0&&(t=e[n],r(e[t._=0]=t,0)),i}},t.remove=function(t){var o,s=t._;if(e[s]===t)return s!==--n&&(c(o=e[n],t)<0?i:r)(e[o._=s]=o,s),s},t}();function a(t){s.remove(t),t[1][2]=i(t),s.push(t)}return i||(i=l),t.arcs.forEach(function(t){var e,n,l,u,c=[],h=0;for(n=0,l=t.length;n<l;++n)u=t[n],r(t[n]=[u[0],u[1],1/0],n);for(n=1,l=t.length-1;n<l;++n)(e=t.slice(n-1,n+2))[1][2]=i(e),c.push(e),s.push(e);for(n=0,l=c.length;n<l;++n)(e=c[n]).previous=c[n-1],e.next=c[n+1];for(;e=s.pop();){var d=e.previous,f=e.next;e[1][2]<h?e[1][2]=h:h=e[1][2],d&&(d.next=f,d[2]=e[2],a(d)),f&&(f.previous=d,f[0]=e[0],a(f))}t.forEach(o)}),t},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){var i=n(1),r=n(2).WidgetView.extend({render:function(){this.set_projection(),this.listenTo(this.model,"attribute_changed",this.reset_scale)},set_projection:function(){this.path=i.geo.path().projection(this.model.projection),this.scale=this.model.projection},reset_scale:function(){this.set_projection(),this.trigger("domain_changed",null)}}),o=r.extend({}),s=r.extend({}),a=r.extend({}),l=r.extend({}),u=r.extend({}),c=r.extend({}),h=r.extend({});t.exports={GeoScale:r,Mercator:o,Albers:s,AlbersUSA:a,EquiRectangular:l,Orthographic:u,Gnomonic:c,Stereographic:h}},function(t,e,n){var i=n(1),r=n(0),o=n(66),s=o.ScaleModel.extend({defaults:function(){return r.extend(o.ScaleModel.prototype.defaults(),{_model_name:"GeoScaleModel",_view_name:"GeoScale"})}}),a=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"MercatorModel",_view_name:"Mercator",scale_factor:190,center:[0,60],rotate:[0,0]})},initialize:function(){a.__super__.initialize.apply(this,arguments),this.on_some_change(["scale_factor","center","rotate"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.mercator().center(this.get("center")).scale(this.get("scale_factor")).rotate(this.get("rotate")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}}),l=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"AlbersModel",_view_name:"Albers",scale_factor:250,center:[0,60],parallels:[29.5,45.5],precision:.1})},initialize:function(){l.__super__.initialize.apply(this,arguments),this.on_some_change(["rotate","center","parallels","scale_factor","precision"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.albers().rotate(this.get("rotate")).center(this.get("center")).parallels(this.get("parallels")).scale(this.get("scale_factor")).precision(this.get("precision")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}}),u=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"AlbersUSAModel",_view_name:"AlbersUSA",scale_factor:1200})},initialize:function(){u.__super__.initialize.apply(this,arguments),this.on_some_change(["scale_factor"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.albersUsa().scale(this.get("scale_factor")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}}),c=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"EquiRectangularModel",_view_name:"EquiRectangular",scale_factor:145})},initialize:function(){c.__super__.initialize.apply(this,arguments),this.on_some_change(["scale_factor","center"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.equirectangular().center(this.get("center")).scale(this.get("scale_factor")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}}),h=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"OrthographicModel",_view_name:"Orthographic",scale_factor:145,center:[0,60],rotate:[0,0],clip_angle:90,precision:.1})},initialize:function(){h.__super__.initialize.apply(this,arguments),this.on_some_change(["scale_factor","center","clip_angle","rotate","precision"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.orthographic().center(this.get("center")).scale(this.get("scale_factor")).clipAngle(this.get("clip_angle")).rotate(this.get("rotate")).precision(this.get("precision")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}}),d=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"GnomonicModel",_view_name:"Gnomonic",scale_factor:145,center:[0,60],precision:.1,clip_angle:89.999})},initialize:function(){d.__super__.initialize.apply(this,arguments),this.on_some_change(["scale_factor","precision","clip_angle"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.gnomonic().clipAngle(this.get("clip_angle")).scale(this.get("scale_factor")).precision(this.get("precision")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}}),f=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"StereographicModel",_view_name:"StereographicModel",scale_factor:245,center:[0,60],precision:.1,rotate:[96,0],clip_angle:179.9999})},initialize:function(){f.__super__.initialize.apply(this,arguments),this.on_some_change(["scale_factor","center","clip_angle","rotate","precision"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.stereographic().scale(this.get("scale_factor")).rotate(this.get("rotate")).clipAngle(this.get("clip_angle")).center(this.get("center")).precision(this.get("precision")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}});t.exports={GeoScaleModel:s,MercatorModel:a,AlbersModel:l,AlbersUSAModel:u,EquiRectangularModel:c,OrthographicModel:h,GnomonicModel:d,StereographicModel:f}},function(t,e,n){var i=n(2),r=n(0),o=n(1),s=n(183),a=n(184),l=n(185);l.__esModule&&(l=l.default);var u=s.Figure.extend({render:function(t){this.id=i.uuid();var e=String(this.model.get("layout").get("min_width")),n=String(this.model.get("layout").get("min_height")),r=this._get_height_width(n.slice(0,-2),e.slice(0,-2));this.width=r.width,this.height=r.height,this.scales={},this.set_top_el_style();var s=this;this.margin=this.model.get("map_margin"),this.num_rows=this.model.get("rows"),this.num_cols=this.model.get("cols"),this.row_groups=this.model.get("row_groups"),this.enable_select=this.model.get("enable_select"),this.update_data(),this.set_area_dimensions(this.data.length),this.model.get("theme")&&this.svg.classed(this.model.get("theme"),!0),this.fig=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.fig_map=this.fig.append("g"),this.fig_axes=this.fig.append("g"),this.fig_click=this.fig.append("g"),this.fig_hover=this.fig.append("g"),this.fig_names=this.fig.append("g").style("display",this.model.get("show_groups")?"inline":"none"),this.fig_map.classed("g-map",!0),this.fig_axes.classed("g-axes",!0),this.fig_click.classed("g-click",!0),this.fig_hover.classed("g-hover",!0),this.fig_names.classed("g-names",!0),this.axis=[],this.tooltip_div=o.select(document.createElement("div")).attr("class","mark_tooltip").style("opacity",0).style("pointer-events","none"),this.popper_reference=new a.ElementReference(this.svg.node()),this.popper=new l(this.popper_reference,this.tooltip_div.node(),{placement:"auto"}),this.update_default_tooltip(),this.selected_stroke=this.model.get("selected_stroke"),this.hovered_stroke=this.model.get("hovered_stroke"),this.update_plotarea_dimensions(),this.title=this.fig.append("text").attr("class","mainheading").attr({x:.5*this.plotarea_width,y:-this.margin.top/2,dy:"1em"}).text(this.model.get("title")).style(this.model.get("title_style")),this.create_scale_views().then(function(){s.create_listeners(),s.axis_views=new i.ViewList(s.add_axis,null,s),s.axis_views.update(s.model.get("axes")),s.model.on("change:axes",function(t,e,n){s.axis_views.update(e)})}),this.displayed.then(function(){document.body.appendChild(s.tooltip_div.node()),s.relayout(),s.draw_group_names(),s.create_tooltip_widget()})},set_top_el_style:function(){this.el.style["user-select"]="none",this.el.style["ms-user-select"]="none",this.el.style["moz-user-select"]="none",this.el.style["khtml-user-select"]="none",this.el.style["webkit-user-select"]="none"},update_plotarea_dimensions:function(){this.plotarea_width=this.width-this.margin.left-this.margin.right,this.plotarea_height=this.height-this.margin.top-this.margin.bottom,this.column_width=parseFloat((this.plotarea_width/this.num_cols).toFixed(2)),this.row_height=parseFloat((this.plotarea_height/this.num_rows).toFixed(2))},reset_drawing_controls:function(){this.prev_x=0,this.prev_y=-1,this.y_direction=1,this.x_direction=1,this.group_iter=1},create_listeners:function(){this.listenTo(this.model,"change:scales",this.create_scale_views,this),this.listenTo(this.model,"change:color",this.recolor_chart,this),this.listenTo(this.model,"change:colors",this.colors_updated,this),this.listenTo(this.model,"change:show_groups",this.show_groups,this),this.listenTo(this.model,"change:selected_stroke",this.update_selected_stroke,this),this.listenTo(this.model,"change:hovered_stroke",this.update_hovered_stroke,this),this.listenTo(this.model,"change:font_style",this.update_font_style,this),this.model.on_some_change(["title","title_style"],this.update_title,this),this.listenTo(this.model,"change:selected",function(){this.clear_selected(),this.apply_selected()},this),this.model.on_some_change(["names","groups","ref_data"],function(){this.update_data(),this.compute_dimensions_and_draw()},this),this.listenTo(this.model,"change:rows",function(t,e){this.num_rows=e,this.compute_dimensions_and_draw()},this),this.listenTo(this.model,"change:cols",function(t,e){this.num_cols=e,this.compute_dimensions_and_draw()},this),this.listenTo(this.model,"change:row_groups",function(t,e){this.row_groups=e,this.compute_dimensions_and_draw()},this),this.listenTo(this.model,"change:tooltip_widget",this.create_tooltip_widget,this),this.listenTo(this.model,"change:tooltip_fields",this.update_default_tooltip,this),this.listenTo(this.model,"change:tooltip_formats",this.update_default_tooltip,this)},update_title:function(t,e){this.title.text(this.model.get("title")).style(this.model.get("title_style"))},relayout:function(){var t=this,e=this._get_height_width(this.el.clientHeight,this.el.clientWidth);this.width=e.width,this.height=e.height,window.requestAnimationFrame(function(){t.margin=t.model.get("map_margin"),t.update_plotarea_dimensions(),t.fig.attr("transform","translate("+t.margin.left+","+t.margin.top+")"),t.title.attr({x:.5*t.plotarea_width,y:-t.margin.top/2,dy:"1em"}),t.draw_map(),t.clear_selected(),t.apply_selected(),t.fig_hover.selectAll("rect").remove(),t.hide_tooltip(),t.trigger("margin_updated")})},update_data:function(){var t=this;this.data=this.model.get_typed_field("names"),this.ref_data=this.model.get("ref_data"),this.group_data=this.model.get_typed_field("groups"),this.groups=r.uniq(this.group_data,!0);var e=this.model.get_typed_field("display_text");e=void 0===e||0===e.length?this.data:e,this.colors=this.model.get("colors");var n=this.colors.length;this.colors_map=function(e){return t.get_color(e,n)};var i=this.model.get_typed_field("color"),o=this.data.map(function(n,r){return{display:e[r],name:n,color:i[r],group:t.group_data[r],ref_data:null===t.ref_data||void 0===t.ref_data?null:t.ref_data[r]}});this.update_domains(),this.grouped_data=r.groupBy(o,function(e,n){return t.group_data[n]}),this.groups=[],this.running_sums=[],this.running_sums[0]=0;var s=0;for(var a in this.grouped_data)this.groups.push(a),s+=this.grouped_data[a].length,this.running_sums.push(s);this.running_sums.pop()},update_domains:function(){var t=this.model.get("scales").color,e=this.model.get_typed_field("color");t&&e.length>0&&t.compute_and_set_domain(e,this.model.model_id)},set_area_dimensions:function(t){this.num_rows=this.model.get("rows"),this.num_cols=this.model.get("cols"),this.row_groups=this.model.get("row_groups"),void 0!==this.num_cols&&null!==this.num_cols&&0!==this.num_cols?(this.row_groups>1&&this.num_cols%2==0&&this.num_cols++,this.num_rows=Math.floor(t/this.num_cols),this.num_rows=t%this.num_cols==0?this.num_rows:this.num_rows+1):void 0!==this.num_rows&&null!==this.num_rows&&0!==this.num_rows?(this.num_cols=Math.floor(t/this.num_rows),this.num_cols=t%this.num_rows==0?this.num_cols:this.num_cols+1,this.row_groups>1&&this.num_cols%2==0&&this.num_cols++):(this.num_cols=Math.floor(Math.sqrt(t)),this.row_groups>1&&this.num_cols%2==0&&this.num_cols++,this.num_rows=Math.floor(t/this.num_cols),this.num_rows=t%this.num_cols==0?this.num_rows:this.num_rows+1),this.row_groups=Math.min(this.row_groups,this.num_rows),1==this.row_groups&&(this.num_cols=Math.floor(t/this.num_rows),this.num_cols=t%this.num_rows==0?this.num_cols:this.num_cols+1),this.set_row_limits()},compute_dimensions_and_draw:function(){this.set_area_dimensions(this.data.length),this.update_plotarea_dimensions(),this.draw_map(),this.clear_selected(),this.apply_selected(),this.fig_hover.selectAll("rect").remove(),this.hide_tooltip()},update_default_tooltip:function(){this.tooltip_fields=this.model.get("tooltip_fields");var t=this.model.get("tooltip_formats");this.tooltip_formats=this.tooltip_fields.map(function(e,n){var i=t[n];return void 0===i||""===i?function(t){return t}:o.format(i)})},create_scale_views:function(){for(var t in this.scales)this.stopListening(this.scales[t]);var e=this.model.get("scales"),n=this,o={};return r.each(e,function(t,e){o[e]=n.create_child_view(t)}),i.resolvePromisesDict(o).then(function(t){n.scales=t,n.set_scales()})},set_scales:function(){var t=this,e=this.scales.color;e&&(e.set_range(),e.on("color_scale_range_changed",t.update_map_colors,t),this.update_domains(),this.listenTo(e,"domain_changed",function(){t.update_map_colors()}),this.update_map_colors())},show_groups:function(t,e){this.fig_names.style("display",e?"inline":"none"),this.fig_map.selectAll(".market_map_text").style("opacity",e?.2:1),this.fig_map.selectAll(".market_map_rect").style("stroke-opacity",e?.2:1)},draw_map:function(){this.reset_drawing_controls(),this.fig_map.selectAll(".element_group").remove(),this.fig_names.selectAll(".names_object").remove(),this.rect_groups=this.fig_map.selectAll(".element_group").data(this.groups);var t=this.scales.color,e=this;this.rect_groups.enter().append("g").attr("class","element_group").attr("transform",function(t,n){return e.get_group_transform(n)}),this.rect_groups.exit().remove(),this.end_points=[],this.rect_groups[0].forEach(function(n,i){var r=e.grouped_data[e.groups[i]],s=(e.colors_map(i),e.get_new_cords()),a=e.get_end_points(s[2],r.length,s[0],s[1],s[3],s[4]);a.forEach(function(t){e.end_points.push(t)});var l=e.running_sums[i],u=o.select(n).selectAll(".rect_element").data(r),c=u.enter().append("g").classed("rect_element",!0);c.append("rect").attr("x",0).attr("y",0).classed("market_map_rect",!0),c.append("text").classed("market_map_text",!0).style({"text-anchor":"middle",fill:"black","pointer-events":"none"}).style(e.model.get("font_style")),u.attr("transform",function(t,n){return e.get_cell_transform(n)}).on("click",function(t,n){e.cell_click_handler(t,l+n,this)}).on("mouseover",function(t,n){e.mouseover_handler(t,l+n,this)}).on("mousemove",function(t){e.mousemove_handler(t)}).on("mouseout",function(t,n){e.mouseout_handler(t,l+n,this)}).attr("class",function(t,e){return o.select(this).attr("class")+" rect_"+(l+e)}).attr("id",function(t){return"market_map_element_"+t.name}),u.selectAll(".market_map_rect").attr("width",e.column_width).attr("height",e.row_height).style("stroke-opacity",e.model.get("show_groups")?.2:1).style({stroke:e.model.get("stroke"),fill:function(n,r){return t&&void 0!==n.color&&null!==n.color?t.scale(n.color):e.colors_map(i)}}),u.selectAll(".market_map_text").attr("x",e.column_width/2).attr("y",e.row_height/2).text(function(t,e){return t.display}).style("opacity",e.model.get("show_groups")?.2:1),u.exit().remove();e.create_bounding_path(n,a);var h=o.min(a,function(t){return t.x}),d=o.min(a,function(t){return t.y});e.fig_names.append("foreignObject").attr("class","names_object").attr("x",h).attr("y",d).append("xhtml:div").attr("class","names_div").style({display:"flex","flex-direction":"row","align-content":"center","align-items":"center",width:"100%",height:"100%","justify-content":"center","word-wrap":"break-word",font:"24px sans-serif",color:"black"}).text(e.groups[i])}),this.draw_group_names()},draw_group_names:function(){var t=this.svg.selectAll(".bounding_path")[0].map(function(t){return t.getBoundingClientRect()});this.fig_names.selectAll(".names_object").data(t).attr("width",function(t){return t.width}).attr("height",function(t){return t.height})},recolor_chart:function(){var t=this;this.update_data(),this.rect_groups=this.fig.selectAll(".element_group").data(this.groups);var e=this.scales.color;this.rect_groups[0].forEach(function(n,i){var r=t.grouped_data[t.groups[i]];t.colors_map(i),o.select(n).selectAll(".rect_element").data(r).select("rect").style({stroke:t.model.get("stroke"),fill:function(n,r){return e&&void 0!==n.color&&null!==n.color?e.scale(n.color):t.colors_map(i)}})})},update_font_style:function(t,e){this.svg.selectAll(".market_map_text").style(e)},update_map_colors:function(){var t=this,e=this.scales.color;void 0!==this.rect_groups&&null!==this.rect_groups&&this.rect_groups[0].forEach(function(n,i){var r=t.grouped_data[t.groups[i]];t.colors_map(i),o.select(n).selectAll(".rect_element").data(r).select("rect").style({stroke:t.model.get("stroke"),fill:function(n,r){return e&&void 0!==n.color&&null!==n.color?e.scale(n.color):t.colors_map(i)}})})},cell_click_handler:function(t,e,n){if(this.model.get("enable_select")){var i=this.model.get("selected").slice(),r=i.indexOf(t.name),s=o.select(n).attr("id");if(-1==r){i.push(t.name);var a=o.select(n).attr("transform");this.add_selected_cell(s,a)}else this.fig_click.select("#click_"+s).remove(),i.splice(r,1);this.model.set("selected",i),this.touch()}},apply_selected:function(){var t=this.model.get("selected"),e=this;null==t||0===t.length?this.clear_selected():t.forEach(function(t){var n="market_map_element_"+t;if(e.fig_click.select("#click_"+n).remove(),1==e.fig_map.selectAll("#"+n)[0].length){var i=e.fig_map.selectAll("#"+n).attr("transform");e.add_selected_cell(n,i)}})},clear_selected:function(){this.fig_click.selectAll("rect").remove()},add_selected_cell:function(t,e){this.fig_click.append("rect").attr("id","click_"+t).attr("transform",e).attr("x",0).attr("y",0).attr("width",this.column_width).attr("height",this.row_height).style({stroke:this.selected_stroke,"stroke-width":"4px",fill:"none"})},mouseover_handler:function(t,e,n){var i=o.select(n).attr("transform");this.model.get("enable_hover")&&(this.fig_hover.append("rect").attr("class","hover_"+e).attr("transform",i).attr("x",0).attr("y",0).attr("width",this.column_width).attr("height",this.row_height).style({stroke:this.hovered_stroke,"stroke-width":"3px",fill:"none","pointer-events":"none"}),this.show_tooltip(o.event,t),this.send({event:"hover",data:t.name,ref_data:t.ref_data}))},update_selected_stroke:function(t,e){this.selected_stroke=e;this.fig_click.selectAll("rect").style({stroke:e})},update_hovered_stroke:function(t,e){this.hovered_stroke=e},mouseout_handler:function(t,e,n){this.fig_hover.select(".hover_"+e).remove(),this.hide_tooltip()},show_tooltip:function(t,e){o.mouse(this.el);var n=this;if(this.tooltip_view||this.tooltip_fields&&0!=this.tooltip_fields.length){var i=this.tooltip_div;i.transition().style("opacity",.9).style("display",null),this.move_tooltip(),i.select("table").remove();var r=e.ref_data;if(!this.tooltip_view){var s=i.append("table").selectAll("tr").data(this.tooltip_fields);s.exit().remove();var a=s.enter().append("tr");a.append("td").attr("class","tooltiptext").text(function(t){return t}),a.append("td").attr("class","tooltiptext").text(function(t,e){return null==r?null:n.tooltip_formats[e](r[t])})}this.popper.enableEventListeners(),this.move_tooltip()}},mousemove_handler:function(t){this.move_tooltip(t)},move_tooltip:function(t){this.popper_reference.x=o.event.clientX,this.popper_reference.y=o.event.clientY,this.popper.scheduleUpdate()},hide_tooltip:function(){this.tooltip_div.style("pointer-events","none"),this.tooltip_div.transition().style("opacity",0).style("display","none"),this.popper.disableEventListeners()},create_tooltip_widget:function(){var t=this.model.get("tooltip_widget");null!==this.tooltip_view&&void 0!==this.tooltip_view&&(this.tooltip_view.remove(),this.tooltip_view=null);var e=this;t&&this.create_child_view(t).then(function(t){e.tooltip_view=t,e.tooltip_div.node().appendChild(t.el),t.trigger("displayed",{add_to_dom_only:!0})})},get_group_transform:function(t){return"translate(0, 0)"},get_cell_transform:function(t){return this.past_border_y()?this.prev_y+=this.y_direction:this.past_border_x()?(this.y_direction=-1*this.y_direction,this.prev_x+=this.x_direction):(this.x_direction=-1*this.x_direction,this.prev_y+=this.y_direction,this.group_iter+=1),"translate("+this.prev_x*this.column_width+", "+this.prev_y*this.row_height+")"},get_new_cords:function(){var t=this.prev_x,e=this.prev_y,n=this.y_direction,i=this.x_direction,r=this.group_iter;return this.past_border_y()?e+=this.y_direction:this.past_border_x()?(n=-1*this.y_direction,t+=this.x_direction):(i=-1*this.x_direction,e+=this.y_direction,r+=1),[t,e,r,i,n,t*this.column_width,e*this.row_height]},past_border_y:function(){return 1==this.y_direction?this.prev_y+1<this.row_limits[this.group_iter]:this.prev_y-1>this.row_limits[this.group_iter-1]-1},past_border_x:function(){return 1==this.x_direction?this.prev_x+1<this.num_cols:this.prev_x-1>-1},colors_updated:function(){this.colors=this.model.get("colors"),this.recolor_chart()},get_color:function(t,e){return this.colors[t%e]},set_row_limits:function(){var t=Math.floor(this.num_rows/this.row_groups);this.row_limits=[];for(var e=this.row_groups-1;e>-1;e--)this.row_limits.unshift(e*t);this.row_limits[this.row_groups]=this.num_rows},get_end_points:function(t,e,n,i,r,o){var s,a=this.row_limits[t-1],l=this.row_limits[t],u=!1,c=r,h=o,d=[],f=1==h?l-i:i-a+1,p=1==c?this.num_cols-1-n:n,_=e,g=l-a;if(0!==_){this.calc_end_point_source(n,i,c,h).forEach(function(t){d.push(t)});var m=Math.min(f,_);if(m===_)return this.calc_end_point_source(n,i,-1*c,h).forEach(function(t){d.push(t)}),s=i+(_-1)*h,this.calc_end_point_dest(n,s,-1*c,h).forEach(function(t){d.push(t)}),this.calc_end_point_dest(n,s,c,h).forEach(function(t){d.push(t)}),d;if(_-=m,0===p?this.calc_end_point_source(n,i,-1*c,h).forEach(function(t){d.push(t)}):f!==l-a?(this.calc_end_point_source(n,i,-1*c,h).forEach(function(t){d.push(t)}),_>g&&this.calc_end_point_dest(n+c,1==h?a:l-1,-1*c,-1*h).forEach(function(t){d.push(t)})):_<g&&this.calc_end_point_source(n,i,-1*c,h).forEach(function(t){d.push(t)}),i+=h*(m-1),this.calc_end_point_dest(n,i,-1*c,h).forEach(function(t){d.push(t)}),0===_)return this.calc_end_point_dest(n,i,c,h).forEach(function(t){d.push(t)}),d;0!==p&&_>g&&(n+=c)}for(;_>g;){var v;if(g*p<_){var y=_-(v=p)*g;v+=Math.floor(y/(this.row_limits[t+1]-this.row_limits[t]))}else v=Math.floor(_/g);v>p?(n=1===c?this.num_cols-1:0,0!==p&&this.calc_end_point_dest(n,a,c,-1).forEach(function(t){d.push(t)}),v=p,p=this.num_cols,t+=1,a=l,l=this.row_limits[t],i=a,c*=-1,h=Math.pow(-1,v)*h*-1,this.calc_end_point_dest(n,l-1,-1*c,1).forEach(function(t){d.push(t)})):v===p?(n=1===c?this.num_cols-1:0,0!==p&&this.calc_end_point_dest(n,a,c,-1).forEach(function(t){d.push(t)}),v=p,p=this.num_cols,(t+=1)<this.row_limits.length?(a=l,l=this.row_limits[t],i=a,c*=-1,h=Math.pow(-1,v)*h*-1,u=!0):(h=1,c=1)):(i=1===(h=Math.pow(-1,v)*h)?a:l-1,n+=c*(v-1),this.calc_end_point_source(n,i,-1*c,h).forEach(function(t){d.push(t)})),_-=v*g,g=l-a}return 0===_?(i=1===h?l-1:a,c=u?-1*c:c,this.calc_end_point_dest(n,i,c,h).forEach(function(t){d.push(t)})):(i=1===(h*=-1)?a:l-1,n=u?n:n+c,this.calc_end_point_source(n,i,-1*c,h).forEach(function(t){d.push(t)}),s=i+(_-1)*h,this.calc_end_point_dest(n,s,c,h).forEach(function(t){d.push(t)}),this.calc_end_point_dest(n,s,-1*c,h).forEach(function(t){d.push(t)})),d},create_bounding_path:function(t,e){e[0].x,e[0].y;var n=[],i=e.slice();n.push(e[0]),i.splice(0,1);for(var r=["x","y"],s=0,a=r[s%2],l=r[(s+1)%2],u=n[0],c=u[a],h=u[l],d=2*i.length,f=0;i.length>1&&d>0;){var p=i.filter(function(t){return t[a]==c});if(p.length>0){s++;var _=o.min(p,function(t){return t[l]}),g=o.max(p,function(t){return t[l]});if(_<h&&g>h)if("y"==a)f=1==this.x_direction?g:_;else{var m=p.filter(function(t){return t[l]<h}),v=p.filter(function(t){return t[l]>h});f=1==m.length?_:1==v.length?g:o.max(m,function(t){return t[l]})}else f=_>h?_:g;i.filter(function(t){return t[a]==c&&t[l]==f}).forEach(function(t){i.splice(i.indexOf(t),1)});var y={};y[a]=c,y[l]=f,n.push(y)}else f=h;var b=a;a=l,l=b,h=c,c=f,d--}i.length>0&&n.push(i[0]),n.push(e[0]);var w=o.svg.line().interpolate("linear").x(function(t){return t.x}).y(function(t){return t.y});return o.select(t).append("path").attr("class","bounding_path").attr("d",function(){return w(n)}).attr("fill","none").style("stroke",this.model.get("group_stroke")).style("stroke-width",3)},calc_end_point_source:function(t,e,n,i){return e=1==i?e:e+1,[{x:(t=1==n?t:t+1)*this.column_width,y:e*this.row_height}]},calc_end_point_dest:function(t,e,n,i){return e=-1==i?e:e+1,[{x:(t=-1==n?t:t+1)*this.column_width,y:e*this.row_height}]}});t.exports={MarketMap:u}},function(t,e,n){var i=n(1),r=n(0),o=n(9),s=n(14).Mark.extend({render:function(){var t=s.__super__.render.apply(this),e=this;return this.displayed.then(function(){e.parent.tooltip_div.node().appendChild(e.tooltip_div.node()),e.create_tooltip()}),this.selected_indices=this.model.get("selected"),this.selected_style=this.model.get("selected_style"),this.unselected_style=this.model.get("unselected_style"),this.anchor_style=this.model.get("anchor_style"),this.display_el_classes=["heatmapcell"],t.then(function(){e.event_listeners={},e.process_interactions(),e.create_listeners(),e.compute_view_padding(),e.draw()})},set_ranges:function(){var t=this.scales.row;if(t){var e=this.parent.padded_range("y",t.model);t.set_range(e)}var n=this.scales.column;n&&n.set_range(this.parent.padded_range("x",n.model))},set_positional_scales:function(){var t=this.scales.column,e=this.scales.row;this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()}),this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()})},expand_scale_domain:function(t,e,n,r){var o,s;if("expand_one"===n){var a=(o=e.map(function(e){return t.scale(e)})).slice(1).map(function(t,e){return t-o[e]});s=0,a[0]<0?(r=!r,s=i.max(a)):s=i.min(a);var l=0;return r?(l=o[o.length-1]+s,[e[0],t.invert(l)]):(l=o[0]-s,[t.invert(l),e[o.length-1]])}if("expand_two"===n){o=e.map(function(e){return t.scale(e)}),s=i.min(o.slice(1).map(function(t,e){return t-o[e]}));var u=o[o.length-1]+s,c=o[0]-s;return[t.invert(c),t.invert(u)]}},create_listeners:function(){s.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:stroke",this.update_stroke,this),this.listenTo(this.model,"change:opacity",this.update_opacity,this),this.d3el.on("mouseover",r.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",r.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"data_updated",this.draw,this),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")}),this.listenTo(this.model,"change:selected",this.update_selected),this.listenTo(this.model,"change:interactions",this.process_interactions)},click_handler:function(t){t.data;var e=this.model.colors[0].length,n=t.row_num*e+t.column_num,s=t.row_num,a=t.column_num,l=this,u=this.model.get("selected")?o.deepCopy(this.model.get("selected")):[],c=o.deepCopy(this._cell_nums_from_indices(u)),h=c.indexOf(n),d=i.event.ctrlKey||i.event.metaKey;if(h>-1&&d)u.splice(h,1);else if(d||(c=[],u=[]),u.push([s,a]),c.push(l._cell_nums_from_indices([[s,a]])[0]),i.event.shiftKey){if(h>-1)return;var f=0!==c.length?l.anchor_cell_index[0]:s,p=0!==c.length?l.anchor_cell_index[1]:a;r.range(Math.min(s,f),Math.max(s,f)+1).forEach(function(t){r.range(Math.min(a,p),Math.max(a,p)+1).forEach(function(e){var n=l._cell_nums_from_indices([[t,e]])[0];-1===c.indexOf(n)&&(c.push(n),u.push([t,e]))})})}else this.anchor_cell_index=[s,a];this.model.set("selected",0===u.length?null:u,{updated_view:this}),this.touch(),i.event||(i.event=window.event);var _=i.event;void 0!==_.cancelBubble&&(_.cancelBubble=!0),_.stopPropagation&&_.stopPropagation(),_.preventDefault(),this.selected_indices=u,this.apply_styles()},update_selected:function(t,e){this.selected_indices=e,this.apply_styles()},set_style_on_elements:function(t,e,n){e&&(0!==e.length||n&&0!==n.length)&&0!==Object.keys(t).length&&(n=n&&0!==n.length?n:this._filter_cells_by_index(e)).style(t)},set_default_style:function(t,e){if(t&&(0!==t.length||e&&0!==e.length)){e=e&&0!==e.length?e:this._filter_cells_by_index(t);var n=this.model.get("stroke"),i=this.model.get("opacity"),r=this;e.style("fill",function(t){return r.get_element_fill(t)}).style("opacity",i).style("stroke",n)}},clear_style:function(t,e,n){if(0!==Object.keys(t).length){n&&0!==n.length||(n=e?this._filter_cells_by_index(e):this.display_cells);var i={};for(var r in t)i[r]=null;n.style(i)}},_filter_cells_by_cell_num:function(t){return null==t?[]:this.display_cells.filter(function(e){return-1!==t.indexOf(e._cell_num)})},selected_style_updated:function(t,e){this.selected_style=e,this.clear_style(t.previous("selected_style"),this.selected_indices,this.selected_elements),this.style_updated(e,this.selected_indices,this.selected_elements)},unselected_style_updated:function(t,e){this.unselected_style=e,this.clear_style(t.previous("unselected_style"),[],this.unselected_elements),this.style_updated(e,[],this.unselected_elements)},apply_styles:function(){var t=this.model.colors.length,e=this.model.colors[0].length;this.clear_style(this.selected_style),this.clear_style(this.unselected_style),this.clear_style(this.anchor_style),this.set_default_style([],this.display_cells);var n=this._cell_nums_from_indices(this.selected_indices),i=null===n?[]:r.difference(r.range(t*e),n);if(this.selected_elements=this._filter_cells_by_cell_num(n),this.set_style_on_elements(this.selected_style,this.selected_indices,this.selected_elements),this.unselected_elements=this._filter_cells_by_cell_num(i),this.set_style_on_elements(this.unselected_style,[],this.unselected_elements),null!==this.anchor_cell_index&&void 0!==this.anchor_cell_index){var o=this._cell_nums_from_indices([this.anchor_cell_index]);this.anchor_element=this._filter_cells_by_cell_num(o),this.set_style_on_elements(this.anchor_style,[],this.anchor_element)}},style_updated:function(t,e,n){this.set_default_style(e,n),this.set_style_on_elements(t,e,n)},reset_selection:function(){this.model.set("selected",null),this.touch(),this.selected_indices=null,this.clear_style(this.selected_style),this.clear_style(this.unselected_style),this.clear_style(this.anchor_style),this.set_default_style([],this.display_cells)},relayout:function(){this.set_ranges(),this.compute_view_padding(),this.draw()},_cell_nums_from_indices:function(t){if(null==t)return null;var e=this.model.colors[0].length;return t.map(function(t){return t[0]*e+t[1]})},invert_point:function(t){},invert_range:function(t,e){if(void 0===t||void 0===e)return this.model.set("selected",null),this.touch(),[];this.scales.column;var n=this,i=t,o=e;t>e&&(i=e,o=t);var s=r.range(this.model.colors.length),a=r.filter(s,function(t){var e=n.column_pixels[t];return e>=i&&e<=o}),l=r.range(this.model.colors.length);a=a.map(function(t){return l.map(function(e){return[e,t]})}),a=r.flatten(a,!0),this.model.set("selected",a),this.touch()},invert_2d_range:function(t,e,n,o){if(!e)return this.model.set("selected",null),this.touch(),r.range(this.model.mark_data.length);this.scales.column,this.scales.row;var s=i.min([n,o]),a=i.max([n,o]),l=i.min([t,e]),u=i.max([t,e]),c=r.range(this.model.colors[0].length),h=r.range(this.model.colors.length),d=this,f=r.filter(c,function(t){var e=d.column_pixels[t];return e>=l&&e<=u}),p=r.filter(h,function(t){var e=d.row_pixels[t];return e<=a&&e>=s}),_=f.map(function(t){return p.map(function(e){return[e,t]})});return _=r.flatten(_,!0),this.model.set("selected",_),this.touch(),_},draw:function(){this.set_ranges();var t,e=this,n=this.model.colors.length,o=this.model.colors[0].length,s=this.scales.row,a=this.scales.column,l="start"===this.model.get("row_align"),u="start"===this.model.get("column_align");"middle"!==this.model.modes.row&&"boundaries"!==this.model.modes.row&&(t=this.expand_scale_domain(s,this.model.rows,this.model.modes.row,l),(i.min(t)<i.min(s.model.domain)||i.max(t)>i.max(s.model.domain))&&s.model.compute_and_set_domain(t,s.model.model_id)),"middle"!==this.model.modes.column&&"boundaries"!==this.model.modes.column&&(t=this.expand_scale_domain(a,this.model.columns,this.model.modes.column,u),(i.min(t)<i.min(a.model.domain)||i.max(t)>i.max(a.model.domain))&&a.model.compute_and_set_domain(t,a.model.model_id));var c=this.get_tile_plotting_data(s,this.model.rows,this.model.modes.row,l),h=this.get_tile_plotting_data(a,this.model.columns,this.model.modes.column,u);this.row_pixels=c.start,this.column_pixels=h.start,this.display_rows=this.d3el.selectAll(".heatmaprow").data(r.range(n)),this.display_rows.enter().append("g").attr("class","heatmaprow"),this.display_rows.attr("transform",function(t){return"translate(0, "+c.start[t]+")"});var d=r.range(o),f=r.range(n).map(function(t){return d.map(function(n){return e.model.mark_data[t*o+n]})});this.display_cells=this.display_rows.selectAll(".heatmapcell").data(function(t,e){return f[e]}),this.display_cells.enter().append("rect").attr("class","heatmapcell").on("click",r.bind(function(){this.event_dispatcher("element_clicked")},this));var p=this.model.get("stroke"),_=this.model.get("opacity");this.display_cells.attr({x:function(t,e){return h.start[e]},y:0}).attr("width",function(t,e){return h.widths[e]}).attr("height",function(t){return c.widths[t.row_num]}).style("fill",function(t){return e.get_element_fill(t)}).style({stroke:p,opacity:_}),this.display_cells.on("click",function(t,n){return e.event_dispatcher("element_clicked",{data:t.color,index:n,row_num:t.row_num,column_num:t.column_num})})},update_stroke:function(t,e){this.display_cells.style("stroke",e)},update_opacity:function(t,e){this.display_cells.style("opacity",e)},get_tile_plotting_data:function(t,e,n,r){var o,s=[],a=[];if("middle"===n)return s=e.map(function(e){return t.scale(e)}),a=e.map(function(e){return t.scale.rangeBand()}),{start:s,widths:a};if("boundaries"===n){var l=e.map(function(e){return t.scale(e)});a=[];for(var u=1;u<l.length;++u)a[u-1]=Math.abs(l[u]-l[u-1]);return{start:s=l[1]>l[0]?l.slice(0,-1):l.slice(1),widths:a}}if("expand_one"===n)return r?(a=(s=e.map(function(e){return t.scale(e)})).slice(1).map(function(t,e){return Math.abs(t-s[e])}),o=i.max(t.scale.range()),a=s[0]<s[1]?Array.prototype.concat(a,[Math.abs(o-i.max(s))]):Array.prototype.concat([Math.abs(o-i.max(s))],a)):(a=(s=e.map(function(e){return t.scale(e)})).slice(1).map(function(t,e){return Math.abs(t-s[e])}),o=i.min(t.scale.range()),o=i.min(t.scale.range()),s[1]>s[0]?(s.splice(0,0,Math.abs(0,0,o)),a.splice(0,0,s[1]-s[0]),s.splice(-1,1)):(a=Array.prototype.concat(a,[Math.abs(o-s.slice(-1)[0])]),(s=Array.prototype.concat(s,o)).splice(0,1))),{widths:a,start:s};if("expand_two"===n){var c=(s=e.map(function(e){return t.scale(e)}))[1]-s[0]>0,h=c?i.min(t.scale.range()):i.max(t.scale.range());return s.splice(0,0,h),a=s.slice(1).map(function(t,e){return Math.abs(t-s[e])}),h=c?i.max(t.scale.range()):i.min(t.scale.range()),a[a.length]=Math.abs(h-s.slice(-1)[0]),{start:s,widths:a}}},get_element_fill:function(t){return null===t.color?this.model.get("null_color"):this.scales.color.scale(t.color)},process_interactions:function(){var t=this.model.get("interactions");r.isEmpty(t)?this.reset_interactions():(void 0!==t.click&&null!==t.click?"tooltip"===t.click?(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"select"==t.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.element_clicked=this.click_handler):this.reset_click(),void 0!==t.hover&&null!==t.hover?"tooltip"===t.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover())}});t.exports={GridHeatMap:s}},function(t,e,n){var i=n(2),r=n(0),o=n(1),s=n(27),a="^"+n(18).version,l=s.BaseModel.extend({defaults:function(){return r.extend(s.BaseModel.prototype.defaults(),{_model_name:"MarketMapModel",_view_name:"MarketMap",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:a,_view_module_version:a,map_width:1080,map_height:800,names:[],groups:[],display_text:[],ref_data:void 0,title:"",tooltip_fields:[],tooltip_formats:[],show_groups:!1,cols:0,rows:0,row_groups:1,colors:o.scale.category20().range(),scales:{},axes:[],color:[],map_margin:{top:50,right:50,left:50,bottom:50},preserve_aspect:!1,stroke:"white",group_stroke:"black",selected_stroke:"dodgerblue",hovered_stroke:"orangered",font_style:{},title_style:{},selected:[],enable_hover:!0,enable_select:!0,tooltip_widget:null})}},{serializers:r.extend({scales:{deserialize:i.unpack_models},axes:{deserialize:i.unpack_models},tooltip_widget:{deserialize:i.unpack_models},style:{deserialize:i.unpack_models},layout:{deserialize:i.unpack_models}},s.BaseModel.serializers)});t.exports={MarketMapModel:l}},function(t,e,n){var i=n(1),r=n(0),o=(n(9),n(14).Mark.extend({render:function(){var t=o.__super__.render.apply(this),e=this;return this.displayed.then(function(){e.parent.tooltip_div.node().appendChild(e.tooltip_div.node()),e.create_tooltip()}),this.image=i.select(this.el).append("image").classed("heatmap",!0).attr("width",this.parent.width).attr("height",this.parent.height),this.canvas=document.createElement("canvas"),t.then(function(){e.event_listeners={},e.process_interactions(),e.create_listeners(),e.compute_view_padding(),e.draw()})},set_ranges:function(){var t=this.scales.x;if(t){var e=this.parent.padded_range("x",t.model);t.set_range(e)}var n=this.scales.y;n&&n.set_range(this.parent.padded_range("y",n.model))},set_positional_scales:function(){var t=this.scales.x,e=this.scales.y;this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()}),this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()})},create_listeners:function(){o.__super__.create_listeners.apply(this),this.d3el.on("mouseover",r.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",r.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"data_updated",this.draw,this),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")}),this.listenTo(this.model,"change:interactions",this.process_interactions)},click_handler:function(t){},process_interactions:function(t){},relayout:function(){this.set_ranges(),this.compute_view_padding(),this.draw()},draw_canvas:function(){this.image.attr("href",this.canvas.toDataURL("image/png"))},draw:function(){this.set_ranges();var t=this,e=this.get_x_plotting_data(this.model.mark_data.x),n=this.get_y_plotting_data(this.model.mark_data.y);this.canvas.setAttribute("width",e.total_width),this.canvas.setAttribute("height",n.total_height);var i=this.canvas.getContext("2d");this.model.mark_data.color.forEach(function(r,o){var s=n.heights[o],a=n.start[o];r.forEach(function(n,r){var o=e.widths[r],l=e.start[r];i.fillStyle=t.get_element_fill(n),i.fillRect(l,a,o+.5,s+.5)})}),this.image.attr("width",e.total_width).attr("height",n.total_height).attr("x",e.x0).attr("y",n.y0),this.draw_canvas()},get_x_plotting_data:function(t){var e=t.map(this.scales.x.scale),n=this.get_x_padding(e),i=t.length,r=e.map(function(t,r){return 0==r?.5*(e[1]-t)+n.left:r==i-1?.5*(t-e[r-1])+n.right:.5*(e[r+1]-e[r-1])}),o=e[0]-n.left,s=e.map(function(t,n){return 0==n?0:.5*(t+e[n-1])-o});return{widths:r,total_width:e[i-1]-e[0]+n.left+n.right,start:s,x0:o}},get_x_padding:function(t){var e=t.length;return{left:.5*(t[1]-t[0]),right:.5*(t[e-1]-t[e-2])}},get_y_plotting_data:function(t){var e=t.map(this.scales.y.scale),n=this.get_y_padding(e),i=t.length,r=e.map(function(t,r){return 0==r?.5*-(e[1]-t)+n.bottom:r==i-1?.5*-(t-e[r-1])+n.top:.5*-(e[r+1]-e[r-1])}),o=e[i-1]-n.top,s=e.map(function(t,n){return n==i-1?0:.5*(t+e[n+1])-o});return{heights:r,total_height:e[0]-e[i-1]+n.top+n.bottom,start:s,y0:o}},get_y_padding:function(t){var e=t.length;return{bottom:.5*-(t[1]-t[0]),top:.5*-(t[e-1]-t[e-2])}},get_element_fill:function(t){return null===t?this.model.get("null_color"):this.scales.color.scale(t)}}));t.exports={HeatMap:o}},function(t,e,n){n(1);var i=n(0),r=n(17),o=r.MarkModel.extend({defaults:i.extend({},r.MarkModel.prototype.defaults,{_model_name:"HeatMapModel",_view_name:"HeatMap",x:[],y:[],color:null,scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"},color:{dimension:"color"}},null_color:"black"}),initialize:function(){o.__super__.initialize.apply(this,arguments),this.on_some_change(["x","y","color"],this.update_data,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data(),this.update_domains()},update_data:function(){this.dirty=!0,this.mark_data={x:this.get_typed_field("x"),y:this.get_typed_field("y"),color:this.get_typed_field("color")},this.update_domains(),this.dirty=!1,this.trigger("data_updated")},update_domains:function(){if(this.mark_data){var t=this.get("scales"),e=t.x,n=t.y,i=t.color,r=[].concat.apply([],this.mark_data.color);this.get("preserve_domain").x?e.del_domain([],this.model_id+"_x"):e.compute_and_set_domain(this.mark_data.x,this.model_id+"_x"),this.get("preserve_domain").y?n.del_domain([],this.model_id+"_y"):n.compute_and_set_domain(this.mark_data.y,this.model_id+"_y"),null!=i&&(this.get("preserve_domain").color?i.del_domain([],this.model_id+"_color"):i.compute_and_set_domain(r,this.model_id+"_color"))}},get_data_dict:function(t,e){return t}});t.exports={HeatMapModel:o}},function(t,e,n){var i=n(2),r=n(0),o="^"+n(18).version,s=i.DOMWidgetModel.extend({defaults:function(){return r.extend(i.DOMWidgetModel.prototype.defaults(),{_model_name:"ToolbarModel",_view_name:"Toolbar",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:o,_view_module_version:o,figure:void 0,_panning:!1,_panzoom:null})},panzoom:function(){var t=this.get("figure");if(this.get("_panning"))t&&(t.set("interaction",this.cached_interaction),t.save_changes()),this.set("_panning",!1),this.save_changes();else{if(t){this.cached_interaction=t.get("interaction");var e=this,n=this.get("_panzoom");n?(t.set("interaction",n),t.save_changes()):this._create_panzoom_model(t).then(function(n){e.set("_panzoom",n),e.save_changes(),t.set("interaction",n),t.save_changes()})}this.set("_panning",!0),this.save_changes()}},reset:function(){var t=this.get("figure");this.get("_panning");if(t){t.set("interaction",this.cached_interaction),t.save_changes();var e=this.get("_panzoom");e.reset_scales(),e.close(),this.set("_panzoom",null),this.set("_panning",!1),this.save_changes()}},save_png:function(){var t=this.get("figure");t&&t.save_png()},_create_panzoom_model:function(t){return this.widget_manager.new_widget({model_name:"PanZoomModel",model_module:"bqplot",model_module_version:t.get("_model_module_version"),view_name:"PanZoom",view_module:"bqplot",view_module_version:t.get("_view_module_version")}).then(function(e){return Promise.all(t.get("marks")).then(function(t){for(var n=[],i=[],o=0;o<t.length;++o){var s=t[o].get("preserve_domain"),a=t[o].get("scales");r.each(a,function(e,r){var l=t[o].get("scales_metadata")[r].dimension;"x"!==l||s[r]||n.push(a[r]),"y"!==l||s[r]||i.push(a[r])})}return e.set("scales",{x:n,y:i}),e.save_changes(),e})})}},{serializers:r.extend({figure:{deserialize:i.unpack_models},_panzoom:{deserialize:i.unpack_models}},i.DOMWidgetModel.serializers)}),a=i.DOMWidgetView.extend({render:function(){var t=this;this.el.classList.add("jupyter-widget"),this.el.classList.add("widget-hbox");var e=document.createElement("button");e.classList.add("jupyter-widgets"),e.classList.add("jupyter-button"),e.classList.add("widget-toggle-button"),e.setAttribute("data-toggle","tooltip"),e.setAttribute("title","PanZoom"),e.onclick=function(e){e.preventDefault(),t.model.panzoom()};var n=document.createElement("i");n.className="fa fa-arrows",e.appendChild(n);var i=document.createElement("button");i.classList.add("jupyter-widgets"),i.classList.add("jupyter-button"),i.classList.add("widget-button"),i.setAttribute("data-toggle","tooltip"),i.setAttribute("title","Reset"),i.onclick=function(e){e.preventDefault(),t.model.reset()};var r=document.createElement("i");r.className="fa fa-refresh",i.appendChild(r);var o=document.createElement("button");o.classList.add("jupyter-widgets"),o.classList.add("jupyter-button"),o.classList.add("widget-button"),o.setAttribute("data-toggle","tooltip"),o.setAttribute("title","Save"),o.onclick=function(e){e.preventDefault(),t.model.save_png()};var s=document.createElement("i");s.className="fa fa-save",o.appendChild(s),this.el.appendChild(e),this.el.appendChild(i),this.el.appendChild(o),this._panzoom=e,this.update()},update:function(){this.model.get("_panning")?this._panzoom.classList.add("mod-active"):this._panzoom.classList.remove("mod-active")}});t.exports={Toolbar:a,ToolbarModel:s}},function(t,e,n){n(1);var i=n(0),r=n(17),o=r.MarkModel.extend({defaults:function(){return i.extend({},r.MarkModel.prototype.defaults,{_model_name:"GraphModel",_view_name:"Graph",x:[],y:[],color:null,hovered_point:null,scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"},color:{dimension:"color"}},colors:[]})},initialize:function(){o.__super__.initialize.apply(this,arguments),this.on_some_change(["x","y","color","link_color","node_data","link_data","link_color"],this.update_data,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data()},update_node_data:function(){var t=this.get("node_data"),e=this.get_typed_field("x"),n=this.get_typed_field("y"),i=this.get_typed_field("color"),r=this.get("scales"),o=(r.x,r.y,r.color);t.length>0&&"string"==typeof t[0]&&(t=t.map(function(t){return{label:t}})),this.mark_data=[];var s=this;t.forEach(function(t,e){t.label=t.label||"N"+e,t.label_display=t.label_display||"center",t.shape=t.shape||"circle",t.shape_attrs=function(t,e){var n={};switch(t){case"circle":n.r=e.r||15;break;case"rect":n.width=e.width||25,n.height=e.height||.8*n.width,n.rx=e.rx||0,n.ry=e.ry||0;break;case"ellipse":n.rx=e.rx||20,n.ry=e.ry||.6*n.rx;break;default:console.log("Invalid shape passed - ",t)}return n}(t.shape,t.shape_attrs||{}),t.value=t.value||null,s.mark_data.push(t)}),0!==e.length&&0!==n.length&&(o&&(this.get("preserve_domain").color?o.del_domain([],this.model_id+"_color"):o.compute_and_set_domain(i,this.model_id+"_color")),this.mark_data.forEach(function(t,r){t.xval=e[r],t.yval=n[r],t.color=i[r]}))},update_link_data:function(){var t=this.get("scales").link_color;this.link_data=this.get("link_data");var e=this.get_typed_field("link_matrix"),n=this.get_typed_field("link_color"),i=this;void 0!==t&&n.length>0&&(e=n),0===this.link_data.length&&e.length>0&&e.forEach(function(t,e){t.forEach(function(t,n){null!==t&&i.link_data.push({source:e,target:n,value:t})})})},update_data:function(){this.dirty=!0,this.update_node_data(),this.update_link_data(),this.update_unique_ids(),this.update_domains(),this.dirty=!1,this.trigger("data_updated")},update_unique_ids:function(){},get_data_dict:function(t,e){return t},update_domains:function(){var t={x:"xval",y:"yval"};if(this.mark_data){var e=this.get("scales");for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];this.get("preserve_domain")[n]?i.del_domain([],this.model_id+n):i.compute_and_set_domain(this.mark_data.map(function(e){return e[n]||e[t[n]]}),this.model_id+n)}}}});t.exports={GraphModel:o}},function(t,e,n){var i=n(1),r=n(0),o=n(9),s=n(14).Mark.extend({render:function(){var t=s.__super__.render.apply(this),e=this;return this.selected_style=this.model.get("selected_style"),this.unselected_style=this.model.get("unselected_style"),this.selected_indices=this.model.get("selected"),this.hovered_style=this.model.get("hovered_style"),this.unhovered_style=this.model.get("unhovered_style"),this.hovered_index=this.model.get("hovered_point")?[this.model.get("hovered_point")]:null,this.display_el_classes=["element"],this.event_metadata={mouse_over:{msg_name:"hover",lookup_data:!1,hit_test:!0},node_clicked:{msg_name:"node_click",lookup_data:!1,hit_test:!0},parent_clicked:{msg_name:"background_click",hit_test:!1}},this.displayed.then(function(){e.parent.tooltip_div.node().appendChild(e.tooltip_div.node()),e.create_tooltip()}),this.d3el.attr("class","network"),this.arrow=this.parent.svg.append("defs").append("marker").attr("id","arrow").attr("refX",0).attr("refY",3).attr("markerWidth",10).attr("markerHeight",10).attr("orient","auto").append("path").attr("class","linkarrow").attr("d","M0,0 L0,6 L9,3 z"),t.then(function(){e.event_listeners={},e.process_interactions(),e.create_listeners(),e.compute_view_padding(),e.draw()})},set_ranges:function(){var t=this.scales.x,e=this.scales.y;t&&t.set_range(this.parent.padded_range("x",t.model)),e&&e.set_range(this.parent.padded_range("y",e.model))},set_positional_scales:function(){this.x_scale=this.scales.x,this.y_scale=this.scales.y,this.x_scale||(this.x_scale=this.parent.scale_x),this.y_scale||(this.y_scale=this.parent.scale_y),this.listenTo(this.x_scale,"domain_changed",function(){this.model.dirty||this.update_position()}),this.listenTo(this.y_scale,"domain_changed",function(){this.model.dirty||this.update_position()})},relayout:function(){this.set_ranges(),this.update_position()},update_position:function(){var t=this.scales.x,e=this.scales.y;this.set_ranges();t&&e&&(this.model.mark_data.forEach(function(n){n.x=t.scale(n.xval)+t.offset,n.y=e.scale(n.yval)+e.offset}),this.force_layout&&(this.force_layout.nodes(this.model.mark_data).links(this.model.link_data).start(),this.links&&this.links.data(this.force_layout.links()),this.nodes&&this.nodes.data(this.force_layout.nodes()),this.nodes&&this.links&&this.tick()))},initialize_additional_scales:function(){var t=this.scales.color;t&&(this.listenTo(t,"domain_changed",function(){this.color_scale_updated()}),t.on("color_scale_range_changed",this.color_scale_updated,this));var e=this.scales.link_color;e&&this.listenTo(e,"domain_changed",function(){this.link_color_scale_updated()})},create_listeners:function(){s.__super__.create_listeners.apply(this),this.d3el.on("mouseover",r.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",r.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"change:charge",this.update_charge),this.listenTo(this.model,"change:link_distance",this.update_link_distance),this.listenTo(this.model,"data_updated",this.draw,this),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.listenTo(this.model,"change:enable_hover",function(){this.hide_tooltip()},this),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.model,"change:selected",this.update_selected),this.listenTo(this.model,"change:hovered_point",this.update_hovered),this.listenTo(this.model,"change:hovered_style",this.hovered_style_updated,this),this.listenTo(this.model,"change:unhovered_style",this.unhovered_style_updated,this),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")})},get_node_color:function(t,e){var n=this.scales.color,i=this.model.get("colors"),r=i.length;return n&&void 0!==t.color?n.scale(t.color):i[e%r]},draw:function(){this.set_ranges();var t=this.scales.x,e=this.scales.y,n=(this.scales.color,this.scales.link_color);this.d3el.selectAll(".node").remove(),this.d3el.selectAll(".link").remove(),this.force_layout=i.layout.force().size([this.parent.width,this.parent.height]).linkDistance(this.model.get("link_distance")),t&&e&&this.model.mark_data.forEach(function(n){n.x=t.scale(n.xval)+t.offset,n.y=e.scale(n.yval)+e.offset}),this.force_layout.nodes(this.model.mark_data).links(this.model.link_data),t||e||this.force_layout.charge(this.model.get("charge")).on("tick",r.bind(this.tick,this)).start();var o=this.model.get("directed");this.links=this.d3el.selectAll(".link").data(this.force_layout.links()).enter().append("path").attr("class","link").style("stroke",function(t){return n?n.scale(t.value):null}).attr("stroke-width",function(t){return t.link_width}).attr("marker-mid",o?"url(#arrow)":null);var s=this;this.nodes=this.d3el.selectAll(".node").data(this.force_layout.nodes()).enter().append("g").attr("class","node").call(this.force_layout.drag),this.nodes.append(function(t){return document.createElementNS(i.ns.prefix.svg,t.shape)}).attr("class","element").each(function(t){var e=i.select(this);for(var n in t.shape_attrs)e.attr(n,t.shape_attrs[n])}).style("fill",function(t,e){return s.get_node_color(t,e)}),this.nodes.append("text").attr("class","label").attr("text-anchor",function(t){return"center"===t.label_display?"middle":"start"}).attr("x",function(t){var e=0;if("outside"===t.label_display)switch(t.shape){case"rect":e=t.shape_attrs.width/2+5;break;case"circle":e=t.shape_attrs.r+5;break;case"ellipse":e=t.shape_attrs.rx+5;break;default:e=0}return e}).attr("y",".31em").text(function(t){return t.label}).style("display",function(t){return"none"===t.label_display?"none":"inline"}),this.nodes.on("click",r.bind(function(t,e){this.event_dispatcher("node_clicked",{data:t,index:e})},this)),this.nodes.on("mouseover",r.bind(function(t,e){this.hover_handler({data:t,index:e})},this)),this.nodes.on("mouseout",r.bind(function(){this.reset_hover()},this))},color_scale_updated:function(){var t=this;this.nodes.selectAll(".element").style("fill",function(e,n){return t.get_node_color(e,n)})},link_color_scale_updated:function(){var t=this.scales.link_color;this.links.style("stroke",function(e){return t?t.scale(e.value):null})},process_interactions:function(){var t=this.model.get("interactions");r.isEmpty(t)?this.reset_interactions():(void 0!==t.click&&null!==t.click?"tooltip"===t.click?(this.event_listeners.node_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"select"==t.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.node_clicked=this.click_handler):this.reset_click(),void 0!==t.hover&&null!==t.hover?"tooltip"===t.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover())},reset_hover:function(){this.links.style("opacity",1),this.model.set("hovered_point",null),this.hovered_index=null,this.touch()},hover_handler:function(t){var e=t.data,n=t.index;this.model.get("highlight_links")?this.links.style("opacity",function(t){return t.source.label===e.label||t.target.label===e.label?1:.1}):this.links.style("opacity",1),this.model.set("hovered_point",n,{updated_view:this}),this.touch()},reset_selection:function(){this.model.set("selected",null),this.selected_indices=null,this.touch()},click_handler:function(t){t.data;var e=t.index,n=this.model.get("selected"),r=n?o.deepCopy(n):[],s=r.indexOf(e),a=i.event.ctrlKey||i.event.metaKey;s>-1&&a?r.splice(s,1):a?r.push(e):(r=[]).push(e),this.model.set("selected",0===r.length?null:r,{updated_view:this}),this.touch(),i.event||(i.event=window.event);var l=i.event;void 0!==l.cancelBubble&&(l.cancelBubble=!0),l.stopPropagation&&l.stopPropagation(),l.preventDefault()},hovered_style_updated:function(t,e){this.hovered_style=e,this.clear_style(t.previous("hovered_style"),this.hovered_index),this.style_updated(e,this.hovered_index)},unhovered_style_updated:function(t,e){this.unhovered_style=e;var n=this.hovered_index,i=n?r.range(this.model.mark_data.length).filter(function(t){return-1===n.indexOf(t)}):[];this.clear_style(t.previous("unhovered_style"),i),this.style_updated(e,i)},update_selected:function(t,e){this.selected_indices=e,this.apply_styles()},update_hovered:function(t,e){this.hovered_index=null===e?e:[e],this.apply_styles()},apply_styles:function(t){null==t&&(t=[this.selected_style,this.unselected_style,this.hovered_style,this.unhovered_style]),s.__super__.apply_styles.apply(this,[t]);var e=r.range(this.model.mark_data.length);this.set_style_on_elements(this.hovered_style,this.hovered_index);var n=this.hovered_index?r.difference(e,this.hovered_index):[];this.set_style_on_elements(this.unhovered_style,n)},clear_style:function(t,e){var n=this.d3el.selectAll(".element");e&&(n=n.filter(function(t,n){return-1!==e.indexOf(n)}));var i={};for(var r in t)i[r]=null;n.style(i)},set_style_on_elements:function(t,e){if(e&&0!==e.length&&(void 0===t||0!==Object.keys(t).length)){var n=this.d3el.selectAll(".element");(n=n.filter(function(t,n){return-1!==e.indexOf(n)})).style(t)}},compute_view_padding:function(){var t=i.max(this.model.mark_data.map(function(t){return(t.shape_attrs.r||t.shape_attrs.width/2||t.shape_attrs.rx)+1})),e=i.max(this.model.mark_data.map(function(t){return(t.shape_attrs.r||t.shape_attrs.height/2||t.shape_attrs.ry)+1}));t===this.x_padding&&e===this.y_padding||(this.x_padding=t,this.y_padding=t,this.trigger("mark_padding_updated"))},selected_deleter:function(){i.event.stopPropagation()},update_link_distance:function(){var t=this.scales.x,e=this.scales.y,n=this.model.get("link_distance");t||e||this.force_layout.linkDistance(n).start()},update_charge:function(){var t=this.scales.x,e=this.scales.y,n=this.model.get("charge");t||e||this.force_layout.charge(n).start()},link_arc:function(t){var e=t.target.x-t.source.x,n=t.target.y-t.source.y,i=Math.sqrt(e*e+n*n);return"M"+t.source.x+","+t.source.y+"A"+i+","+i+" 0 0,1 "+t.target.x+","+t.target.y},link_line:function(t){var e=(t.source.x+t.target.x)/2,n=(t.source.y+t.target.y)/2;return"M"+t.source.x+","+t.source.y+"L"+e+","+n+"L"+t.target.x+","+t.target.y},link_slant_line:function(t){var e=(t.source.x+t.target.x)/2;return"M"+t.source.x+","+t.source.y+"L"+e+","+t.target.y+"L"+t.target.x+","+t.target.y},tick:function(){var t=this.model.get("link_type");this.nodes.attr("transform",function(t){return"translate("+t.x+","+t.y+")"}),this.nodes.select("rect").attr("transform",function(t){return"translate("+-t.shape_attrs.width/2+","+-t.shape_attrs.height/2+")"});var e=this.link_arc;switch(t){case"arc":e=this.link_arc;break;case"line":e=this.link_line;break;case"slant_line":e=this.link_slant_line;break;default:e=this.link_arc}this.links.attr("d",function(t){return e(t)})}});t.exports={Graph:s}},function(t,e,n){var i=n(517);"string"==typeof i&&(i=[[t.i,i,""]]);var r={transform:void 0};n(36)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(e=t.exports=n(23)(!1)).i(n(518),""),e.i(n(520),""),e.push([t.i,"/* Copyright (c) Jupyter Development Team.\n * Distributed under the terms of the Modified BSD License.\n */\n\n /* We import all of these together in a single css file because the Webpack\nloader sees only one file at a time. This allows postcss to see the variable\ndefinitions when they are used. */\n",""])},function(t,e,n){(e=t.exports=n(23)(!1)).i(n(519),""),e.push([t.i,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/*\nThis file is copied from the JupyterLab project to define default styling for\nwhen the widget styling is compiled down to eliminate CSS variables. We make one\nchange - we comment out the font import below.\n*/\n\n/*\nThe following CSS variables define the main, public API for styling JupyterLab.\nThese variables should be used by all plugins wherever possible. In other\nwords, plugins should not define custom colors, sizes, etc unless absolutely\nnecessary. This enables users to change the visual theme of JupyterLab\nby changing these variables.\n\nMany variables appear in an ordered sequence (0,1,2,3). These sequences\nare designed to work well together, so for example, `--jp-border-color1` should\nbe used with `--jp-layout-color1`. The numbers have the following meanings:\n\n* 0: super-primary, reserved for special emphasis\n* 1: primary, most important under normal situations\n* 2: secondary, next most important under normal situations\n* 3: tertiary, next most important under normal situations\n\nThroughout JupyterLab, we are mostly following principles from Google's\nMaterial Design when selecting colors. We are not, however, following\nall of MD as it is not optimized for dense, information rich UIs.\n*/\n\n\n/*\n * Optional monospace font for input/output prompt.\n */\n /* Commented out in ipywidgets since we don't need it. */\n/* @import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); */\n\n/*\n * Added for compabitility with output area\n */\n:root {\n  --jp-icon-search: none;\n  --jp-ui-select-caret: none;\n}\n\n\n:root {\n\n  /* Borders\n\n  The following variables, specify the visual styling of borders in JupyterLab.\n   */\n\n  --jp-border-width: 1px;\n  --jp-border-color0: var(--md-grey-700);\n  --jp-border-color1: var(--md-grey-500);\n  --jp-border-color2: var(--md-grey-300);\n  --jp-border-color3: var(--md-grey-100);\n\n  /* UI Fonts\n\n  The UI font CSS variables are used for the typography all of the JupyterLab\n  user interface elements that are not directly user generated content.\n  */\n\n  --jp-ui-font-scale-factor: 1.2;\n  --jp-ui-font-size0: calc(var(--jp-ui-font-size1)/var(--jp-ui-font-scale-factor));\n  --jp-ui-font-size1: 13px; /* Base font size */\n  --jp-ui-font-size2: calc(var(--jp-ui-font-size1)*var(--jp-ui-font-scale-factor));\n  --jp-ui-font-size3: calc(var(--jp-ui-font-size2)*var(--jp-ui-font-scale-factor));\n  --jp-ui-icon-font-size: 14px; /* Ensures px perfect FontAwesome icons */\n  --jp-ui-font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n\n  /* Use these font colors against the corresponding main layout colors.\n     In a light theme, these go from dark to light.\n  */\n\n  --jp-ui-font-color0: rgba(0,0,0,1.0);\n  --jp-ui-font-color1: rgba(0,0,0,0.8);\n  --jp-ui-font-color2: rgba(0,0,0,0.5);\n  --jp-ui-font-color3: rgba(0,0,0,0.3);\n\n  /* Use these against the brand/accent/warn/error colors.\n     These will typically go from light to darker, in both a dark and light theme\n   */\n\n  --jp-inverse-ui-font-color0: rgba(255,255,255,1);\n  --jp-inverse-ui-font-color1: rgba(255,255,255,1.0);\n  --jp-inverse-ui-font-color2: rgba(255,255,255,0.7);\n  --jp-inverse-ui-font-color3: rgba(255,255,255,0.5);\n\n  /* Content Fonts\n\n  Content font variables are used for typography of user generated content.\n  */\n\n  --jp-content-font-size: 13px;\n  --jp-content-line-height: 1.5;\n  --jp-content-font-color0: black;\n  --jp-content-font-color1: black;\n  --jp-content-font-color2: var(--md-grey-700);\n  --jp-content-font-color3: var(--md-grey-500);\n\n  --jp-ui-font-scale-factor: 1.2;\n  --jp-ui-font-size0: calc(var(--jp-ui-font-size1)/var(--jp-ui-font-scale-factor));\n  --jp-ui-font-size1: 13px; /* Base font size */\n  --jp-ui-font-size2: calc(var(--jp-ui-font-size1)*var(--jp-ui-font-scale-factor));\n  --jp-ui-font-size3: calc(var(--jp-ui-font-size2)*var(--jp-ui-font-scale-factor));\n\n  --jp-code-font-size: 13px;\n  --jp-code-line-height: 1.307;\n  --jp-code-padding: 5px;\n  --jp-code-font-family: monospace;\n\n\n  /* Layout\n\n  The following are the main layout colors use in JupyterLab. In a light\n  theme these would go from light to dark.\n  */\n\n  --jp-layout-color0: white;\n  --jp-layout-color1: white;\n  --jp-layout-color2: var(--md-grey-200);\n  --jp-layout-color3: var(--md-grey-400);\n\n  /* Brand/accent */\n\n  --jp-brand-color0: var(--md-blue-700);\n  --jp-brand-color1: var(--md-blue-500);\n  --jp-brand-color2: var(--md-blue-300);\n  --jp-brand-color3: var(--md-blue-100);\n\n  --jp-accent-color0: var(--md-green-700);\n  --jp-accent-color1: var(--md-green-500);\n  --jp-accent-color2: var(--md-green-300);\n  --jp-accent-color3: var(--md-green-100);\n\n  /* State colors (warn, error, success, info) */\n\n  --jp-warn-color0: var(--md-orange-700);\n  --jp-warn-color1: var(--md-orange-500);\n  --jp-warn-color2: var(--md-orange-300);\n  --jp-warn-color3: var(--md-orange-100);\n\n  --jp-error-color0: var(--md-red-700);\n  --jp-error-color1: var(--md-red-500);\n  --jp-error-color2: var(--md-red-300);\n  --jp-error-color3: var(--md-red-100);\n\n  --jp-success-color0: var(--md-green-700);\n  --jp-success-color1: var(--md-green-500);\n  --jp-success-color2: var(--md-green-300);\n  --jp-success-color3: var(--md-green-100);\n\n  --jp-info-color0: var(--md-cyan-700);\n  --jp-info-color1: var(--md-cyan-500);\n  --jp-info-color2: var(--md-cyan-300);\n  --jp-info-color3: var(--md-cyan-100);\n\n  /* Cell specific styles */\n\n  --jp-cell-padding: 5px;\n  --jp-cell-editor-background: #f7f7f7;\n  --jp-cell-editor-border-color: #cfcfcf;\n  --jp-cell-editor-background-edit: var(--jp-ui-layout-color1);\n  --jp-cell-editor-border-color-edit: var(--jp-brand-color1);\n  --jp-cell-prompt-width: 100px;\n  --jp-cell-prompt-font-family: 'Roboto Mono', monospace;\n  --jp-cell-prompt-letter-spacing: 0px;\n  --jp-cell-prompt-opacity: 1.0;\n  --jp-cell-prompt-opacity-not-active: 0.4;\n  --jp-cell-prompt-font-color-not-active: var(--md-grey-700);\n  /* A custom blend of MD grey and blue 600\n   * See https://meyerweb.com/eric/tools/color-blend/#546E7A:1E88E5:5:hex */\n  --jp-cell-inprompt-font-color: #307FC1;\n  /* A custom blend of MD grey and orange 600\n   * https://meyerweb.com/eric/tools/color-blend/#546E7A:F4511E:5:hex */\n  --jp-cell-outprompt-font-color: #BF5B3D;\n\n  /* Notebook specific styles */\n\n  --jp-notebook-padding: 10px;\n  --jp-notebook-scroll-padding: 100px;\n\n  /* Console specific styles */\n\n  --jp-console-background: var(--md-grey-100);\n\n  /* Toolbar specific styles */\n\n  --jp-toolbar-border-color: var(--md-grey-400);\n  --jp-toolbar-micro-height: 8px;\n  --jp-toolbar-background: var(--jp-layout-color0);\n  --jp-toolbar-box-shadow: 0px 0px 2px 0px rgba(0,0,0,0.24);\n  --jp-toolbar-header-margin: 4px 4px 0px 4px;\n  --jp-toolbar-active-background: var(--md-grey-300);\n}\n",""])},function(t,e,n){(t.exports=n(23)(!1)).push([t.i,'/**\n * The material design colors are adapted from google-material-color v1.2.6\n * https://github.com/danlevan/google-material-color\n * https://github.com/danlevan/google-material-color/blob/f67ca5f4028b2f1b34862f64b0ca67323f91b088/dist/palette.var.css\n *\n * The license for the material design color CSS variables is as follows (see\n * https://github.com/danlevan/google-material-color/blob/f67ca5f4028b2f1b34862f64b0ca67323f91b088/LICENSE)\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2014 Dan Le Van\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n:root {\n  --md-red-50: #FFEBEE;\n  --md-red-100: #FFCDD2;\n  --md-red-200: #EF9A9A;\n  --md-red-300: #E57373;\n  --md-red-400: #EF5350;\n  --md-red-500: #F44336;\n  --md-red-600: #E53935;\n  --md-red-700: #D32F2F;\n  --md-red-800: #C62828;\n  --md-red-900: #B71C1C;\n  --md-red-A100: #FF8A80;\n  --md-red-A200: #FF5252;\n  --md-red-A400: #FF1744;\n  --md-red-A700: #D50000;\n\n  --md-pink-50: #FCE4EC;\n  --md-pink-100: #F8BBD0;\n  --md-pink-200: #F48FB1;\n  --md-pink-300: #F06292;\n  --md-pink-400: #EC407A;\n  --md-pink-500: #E91E63;\n  --md-pink-600: #D81B60;\n  --md-pink-700: #C2185B;\n  --md-pink-800: #AD1457;\n  --md-pink-900: #880E4F;\n  --md-pink-A100: #FF80AB;\n  --md-pink-A200: #FF4081;\n  --md-pink-A400: #F50057;\n  --md-pink-A700: #C51162;\n\n  --md-purple-50: #F3E5F5;\n  --md-purple-100: #E1BEE7;\n  --md-purple-200: #CE93D8;\n  --md-purple-300: #BA68C8;\n  --md-purple-400: #AB47BC;\n  --md-purple-500: #9C27B0;\n  --md-purple-600: #8E24AA;\n  --md-purple-700: #7B1FA2;\n  --md-purple-800: #6A1B9A;\n  --md-purple-900: #4A148C;\n  --md-purple-A100: #EA80FC;\n  --md-purple-A200: #E040FB;\n  --md-purple-A400: #D500F9;\n  --md-purple-A700: #AA00FF;\n\n  --md-deep-purple-50: #EDE7F6;\n  --md-deep-purple-100: #D1C4E9;\n  --md-deep-purple-200: #B39DDB;\n  --md-deep-purple-300: #9575CD;\n  --md-deep-purple-400: #7E57C2;\n  --md-deep-purple-500: #673AB7;\n  --md-deep-purple-600: #5E35B1;\n  --md-deep-purple-700: #512DA8;\n  --md-deep-purple-800: #4527A0;\n  --md-deep-purple-900: #311B92;\n  --md-deep-purple-A100: #B388FF;\n  --md-deep-purple-A200: #7C4DFF;\n  --md-deep-purple-A400: #651FFF;\n  --md-deep-purple-A700: #6200EA;\n\n  --md-indigo-50: #E8EAF6;\n  --md-indigo-100: #C5CAE9;\n  --md-indigo-200: #9FA8DA;\n  --md-indigo-300: #7986CB;\n  --md-indigo-400: #5C6BC0;\n  --md-indigo-500: #3F51B5;\n  --md-indigo-600: #3949AB;\n  --md-indigo-700: #303F9F;\n  --md-indigo-800: #283593;\n  --md-indigo-900: #1A237E;\n  --md-indigo-A100: #8C9EFF;\n  --md-indigo-A200: #536DFE;\n  --md-indigo-A400: #3D5AFE;\n  --md-indigo-A700: #304FFE;\n\n  --md-blue-50: #E3F2FD;\n  --md-blue-100: #BBDEFB;\n  --md-blue-200: #90CAF9;\n  --md-blue-300: #64B5F6;\n  --md-blue-400: #42A5F5;\n  --md-blue-500: #2196F3;\n  --md-blue-600: #1E88E5;\n  --md-blue-700: #1976D2;\n  --md-blue-800: #1565C0;\n  --md-blue-900: #0D47A1;\n  --md-blue-A100: #82B1FF;\n  --md-blue-A200: #448AFF;\n  --md-blue-A400: #2979FF;\n  --md-blue-A700: #2962FF;\n\n  --md-light-blue-50: #E1F5FE;\n  --md-light-blue-100: #B3E5FC;\n  --md-light-blue-200: #81D4FA;\n  --md-light-blue-300: #4FC3F7;\n  --md-light-blue-400: #29B6F6;\n  --md-light-blue-500: #03A9F4;\n  --md-light-blue-600: #039BE5;\n  --md-light-blue-700: #0288D1;\n  --md-light-blue-800: #0277BD;\n  --md-light-blue-900: #01579B;\n  --md-light-blue-A100: #80D8FF;\n  --md-light-blue-A200: #40C4FF;\n  --md-light-blue-A400: #00B0FF;\n  --md-light-blue-A700: #0091EA;\n\n  --md-cyan-50: #E0F7FA;\n  --md-cyan-100: #B2EBF2;\n  --md-cyan-200: #80DEEA;\n  --md-cyan-300: #4DD0E1;\n  --md-cyan-400: #26C6DA;\n  --md-cyan-500: #00BCD4;\n  --md-cyan-600: #00ACC1;\n  --md-cyan-700: #0097A7;\n  --md-cyan-800: #00838F;\n  --md-cyan-900: #006064;\n  --md-cyan-A100: #84FFFF;\n  --md-cyan-A200: #18FFFF;\n  --md-cyan-A400: #00E5FF;\n  --md-cyan-A700: #00B8D4;\n\n  --md-teal-50: #E0F2F1;\n  --md-teal-100: #B2DFDB;\n  --md-teal-200: #80CBC4;\n  --md-teal-300: #4DB6AC;\n  --md-teal-400: #26A69A;\n  --md-teal-500: #009688;\n  --md-teal-600: #00897B;\n  --md-teal-700: #00796B;\n  --md-teal-800: #00695C;\n  --md-teal-900: #004D40;\n  --md-teal-A100: #A7FFEB;\n  --md-teal-A200: #64FFDA;\n  --md-teal-A400: #1DE9B6;\n  --md-teal-A700: #00BFA5;\n\n  --md-green-50: #E8F5E9;\n  --md-green-100: #C8E6C9;\n  --md-green-200: #A5D6A7;\n  --md-green-300: #81C784;\n  --md-green-400: #66BB6A;\n  --md-green-500: #4CAF50;\n  --md-green-600: #43A047;\n  --md-green-700: #388E3C;\n  --md-green-800: #2E7D32;\n  --md-green-900: #1B5E20;\n  --md-green-A100: #B9F6CA;\n  --md-green-A200: #69F0AE;\n  --md-green-A400: #00E676;\n  --md-green-A700: #00C853;\n\n  --md-light-green-50: #F1F8E9;\n  --md-light-green-100: #DCEDC8;\n  --md-light-green-200: #C5E1A5;\n  --md-light-green-300: #AED581;\n  --md-light-green-400: #9CCC65;\n  --md-light-green-500: #8BC34A;\n  --md-light-green-600: #7CB342;\n  --md-light-green-700: #689F38;\n  --md-light-green-800: #558B2F;\n  --md-light-green-900: #33691E;\n  --md-light-green-A100: #CCFF90;\n  --md-light-green-A200: #B2FF59;\n  --md-light-green-A400: #76FF03;\n  --md-light-green-A700: #64DD17;\n\n  --md-lime-50: #F9FBE7;\n  --md-lime-100: #F0F4C3;\n  --md-lime-200: #E6EE9C;\n  --md-lime-300: #DCE775;\n  --md-lime-400: #D4E157;\n  --md-lime-500: #CDDC39;\n  --md-lime-600: #C0CA33;\n  --md-lime-700: #AFB42B;\n  --md-lime-800: #9E9D24;\n  --md-lime-900: #827717;\n  --md-lime-A100: #F4FF81;\n  --md-lime-A200: #EEFF41;\n  --md-lime-A400: #C6FF00;\n  --md-lime-A700: #AEEA00;\n\n  --md-yellow-50: #FFFDE7;\n  --md-yellow-100: #FFF9C4;\n  --md-yellow-200: #FFF59D;\n  --md-yellow-300: #FFF176;\n  --md-yellow-400: #FFEE58;\n  --md-yellow-500: #FFEB3B;\n  --md-yellow-600: #FDD835;\n  --md-yellow-700: #FBC02D;\n  --md-yellow-800: #F9A825;\n  --md-yellow-900: #F57F17;\n  --md-yellow-A100: #FFFF8D;\n  --md-yellow-A200: #FFFF00;\n  --md-yellow-A400: #FFEA00;\n  --md-yellow-A700: #FFD600;\n\n  --md-amber-50: #FFF8E1;\n  --md-amber-100: #FFECB3;\n  --md-amber-200: #FFE082;\n  --md-amber-300: #FFD54F;\n  --md-amber-400: #FFCA28;\n  --md-amber-500: #FFC107;\n  --md-amber-600: #FFB300;\n  --md-amber-700: #FFA000;\n  --md-amber-800: #FF8F00;\n  --md-amber-900: #FF6F00;\n  --md-amber-A100: #FFE57F;\n  --md-amber-A200: #FFD740;\n  --md-amber-A400: #FFC400;\n  --md-amber-A700: #FFAB00;\n\n  --md-orange-50: #FFF3E0;\n  --md-orange-100: #FFE0B2;\n  --md-orange-200: #FFCC80;\n  --md-orange-300: #FFB74D;\n  --md-orange-400: #FFA726;\n  --md-orange-500: #FF9800;\n  --md-orange-600: #FB8C00;\n  --md-orange-700: #F57C00;\n  --md-orange-800: #EF6C00;\n  --md-orange-900: #E65100;\n  --md-orange-A100: #FFD180;\n  --md-orange-A200: #FFAB40;\n  --md-orange-A400: #FF9100;\n  --md-orange-A700: #FF6D00;\n\n  --md-deep-orange-50: #FBE9E7;\n  --md-deep-orange-100: #FFCCBC;\n  --md-deep-orange-200: #FFAB91;\n  --md-deep-orange-300: #FF8A65;\n  --md-deep-orange-400: #FF7043;\n  --md-deep-orange-500: #FF5722;\n  --md-deep-orange-600: #F4511E;\n  --md-deep-orange-700: #E64A19;\n  --md-deep-orange-800: #D84315;\n  --md-deep-orange-900: #BF360C;\n  --md-deep-orange-A100: #FF9E80;\n  --md-deep-orange-A200: #FF6E40;\n  --md-deep-orange-A400: #FF3D00;\n  --md-deep-orange-A700: #DD2C00;\n\n  --md-brown-50: #EFEBE9;\n  --md-brown-100: #D7CCC8;\n  --md-brown-200: #BCAAA4;\n  --md-brown-300: #A1887F;\n  --md-brown-400: #8D6E63;\n  --md-brown-500: #795548;\n  --md-brown-600: #6D4C41;\n  --md-brown-700: #5D4037;\n  --md-brown-800: #4E342E;\n  --md-brown-900: #3E2723;\n\n  --md-grey-50: #FAFAFA;\n  --md-grey-100: #F5F5F5;\n  --md-grey-200: #EEEEEE;\n  --md-grey-300: #E0E0E0;\n  --md-grey-400: #BDBDBD;\n  --md-grey-500: #9E9E9E;\n  --md-grey-600: #757575;\n  --md-grey-700: #616161;\n  --md-grey-800: #424242;\n  --md-grey-900: #212121;\n\n  --md-blue-grey-50: #ECEFF1;\n  --md-blue-grey-100: #CFD8DC;\n  --md-blue-grey-200: #B0BEC5;\n  --md-blue-grey-300: #90A4AE;\n  --md-blue-grey-400: #78909C;\n  --md-blue-grey-500: #607D8B;\n  --md-blue-grey-600: #546E7A;\n  --md-blue-grey-700: #455A64;\n  --md-blue-grey-800: #37474F;\n  --md-blue-grey-900: #263238;\n}',""])},function(t,e,n){(e=t.exports=n(23)(!1)).i(n(521),""),e.push([t.i,'/* Copyright (c) Jupyter Development Team.\n * Distributed under the terms of the Modified BSD License.\n */\n\n/*\n * We assume that the CSS variables in\n * https://github.com/jupyterlab/jupyterlab/blob/master/src/default-theme/variables.css\n * have been defined.\n */\n\n:root {\n    --jp-widgets-color: var(--jp-content-font-color1);\n    --jp-widgets-label-color: var(--jp-widgets-color);\n    --jp-widgets-readout-color: var(--jp-widgets-color);\n    --jp-widgets-font-size: var(--jp-ui-font-size1);\n    --jp-widgets-margin: 2px;\n    --jp-widgets-inline-height: 28px;\n    --jp-widgets-inline-width: 300px;\n    --jp-widgets-inline-width-short: calc(var(--jp-widgets-inline-width) / 2 - var(--jp-widgets-margin));\n    --jp-widgets-inline-width-tiny: calc(var(--jp-widgets-inline-width-short) / 2 - var(--jp-widgets-margin));\n    --jp-widgets-inline-margin: 4px; /* margin between inline elements */\n    --jp-widgets-inline-label-width: 80px;\n    --jp-widgets-border-width: var(--jp-border-width);\n    --jp-widgets-vertical-height: 200px;\n    --jp-widgets-horizontal-tab-height: 24px;\n    --jp-widgets-horizontal-tab-width: 144px;\n    --jp-widgets-horizontal-tab-top-border: 2px;\n    --jp-widgets-progress-thickness: 20px;\n    --jp-widgets-container-padding: 15px;\n    --jp-widgets-input-padding: 4px;\n    --jp-widgets-radio-item-height-adjustment: 8px;\n    --jp-widgets-radio-item-height: calc(var(--jp-widgets-inline-height) - var(--jp-widgets-radio-item-height-adjustment));\n    --jp-widgets-slider-track-thickness: 4px;\n    --jp-widgets-slider-border-width: var(--jp-widgets-border-width);\n    --jp-widgets-slider-handle-size: 16px;\n    --jp-widgets-slider-handle-border-color: var(--jp-border-color1);\n    --jp-widgets-slider-handle-background-color: var(--jp-layout-color1);\n    --jp-widgets-slider-active-handle-color: var(--jp-brand-color1);\n    --jp-widgets-menu-item-height: 24px;\n    --jp-widgets-dropdown-arrow: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxOCAxOCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTggMTg7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDpub25lO30KPC9zdHlsZT4KPHBhdGggZD0iTTUuMiw1LjlMOSw5LjdsMy44LTMuOGwxLjIsMS4ybC00LjksNWwtNC45LTVMNS4yLDUuOXoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTAtMC42aDE4djE4SDBWLTAuNnoiLz4KPC9zdmc+Cg");\n    --jp-widgets-input-color: var(--jp-ui-font-color1);\n    --jp-widgets-input-background-color: var(--jp-layout-color1);\n    --jp-widgets-input-border-color: var(--jp-border-color1);\n    --jp-widgets-input-focus-border-color: var(--jp-brand-color2);\n    --jp-widgets-input-border-width: var(--jp-widgets-border-width);\n    --jp-widgets-disabled-opacity: 0.6;\n\n    /* From Material Design Lite */\n    --md-shadow-key-umbra-opacity: 0.2;\n    --md-shadow-key-penumbra-opacity: 0.14;\n    --md-shadow-ambient-shadow-opacity: 0.12;\n}\n\n.jupyter-widgets {\n    margin: var(--jp-widgets-margin);\n    box-sizing: border-box;\n    color: var(--jp-widgets-color);\n    overflow: visible;\n}\n\n.jupyter-widgets.jupyter-widgets-disconnected::before {\n    line-height: var(--jp-widgets-inline-height);\n    height: var(--jp-widgets-inline-height);\n}\n\n.jp-Output-result > .jupyter-widgets {\n    margin-left: 0;\n    margin-right: 0;\n}\n\n/* vbox and hbox */\n\n.widget-inline-hbox {\n    /* Horizontal widgets */\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: row;\n    align-items: baseline;\n}\n\n.widget-inline-vbox {\n    /* Vertical Widgets */\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.widget-box {\n    box-sizing: border-box;\n    display: flex;\n    margin: 0;\n    overflow: auto;\n}\n\n.widget-gridbox {\n    box-sizing: border-box;\n    display: grid;\n    margin: 0;\n    overflow: auto;\n}\n\n.widget-hbox {\n    flex-direction: row;\n}\n\n.widget-vbox {\n    flex-direction: column;\n}\n\n/* General Button Styling */\n\n.jupyter-button {\n    padding-left: 10px;\n    padding-right: 10px;\n    padding-top: 0px;\n    padding-bottom: 0px;\n    display: inline-block;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    text-align: center;\n    font-size: var(--jp-widgets-font-size);\n    cursor: pointer;\n\n    height: var(--jp-widgets-inline-height);\n    border: 0px solid;\n    line-height: var(--jp-widgets-inline-height);\n    box-shadow: none;\n\n    color: var(--jp-ui-font-color1);\n    background-color: var(--jp-layout-color2);\n    border-color: var(--jp-border-color2);\n    border: none;\n}\n\n.jupyter-button i.fa {\n    margin-right: var(--jp-widgets-inline-margin);\n    pointer-events: none;\n}\n\n.jupyter-button:empty:before {\n    content: "\\200B"; /* zero-width space */\n}\n\n.jupyter-widgets.jupyter-button:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n.jupyter-button i.fa.center {\n    margin-right: 0;\n}\n\n.jupyter-button:hover:enabled, .jupyter-button:focus:enabled {\n    /* MD Lite 2dp shadow */\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, var(--md-shadow-key-penumbra-opacity)),\n                0 3px 1px -2px rgba(0, 0, 0, var(--md-shadow-key-umbra-opacity)),\n                0 1px 5px 0 rgba(0, 0, 0, var(--md-shadow-ambient-shadow-opacity));\n}\n\n.jupyter-button:active, .jupyter-button.mod-active {\n    /* MD Lite 4dp shadow */\n    box-shadow: 0 4px 5px 0 rgba(0, 0, 0, var(--md-shadow-key-penumbra-opacity)),\n                0 1px 10px 0 rgba(0, 0, 0, var(--md-shadow-ambient-shadow-opacity)),\n                0 2px 4px -1px rgba(0, 0, 0, var(--md-shadow-key-umbra-opacity));\n    color: var(--jp-ui-font-color1);\n    background-color: var(--jp-layout-color3);\n}\n\n.jupyter-button:focus:enabled {\n    outline: 1px solid var(--jp-widgets-input-focus-border-color);\n}\n\n/* Button "Primary" Styling */\n\n.jupyter-button.mod-primary {\n    color: var(--jp-inverse-ui-font-color1);\n    background-color: var(--jp-brand-color1);\n}\n\n.jupyter-button.mod-primary.mod-active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-brand-color0);\n}\n\n.jupyter-button.mod-primary:active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-brand-color0);\n}\n\n/* Button "Success" Styling */\n\n.jupyter-button.mod-success {\n    color: var(--jp-inverse-ui-font-color1);\n    background-color: var(--jp-success-color1);\n}\n\n.jupyter-button.mod-success.mod-active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-success-color0);\n }\n\n.jupyter-button.mod-success:active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-success-color0);\n }\n\n /* Button "Info" Styling */\n\n.jupyter-button.mod-info {\n    color: var(--jp-inverse-ui-font-color1);\n    background-color: var(--jp-info-color1);\n}\n\n.jupyter-button.mod-info.mod-active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-info-color0);\n}\n\n.jupyter-button.mod-info:active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-info-color0);\n}\n\n/* Button "Warning" Styling */\n\n.jupyter-button.mod-warning {\n    color: var(--jp-inverse-ui-font-color1);\n    background-color: var(--jp-warn-color1);\n}\n\n.jupyter-button.mod-warning.mod-active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-warn-color0);\n}\n\n.jupyter-button.mod-warning:active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-warn-color0);\n}\n\n/* Button "Danger" Styling */\n\n.jupyter-button.mod-danger {\n    color: var(--jp-inverse-ui-font-color1);\n    background-color: var(--jp-error-color1);\n}\n\n.jupyter-button.mod-danger.mod-active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-error-color0);\n}\n\n.jupyter-button.mod-danger:active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-error-color0);\n}\n\n/* Widget Button*/\n\n.widget-button, .widget-toggle-button {\n    width: var(--jp-widgets-inline-width-short);\n}\n\n/* Widget Label Styling */\n\n/* Override Bootstrap label css */\n.jupyter-widgets label {\n    margin-bottom: initial;\n}\n\n.widget-label-basic {\n    /* Basic Label */\n    color: var(--jp-widgets-label-color);\n    font-size: var(--jp-widgets-font-size);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-label {\n    /* Label */\n    color: var(--jp-widgets-label-color);\n    font-size: var(--jp-widgets-font-size);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-inline-hbox .widget-label {\n    /* Horizontal Widget Label */\n    color: var(--jp-widgets-label-color);\n    text-align: right;\n    margin-right: calc( var(--jp-widgets-inline-margin) * 2 );\n    width: var(--jp-widgets-inline-label-width);\n    flex-shrink: 0;\n}\n\n.widget-inline-vbox .widget-label {\n    /* Vertical Widget Label */\n    color: var(--jp-widgets-label-color);\n    text-align: center;\n    line-height: var(--jp-widgets-inline-height);\n}\n\n/* Widget Readout Styling */\n\n.widget-readout {\n    color: var(--jp-widgets-readout-color);\n    font-size: var(--jp-widgets-font-size);\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n    overflow: hidden;\n    white-space: nowrap;\n    text-align: center;\n}\n\n.widget-readout.overflow {\n    /* Overflowing Readout */\n\n    /* From Material Design Lite\n        shadow-key-umbra-opacity: 0.2;\n        shadow-key-penumbra-opacity: 0.14;\n        shadow-ambient-shadow-opacity: 0.12;\n     */\n    -webkit-box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2),\n                        0 3px 1px -2px rgba(0, 0, 0, 0.14),\n                        0 1px 5px 0 rgba(0, 0, 0, 0.12);\n\n    -moz-box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2),\n                     0 3px 1px -2px rgba(0, 0, 0, 0.14),\n                     0 1px 5px 0 rgba(0, 0, 0, 0.12);\n\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2),\n                0 3px 1px -2px rgba(0, 0, 0, 0.14),\n                0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n\n.widget-inline-hbox .widget-readout {\n    /* Horizontal Readout */\n    text-align: center;\n    max-width: var(--jp-widgets-inline-width-short);\n    min-width: var(--jp-widgets-inline-width-tiny);\n    margin-left: var(--jp-widgets-inline-margin);\n}\n\n.widget-inline-vbox .widget-readout {\n    /* Vertical Readout */\n    margin-top: var(--jp-widgets-inline-margin);\n    /* as wide as the widget */\n    width: inherit;\n}\n\n/* Widget Checkbox Styling */\n\n.widget-checkbox {\n    width: var(--jp-widgets-inline-width);\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-checkbox input[type="checkbox"] {\n    margin: 0px calc( var(--jp-widgets-inline-margin) * 2 ) 0px 0px;\n    line-height: var(--jp-widgets-inline-height);\n    font-size: large;\n    flex-grow: 1;\n    flex-shrink: 0;\n    align-self: center;\n}\n\n/* Widget Valid Styling */\n\n.widget-valid {\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n    width: var(--jp-widgets-inline-width-short);\n    font-size: var(--jp-widgets-font-size);\n}\n\n.widget-valid i:before {\n    line-height: var(--jp-widgets-inline-height);\n    margin-right: var(--jp-widgets-inline-margin);\n    margin-left: var(--jp-widgets-inline-margin);\n\n    /* from the fa class in FontAwesome: https://github.com/FortAwesome/Font-Awesome/blob/49100c7c3a7b58d50baa71efef11af41a66b03d3/css/font-awesome.css#L14 */\n    display: inline-block;\n    font: normal normal normal 14px/1 FontAwesome;\n    font-size: inherit;\n    text-rendering: auto;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.widget-valid.mod-valid i:before {\n    content: "\\F00C";\n    color: green;\n}\n\n.widget-valid.mod-invalid i:before {\n    content: "\\F00D";\n    color: red;\n}\n\n.widget-valid.mod-valid .widget-valid-readout {\n    display: none;\n}\n\n/* Widget Text and TextArea Stying */\n\n.widget-textarea, .widget-text {\n    width: var(--jp-widgets-inline-width);\n}\n\n.widget-text input[type="text"], .widget-text input[type="number"]{\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-text input[type="text"]:disabled, .widget-text input[type="number"]:disabled, .widget-textarea textarea:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n.widget-text input[type="text"], .widget-text input[type="number"], .widget-textarea textarea {\n    box-sizing: border-box;\n    border: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n    background-color: var(--jp-widgets-input-background-color);\n    color: var(--jp-widgets-input-color);\n    font-size: var(--jp-widgets-font-size);\n    padding: var(--jp-widgets-input-padding) calc( var(--jp-widgets-input-padding) *  2 );\n    flex-grow: 1;\n    min-width: 0; /* This makes it possible for the flexbox to shrink this input */\n    flex-shrink: 1;\n    outline: none !important;\n}\n\n.widget-textarea textarea {\n    height: inherit;\n    width: inherit;\n}\n\n.widget-text input:focus, .widget-textarea textarea:focus {\n    border-color: var(--jp-widgets-input-focus-border-color);\n}\n\n/* Widget Slider */\n\n.widget-slider .ui-slider {\n    /* Slider Track */\n    border: var(--jp-widgets-slider-border-width) solid var(--jp-layout-color3);\n    background: var(--jp-layout-color3);\n    box-sizing: border-box;\n    position: relative;\n    border-radius: 0px;\n}\n\n.widget-slider .ui-slider .ui-slider-handle {\n    /* Slider Handle */\n    outline: none !important; /* focused slider handles are colored - see below */\n    position: absolute;\n    background-color: var(--jp-widgets-slider-handle-background-color);\n    border: var(--jp-widgets-slider-border-width) solid var(--jp-widgets-slider-handle-border-color);\n    box-sizing: border-box;\n    z-index: 1;\n    background-image: none; /* Override jquery-ui */\n}\n\n/* Override jquery-ui */\n.widget-slider .ui-slider .ui-slider-handle:hover, .widget-slider .ui-slider .ui-slider-handle:focus {\n    background-color: var(--jp-widgets-slider-active-handle-color);\n    border: var(--jp-widgets-slider-border-width) solid var(--jp-widgets-slider-active-handle-color);\n}\n\n.widget-slider .ui-slider .ui-slider-handle:active {\n    background-color: var(--jp-widgets-slider-active-handle-color);\n    border-color: var(--jp-widgets-slider-active-handle-color);\n    z-index: 2;\n    transform: scale(1.2);\n}\n\n.widget-slider  .ui-slider .ui-slider-range {\n    /* Interval between the two specified value of a double slider */\n    position: absolute;\n    background: var(--jp-widgets-slider-active-handle-color);\n    z-index: 0;\n}\n\n/* Shapes of Slider Handles */\n\n.widget-hslider .ui-slider .ui-slider-handle {\n    width: var(--jp-widgets-slider-handle-size);\n    height: var(--jp-widgets-slider-handle-size);\n    margin-top: calc((var(--jp-widgets-slider-track-thickness) - var(--jp-widgets-slider-handle-size)) / 2 - var(--jp-widgets-slider-border-width));\n    margin-left: calc(var(--jp-widgets-slider-handle-size) / -2 + var(--jp-widgets-slider-border-width));\n    border-radius: 50%;\n    top: 0;\n}\n\n.widget-vslider .ui-slider .ui-slider-handle {\n    width: var(--jp-widgets-slider-handle-size);\n    height: var(--jp-widgets-slider-handle-size);\n    margin-bottom: calc(var(--jp-widgets-slider-handle-size) / -2 + var(--jp-widgets-slider-border-width));\n    margin-left: calc((var(--jp-widgets-slider-track-thickness) - var(--jp-widgets-slider-handle-size)) / 2 - var(--jp-widgets-slider-border-width));\n    border-radius: 50%;\n    left: 0;\n}\n\n.widget-hslider .ui-slider .ui-slider-range {\n    height: calc( var(--jp-widgets-slider-track-thickness) * 2 );\n    margin-top: calc((var(--jp-widgets-slider-track-thickness) - var(--jp-widgets-slider-track-thickness) * 2 ) / 2 - var(--jp-widgets-slider-border-width));\n}\n\n.widget-vslider .ui-slider .ui-slider-range {\n    width: calc( var(--jp-widgets-slider-track-thickness) * 2 );\n    margin-left: calc((var(--jp-widgets-slider-track-thickness) - var(--jp-widgets-slider-track-thickness) * 2 ) / 2 - var(--jp-widgets-slider-border-width));\n}\n\n/* Horizontal Slider */\n\n.widget-hslider {\n    width: var(--jp-widgets-inline-width);\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n\n    /* Override the align-items baseline. This way, the description and readout\n    still seem to align their baseline properly, and we don\'t have to have\n    align-self: stretch in the .slider-container. */\n    align-items: center;\n}\n\n.widgets-slider .slider-container {\n    overflow: visible;\n}\n\n.widget-hslider .slider-container {\n    height: var(--jp-widgets-inline-height);\n    margin-left: calc(var(--jp-widgets-slider-handle-size) / 2 - 2 * var(--jp-widgets-slider-border-width));\n    margin-right: calc(var(--jp-widgets-slider-handle-size) / 2 - 2 * var(--jp-widgets-slider-border-width));\n    flex: 1 1 var(--jp-widgets-inline-width-short);\n}\n\n.widget-hslider .ui-slider {\n    /* Inner, invisible slide div */\n    height: var(--jp-widgets-slider-track-thickness);\n    margin-top: calc((var(--jp-widgets-inline-height) - var(--jp-widgets-slider-track-thickness)) / 2);\n    width: 100%;\n}\n\n/* Vertical Slider */\n\n.widget-vbox .widget-label {\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-vslider {\n    /* Vertical Slider */\n    height: var(--jp-widgets-vertical-height);\n    width: var(--jp-widgets-inline-width-tiny);\n}\n\n.widget-vslider .slider-container {\n    flex: 1 1 var(--jp-widgets-inline-width-short);\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: calc(var(--jp-widgets-slider-handle-size) / 2 - 2 * var(--jp-widgets-slider-border-width));\n    margin-top: calc(var(--jp-widgets-slider-handle-size) / 2 - 2 * var(--jp-widgets-slider-border-width));\n    display: flex;\n    flex-direction: column;\n}\n\n.widget-vslider .ui-slider-vertical {\n    /* Inner, invisible slide div */\n    width: var(--jp-widgets-slider-track-thickness);\n    flex-grow: 1;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n/* Widget Progress Styling */\n\n.progress-bar {\n    -webkit-transition: none;\n    -moz-transition: none;\n    -ms-transition: none;\n    -o-transition: none;\n    transition: none;\n}\n\n.progress-bar {\n    height: var(--jp-widgets-inline-height);\n}\n\n.progress-bar {\n    background-color: var(--jp-brand-color1);\n}\n\n.progress-bar-success {\n    background-color: var(--jp-success-color1);\n}\n\n.progress-bar-info {\n    background-color: var(--jp-info-color1);\n}\n\n.progress-bar-warning {\n    background-color: var(--jp-warn-color1);\n}\n\n.progress-bar-danger {\n    background-color: var(--jp-error-color1);\n}\n\n.progress {\n    background-color: var(--jp-layout-color2);\n    border: none;\n    box-shadow: none;\n}\n\n/* Horisontal Progress */\n\n.widget-hprogress {\n    /* Progress Bar */\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n    width: var(--jp-widgets-inline-width);\n    align-items: center;\n\n}\n\n.widget-hprogress .progress {\n    flex-grow: 1;\n    margin-top: var(--jp-widgets-input-padding);\n    margin-bottom: var(--jp-widgets-input-padding);\n    align-self: stretch;\n    /* Override bootstrap style */\n    height: initial;\n}\n\n/* Vertical Progress */\n\n.widget-vprogress {\n    height: var(--jp-widgets-vertical-height);\n    width: var(--jp-widgets-inline-width-tiny);\n}\n\n.widget-vprogress .progress {\n    flex-grow: 1;\n    width: var(--jp-widgets-progress-thickness);\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 0;\n}\n\n/* Select Widget Styling */\n\n.widget-dropdown {\n    height: var(--jp-widgets-inline-height);\n    width: var(--jp-widgets-inline-width);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-dropdown > select {\n    padding-right: 20px;\n    border: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n    border-radius: 0;\n    height: inherit;\n    flex: 1 1 var(--jp-widgets-inline-width-short);\n    min-width: 0; /* This makes it possible for the flexbox to shrink this input */\n    box-sizing: border-box;\n    outline: none !important;\n    box-shadow: none;\n    background-color: var(--jp-widgets-input-background-color);\n    color: var(--jp-widgets-input-color);\n    font-size: var(--jp-widgets-font-size);\n    vertical-align: top;\n    padding-left: calc( var(--jp-widgets-input-padding) * 2);\n\tappearance: none;\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n    background-repeat: no-repeat;\n\tbackground-size: 20px;\n\tbackground-position: right center;\n    background-image: var(--jp-widgets-dropdown-arrow);\n}\n.widget-dropdown > select:focus {\n    border-color: var(--jp-widgets-input-focus-border-color);\n}\n\n.widget-dropdown > select:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n/* To disable the dotted border in Firefox around select controls.\n   See http://stackoverflow.com/a/18853002 */\n.widget-dropdown > select:-moz-focusring {\n    color: transparent;\n    text-shadow: 0 0 0 #000;\n}\n\n/* Select and SelectMultiple */\n\n.widget-select {\n    width: var(--jp-widgets-inline-width);\n    line-height: var(--jp-widgets-inline-height);\n\n    /* Because Firefox defines the baseline of a select as the bottom of the\n    control, we align the entire control to the top and add padding to the\n    select to get an approximate first line baseline alignment. */\n    align-items: flex-start;\n}\n\n.widget-select > select {\n    border: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n    background-color: var(--jp-widgets-input-background-color);\n    color: var(--jp-widgets-input-color);\n    font-size: var(--jp-widgets-font-size);\n    flex: 1 1 var(--jp-widgets-inline-width-short);\n    outline: none !important;\n    overflow: auto;\n    height: inherit;\n\n    /* Because Firefox defines the baseline of a select as the bottom of the\n    control, we align the entire control to the top and add padding to the\n    select to get an approximate first line baseline alignment. */\n    padding-top: 5px;\n}\n\n.widget-select > select:focus {\n    border-color: var(--jp-widgets-input-focus-border-color);\n}\n\n.wiget-select > select > option {\n    padding-left: var(--jp-widgets-input-padding);\n    line-height: var(--jp-widgets-inline-height);\n    /* line-height doesn\'t work on some browsers for select options */\n    padding-top: calc(var(--jp-widgets-inline-height)-var(--jp-widgets-font-size)/2);\n    padding-bottom: calc(var(--jp-widgets-inline-height)-var(--jp-widgets-font-size)/2);\n}\n\n\n\n/* Toggle Buttons Styling */\n\n.widget-toggle-buttons {\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-toggle-buttons .widget-toggle-button {\n    margin-left: var(--jp-widgets-margin);\n    margin-right: var(--jp-widgets-margin);\n}\n\n.widget-toggle-buttons .jupyter-button:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n/* Radio Buttons Styling */\n\n.widget-radio {\n    width: var(--jp-widgets-inline-width);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-radio-box {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    box-sizing: border-box;\n    flex-grow: 1;\n    margin-bottom: var(--jp-widgets-radio-item-height-adjustment);\n}\n\n.widget-radio-box label {\n    height: var(--jp-widgets-radio-item-height);\n    line-height: var(--jp-widgets-radio-item-height);\n    font-size: var(--jp-widgets-font-size);\n}\n\n.widget-radio-box input {\n    height: var(--jp-widgets-radio-item-height);\n    line-height: var(--jp-widgets-radio-item-height);\n    margin: 0 calc( var(--jp-widgets-input-padding) * 2 ) 0 1px;\n    float: left;\n}\n\n/* Color Picker Styling */\n\n.widget-colorpicker {\n    width: var(--jp-widgets-inline-width);\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-colorpicker > .widget-colorpicker-input {\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: var(--jp-widgets-inline-width-tiny);\n}\n\n.widget-colorpicker input[type="color"] {\n    width: var(--jp-widgets-inline-height);\n    height: var(--jp-widgets-inline-height);\n    padding: 0 2px; /* make the color square actually square on Chrome on OS X */\n    background: var(--jp-widgets-input-background-color);\n    color: var(--jp-widgets-input-color);\n    border: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n    border-left: none;\n    flex-grow: 0;\n    flex-shrink: 0;\n    box-sizing: border-box;\n    align-self: stretch;\n    outline: none !important;\n}\n\n.widget-colorpicker.concise input[type="color"] {\n    border-left: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n}\n\n.widget-colorpicker input[type="color"]:focus, .widget-colorpicker input[type="text"]:focus {\n    border-color: var(--jp-widgets-input-focus-border-color);\n}\n\n.widget-colorpicker input[type="text"] {\n    flex-grow: 1;\n    outline: none !important;\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n    background: var(--jp-widgets-input-background-color);\n    color: var(--jp-widgets-input-color);\n    border: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n    font-size: var(--jp-widgets-font-size);\n    padding: var(--jp-widgets-input-padding) calc( var(--jp-widgets-input-padding) *  2 );\n    min-width: 0; /* This makes it possible for the flexbox to shrink this input */\n    flex-shrink: 1;\n    box-sizing: border-box;\n}\n\n.widget-colorpicker input[type="text"]:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n/* Date Picker Styling */\n\n.widget-datepicker {\n    width: var(--jp-widgets-inline-width);\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-datepicker input[type="date"] {\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: 0; /* This makes it possible for the flexbox to shrink this input */\n    outline: none !important;\n    height: var(--jp-widgets-inline-height);\n    border: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n    background-color: var(--jp-widgets-input-background-color);\n    color: var(--jp-widgets-input-color);\n    font-size: var(--jp-widgets-font-size);\n    padding: var(--jp-widgets-input-padding) calc( var(--jp-widgets-input-padding) *  2 );\n    box-sizing: border-box;\n}\n\n.widget-datepicker input[type="date"]:focus {\n    border-color: var(--jp-widgets-input-focus-border-color);\n}\n\n.widget-datepicker input[type="date"]:invalid {\n    border-color: var(--jp-warn-color1);\n}\n\n.widget-datepicker input[type="date"]:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n/* Play Widget */\n\n.widget-play {\n    width: var(--jp-widgets-inline-width-short);\n    display: flex;\n    align-items: stretch;\n}\n\n.widget-play .jupyter-button {\n    flex-grow: 1;\n    height: auto;\n}\n\n.widget-play .jupyter-button:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n/* Tab Widget */\n\n.jupyter-widgets.widget-tab {\n    display: flex;\n    flex-direction: column;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar {\n    /* Necessary so that a tab can be shifted down to overlay the border of the box below. */\n    overflow-x: visible;\n    overflow-y: visible;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar > .p-TabBar-content {\n    /* Make sure that the tab grows from bottom up */\n    align-items: flex-end;\n    min-width: 0;\n    min-height: 0;\n}\n\n.jupyter-widgets.widget-tab > .widget-tab-contents {\n    width: 100%;\n    box-sizing: border-box;\n    margin: 0;\n    background: var(--jp-layout-color1);\n    color: var(--jp-ui-font-color1);\n    border: var(--jp-border-width) solid var(--jp-border-color1);\n    padding: var(--jp-widgets-container-padding);\n    flex-grow: 1;\n    overflow: auto;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar {\n    font: var(--jp-widgets-font-size) Helvetica, Arial, sans-serif;\n    min-height: calc(var(--jp-widgets-horizontal-tab-height) + var(--jp-border-width));\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab {\n    flex: 0 1 var(--jp-widgets-horizontal-tab-width);\n    min-width: 35px;\n    min-height: calc(var(--jp-widgets-horizontal-tab-height) + var(--jp-border-width));\n    line-height: var(--jp-widgets-horizontal-tab-height);\n    margin-left: calc(-1 * var(--jp-border-width));\n    padding: 0px 10px;\n    background: var(--jp-layout-color2);\n    color: var(--jp-ui-font-color2);\n    border: var(--jp-border-width) solid var(--jp-border-color1);\n    border-bottom: none;\n    position: relative;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab.p-mod-current {\n    color: var(--jp-ui-font-color0);\n    /* We want the background to match the tab content background */\n    background: var(--jp-layout-color1);\n    min-height: calc(var(--jp-widgets-horizontal-tab-height) + 2 * var(--jp-border-width));\n    transform: translateY(var(--jp-border-width));\n    overflow: visible;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab.p-mod-current:before {\n    position: absolute;\n    top: calc(-1 * var(--jp-border-width));\n    left: calc(-1 * var(--jp-border-width));\n    content: \'\';\n    height: var(--jp-widgets-horizontal-tab-top-border);\n    width: calc(100% + 2 * var(--jp-border-width));\n    background: var(--jp-brand-color1);\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab:first-child {\n    margin-left: 0;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab:hover:not(.p-mod-current) {\n    background: var(--jp-layout-color1);\n    color: var(--jp-ui-font-color1);\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-mod-closable > .p-TabBar-tabCloseIcon {\n    margin-left: 4px;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-mod-closable > .p-TabBar-tabCloseIcon:before {\n    font-family: FontAwesome;\n    content: \'\\F00D\'; /* close */\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tabIcon,\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tabLabel,\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tabCloseIcon {\n    line-height: var(--jp-widgets-horizontal-tab-height);\n}\n\n/* Accordion Widget */\n\n.p-Collapse {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n}\n\n.p-Collapse-header {\n    padding: var(--jp-widgets-input-padding);\n    cursor: pointer;\n    color: var(--jp-ui-font-color2);\n    background-color: var(--jp-layout-color2);\n    border: var(--jp-widgets-border-width) solid var(--jp-border-color1);\n    padding: calc(var(--jp-widgets-container-padding) * 2 / 3) var(--jp-widgets-container-padding);\n    font-weight: bold;\n}\n\n.p-Collapse-header:hover {\n    background-color: var(--jp-layout-color1);\n    color: var(--jp-ui-font-color1);\n}\n\n.p-Collapse-open > .p-Collapse-header {\n    background-color: var(--jp-layout-color1);\n    color: var(--jp-ui-font-color0);\n    cursor: default;\n    border-bottom: none;\n}\n\n.p-Collapse .p-Collapse-header::before {\n    content: \'\\F0DA\\A0\';  /* caret-right, non-breaking space */\n    display: inline-block;\n    font: normal normal normal 14px/1 FontAwesome;\n    font-size: inherit;\n    text-rendering: auto;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.p-Collapse-open > .p-Collapse-header::before {\n    content: \'\\F0D7\\A0\'; /* caret-down, non-breaking space */\n}\n\n.p-Collapse-contents {\n    padding: var(--jp-widgets-container-padding);\n    background-color: var(--jp-layout-color1);\n    color: var(--jp-ui-font-color1);\n    border-left: var(--jp-widgets-border-width) solid var(--jp-border-color1);\n    border-right: var(--jp-widgets-border-width) solid var(--jp-border-color1);\n    border-bottom: var(--jp-widgets-border-width) solid var(--jp-border-color1);\n    overflow: auto;\n}\n\n.p-Accordion {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n}\n\n.p-Accordion .p-Collapse {\n    margin-bottom: 0;\n}\n\n.p-Accordion .p-Collapse + .p-Collapse {\n    margin-top: 4px;\n}\n\n\n\n/* HTML widget */\n\n.widget-html, .widget-htmlmath {\n    font-size: var(--jp-widgets-font-size);\n}\n\n.widget-html > .widget-html-content, .widget-htmlmath > .widget-html-content {\n    /* Fill out the area in the HTML widget */\n    align-self: stretch;\n    flex-grow: 1;\n    flex-shrink: 1;\n    /* Makes sure the baseline is still aligned with other elements */\n    line-height: var(--jp-widgets-inline-height);\n    /* Make it possible to have absolutely-positioned elements in the html */\n    position: relative;\n}\n',""])},function(t,e,n){(t.exports=n(23)(!1)).push([t.i,"/* This file has code derived from PhosphorJS CSS files, as noted below. The license for this PhosphorJS code is:\n\nCopyright (c) 2014-2017, PhosphorJS Contributors\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the copyright holder nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n*/\n\n/*\n * The following section is derived from https://github.com/phosphorjs/phosphor/blob/23b9d075ebc5b73ab148b6ebfc20af97f85714c4/packages/widgets/style/tabbar.css \n * We've scoped the rules so that they are consistent with exactly our code.\n */\n\n.jupyter-widgets.widget-tab > .p-TabBar {\n  display: flex;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar[data-orientation='horizontal'] {\n  flex-direction: row;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar[data-orientation='vertical'] {\n  flex-direction: column;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar > .p-TabBar-content {\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex: 1 1 auto;\n  list-style-type: none;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar[data-orientation='horizontal'] > .p-TabBar-content {\n  flex-direction: row;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar[data-orientation='vertical'] > .p-TabBar-content {\n  flex-direction: column;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab {\n  display: flex;\n  flex-direction: row;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tabIcon,\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tabCloseIcon {\n  flex: 0 0 auto;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tabLabel {\n  flex: 1 1 auto;\n  overflow: hidden;\n  white-space: nowrap;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab.p-mod-hidden {\n  display: none !important;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar.p-mod-dragging .p-TabBar-tab {\n  position: relative;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar.p-mod-dragging[data-orientation='horizontal'] .p-TabBar-tab {\n  left: 0;\n  transition: left 150ms ease;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar.p-mod-dragging[data-orientation='vertical'] .p-TabBar-tab {\n  top: 0;\n  transition: top 150ms ease;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar.p-mod-dragging .p-TabBar-tab.p-mod-dragging {\n  transition: none;\n}\n\n/* End tabbar.css */\n",""])},function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"OutputModel",function(){return S}),n.d(i,"OutputView",function(){return C});n(190),n(195),n(198),n(213);var r=n(187),o=n.n(r),s=n(15),a=n(188),l=n(99),u=n(11),c=n(2),h=n(189);const d=t=>(t.includes("localhost")?"ws:":"wss:")+t.split(":").slice(1).join(":"),f=()=>document.querySelectorAll(".code_cell"),p=t=>t.querySelector(".input_area").textContent.trim(),_=t=>null!==t.querySelector(".output_widget_view"),g=t=>t.querySelector(".output_widget_view"),m=(t=document)=>t.querySelectorAll(".js-nbinteract-widget"),v=(t,e=document)=>{m(e).forEach(e=>{e.innerHTML=t})},y=(t,e=document)=>{m(e).forEach(e=>{e.disabled=!0;const n=document.createElement("pre");n.innerText=t,n.style.cssText="text-align: left; font-size: 0.9em;",e.innerHTML="",e.appendChild(n)})},b=(t=document)=>{m(t).forEach(t=>t.remove())},w=t=>"error"===t.msg_type,x=async(t,e)=>{if(!s.KernelMessage.isDisplayDataMsg(t))return!1;const n=t.content.data["application/vnd.jupyter.widget-view+json"];return void 0!==n&&2===n.version_major&&await e.get_model(n.model_id)};var k=n(68),M=n(50),E=n(49);const j=new E.RenderMimeRegistry({initialFactories:E.standardRendererFactories});class S extends k.OutputModel{defaults(){const t=super.defaults();return t.msg_id="",t}initialize(t,e){super.initialize(t,e),this._outputs=new M.OutputAreaModel({trusted:!0}),this.listenTo(this,"change:msg_id",this.reset_msg_id),this.reset_msg_id()}reset_msg_id(){this._msgHook&&this._msgHook.dispose(),this._msgHook=null;let t=this.widget_manager.kernel;this.get("msg_id")&&t&&(this._msgHook=t.registerMessageHook(this.get("msg_id"),t=>(this.add(t),!1)))}add(t){let e=t.header.msg_type;switch(e){case"execute_result":case"display_data":case"stream":case"error":let n=t.content;n.output_type=e,this._outputs.add(n);break;case"clear_output":this.clear_output(t.content.wait)}}clear_output(t=!1){this._outputs.clear(t)}get outputs(){return this._outputs}}class C extends k.OutputView{_createElement(t){return this.pWidget=new u.Panel,this.pWidget.node}_setElement(t){if(this.el||t!==this.pWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.pWidget.node}render(){this._outputView=new M.OutputArea({rendermime:j,contentFactory:M.OutputArea.defaultContentFactory,model:this.model.outputs}),this.pWidget.insertWidget(0,this._outputView),this.pWidget.addClass("jupyter-widgets"),this.pWidget.addClass("widget-output"),this.update()}remove(){return this._outputView.dispose(),super.remove()}}n(516);class A extends a.HTMLManager{constructor(t){super(),this.generateWidgets=this.generateWidgets.bind(this),this._displayWidget=this._displayWidget.bind(this),this.setKernel(t)}setKernel(t){Object.values(this._models).forEach(async t=>{(await t).close(!0)}),this._models={},this.kernel&&this.kernel.dispose(),this.kernel=t,this._registerKernel(t)}generateWidgets(){f().forEach((t,e)=>{const n=p(t);this.kernel.requestExecute({code:n}).onIOPub=(e=>this._displayWidget(t,e))})}async _displayWidget(t,e){if(w(e)){const n=p(t),i=e.content.traceback.join("\n").replace(/\u001b\[.*?m/g,"");console.error(`${n}\n${i}`.trim()),_(t)&&y(i,t)}if(!_(t))return;const n=await x(e,this);if(n){b();const i=g(t);this.display_model(e,n,{el:i})}}_registerKernel(t){this._commRegistration&&this._commRegistration.dispose(),t&&(this._commRegistration=t.registerCommTarget(this.comm_target_name,(t,e)=>{this.handle_comm_open(new c.shims.services.Comm(t),e)}))}display_view(t,e,{el:n}){return Promise.resolve(e).then(t=>(u.Widget.attach(t.pWidget,n),t.on("remove",()=>{console.log("View removed",t)}),t))}_create_comm(t,e,n,i){const r=this.kernel.connectToComm(t,e);return(n||i)&&r.open(n,i),Promise.resolve(new c.shims.services.Comm(r))}_get_comm_info(){return this.kernel.requestCommInfo({target:this.comm_target_name}).then(t=>t.content.comms)}loadClass(t,e,n){return"@jupyter-widgets/controls"===e?Promise.resolve(l[t]):"@jupyter-widgets/base"===e?Promise.resolve(c[t]):"@jupyter-widgets/output"===e?Promise.resolve(i[t]):"bqplot"===e?Promise.resolve(h[t]):new Promise(function(t,n){window.require([e],t,n)}).then(function(n){return n[t]?n[t]:Promise.reject("Class "+t+" not found in module "+e)})}}const O=new Set(["*","failed","built","waiting","building","fetching","pushing","launching","ready"]);class T{constructor({spec:t,baseUrl:e,provider:n,callbacks:i={},nbUrl:r=!1}={}){this.baseUrl=e,this.provider=n,this.spec=t,this.nbUrl=r,this.callbacks=i,this.state=null,this.registerCallback("*",(t,e,n)=>{void 0!==n.message?console.log(n.message):console.log(n)})}apiUrl(){return`${this.baseUrl}/build/${this.provider}/${this.spec}`}startServer(){return this.nbUrl?Promise.resolve({url:this.nbUrl}):new Promise((t,e)=>{const n=new EventSource(this.apiUrl());n.onerror=(t=>{console.error("Failed to connect to Binder. Stopping nbinteract...",t),n.close(),e(new Error(t))}),n.onmessage=(t=>{const e=JSON.parse(t.data);e.phase&&this.changeState(e.phase.toLowerCase(),e)}),this.registerCallback("failed",(t,i,r)=>{console.error("Failed to build Binder image. Stopping nbinteract...",r),n.close(),e(new Error(r))}),this.registerCallback("ready",(e,i,r)=>{n.close(),t(r)})})}registerCallback(t,e){O.has(t)?void 0===this.callbacks[t]?this.callbacks[t]=[e]:this.callbacks[t].push(e):console.error(`Tried to register callback on invalid state: ${t}`)}changeState(t,e){[t,"*"].map(n=>{const i=this.callbacks[n];i&&i.forEach(n=>n(this.state,t,e))}),t&&(this.state=t)}}const P="https://mybinder.org",D="gh",L="SamLau95/nbinteract-image/master";class R{constructor({spec:t=L,baseUrl:e=P,provider:n=D,nbUrl:i=!1}={}){this.run=o()(this.run,500,{leading:!0,trailing:!1}),this._kernelHeartbeat=this._kernelHeartbeat.bind(this),this.binder=new T({spec:t,baseUrl:e,provider:n,nbUrl:i}),this.kernel=null,this.manager=null}async prepare(){v("Show Widgets"),this.binder.registerCallback("failed",(t,e,n)=>{y(`Error, try refreshing the page:<br>${n.message}`)}),m().forEach(t=>{t.addEventListener("click",t=>{this.run()})}),this.runIfKernelExists()}async run(){v("Initializing widgets..."),0===f().length&&b();const t=!this.kernel||!this.manager;try{this.kernel=await this._getOrStartKernel(),this.manager=this.manager||new A(this.kernel),this.manager.generateWidgets(),t&&this._kernelHeartbeat()}catch(t){throw console.log("Error in widget initialization :("),t}}async runIfKernelExists(){try{await this._getKernelModel()}catch(t){return void console.log("No kernel, stopping the runIfKernelExists() call. Use the","run() method to automatically start a kernel if needed.")}this.run()}async _kernelHeartbeat(t=5){try{await this._getKernelModel()}catch(t){console.log("Looks like the kernel died:",t.toString()),console.log("Starting a new kernel...");const e=await this._startKernel();this.kernel=e,this.manager.setKernel(e),this.manager.generateWidgets()}finally{setTimeout(this._kernelHeartbeat,1e3*t)}}async _getOrStartKernel(){if(this.kernel)return this.kernel;try{const t=await this._getKernel();return console.log("Connected to cached kernel."),t}catch(t){return console.log("No cached kernel, starting kernel on BinderHub:",t.toString()),await this._startKernel()}}async _getKernel(){const{serverSettings:t,kernelModel:e}=await this._getKernelModel();return await s.Kernel.connectTo(e,t)}async _getKernelModel(){const{serverParams:t,kernelId:e}=localStorage,{url:n,token:i}=JSON.parse(t),r=s.ServerConnection.makeSettings({baseUrl:n,wsUrl:d(n),token:i});return{serverSettings:r,kernelModel:await s.Kernel.findById(e,r)}}async _startKernel(){try{const{url:t,token:e}=await this.binder.startServer(),n=s.ServerConnection.makeSettings({baseUrl:t,wsUrl:d(t),token:e}),i=await s.Kernel.getSpecs(n),r=await s.Kernel.startNew({name:i.default,serverSettings:n});return localStorage.serverParams=JSON.stringify({url:t,token:e}),localStorage.kernelId=r.id,console.log("Started kernel:",r.id),r}catch(t){throw console.error("Error in kernel initialization :("),t}}async _killKernel(){return(await this._getKernel()).shutdown()}}"undefined"!=typeof window&&(window.NbInteract=R);e.default=R}]);
//# sourceMappingURL=index.bundle.js.map